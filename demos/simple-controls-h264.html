<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>Simple Controls Demo</title>
		<link class="ui-theme" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/redmond/jquery-ui.css"/>
		<link rel="stylesheet" href="../css/styles.css" />
		<link rel="stylesheet" href="holy-grail-player-style.css" />
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		
		<!-- ui-components -->
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>
		<!-- END:  ui-components -->
		<!-- for a11y-slider -->
		<script src="http://gist.github.com/raw/378712/a11y-slider%20for%20jquery%20ui"></script>
		<!-- END: for a11y-slider -->
		<script src="../packages/mm.full.min.js"></script>
		<!-- IE Fix -->
		<script>
			if(!$.support.opacity){
				var oldStyle = $.style;
				$.style = function(elem, name, value){
					var ret = oldStyle(elem, name, value);
					if(name === 'opacity' && value == 1){
						elem.style.filter = (elem.style.filter || '').replace('alpha(opacity=100)', '');
					}
					return ret;
				};
			}
		</script>
		<script>
			$('html').addClass('js-on');
			$(function(){
				$('html').addClass('js-ready');				
				$('div[data-controlwrapper]').registerMMControl({
					embed: {
						//debug: true,
						showFallback: true,
						removeControls: true,
						jwPlayer: {
							path: '../mediaplayers/jw-player/player.swf'
						}
					},
					// we use holy grail css
					mediaControls: {
						dynamicTimeslider: false
					}
				});
							
			});
			
		</script>
		
		<!-- lazy load themeswitcher -->
		<script> 
			(function($){
				var script;
				function startThemeswitcher(){
					if(!this.readyState || this.readyState == "loaded" || this.readyState == "complete"){
						$('<div class="demo-themeswitcher" />')
							.prependTo('body')
							.themeswitcher({
								height: 150,
								onSelect: function(){
									setTimeout(function(){
										$('video, audio').triggerHandler('resize');
									}, 1500);
								}
							});
						setTimeout(function(){
							$('video, audio').triggerHandler('resize');
						}, 1500);
						script.onload = null;
						script.onreadystatechange = null;
						script = null;
					}
				}
				$(window).load(function(){
					script = document.createElement('script');
					script.onload = startThemeswitcher;
					script.onreadystatechange = startThemeswitcher;
					script.src = 'http://ui.jquery.com/applications/themeroller/themeswitchertool/';
					document.getElementsByTagName('head')[0].appendChild(script);
				});
			})(jQuery);
		</script>
	</head>
	<body>
		
		 
		<div class="ui-media-player" data-controlwrapper="controlwrapper">
			
			<video poster="media/bbb_watchtrailer.gif" controls="controls" id="video-1">
				<source src="media/bbb_trailer_mobile.m4v"></source>
				<div class="fallback">
					<img src="media/bbb_watchtrailer.gif" alt="" />
					<div class="fallback-text">
						<p>Please use a webkit browser or install <a href="http://www.videolan.org/">VLC (check Mozilla Plugin)</a> or <a href="http://get.adobe.com/flashplayer/">Flash-Plugin</a></p>
						<ul>
							<li><a class="source" href="media/bbb_trailer_mobile.m4v">Big Buck Bunny (mp4)</a></li>
							<li><a class="source" href="media/bbb_trailer_400p.ogg">Big Buck Bunny (ogg)</a></li>
						</ul>
					</div>
				</div>
			</video>
			
			<div class="media-controls ui-widget ui-widget-header ui-corner-all">
				<a class="play-pause"><span class="ui-icon ui-icon-play"> </span><span class="button-text">play / pause</span></a>
				<div class="timeline-slider">
					<span class="ui-handle-label">play position</span>
					<div class="progressbar"></div>
				</div>
				<a class="mute-unmute"><span class="ui-icon ui-icon-volume-on"> </span><span class="button-text">mute / unmute</span></a>
				<div class="volume-slider"><span class="ui-handle-label">volume control</span></div>
				
			</div>
		</div>
		<p>(c) copyright Blender Foundation | <a href="http://www.bigbuckbunny.org">www.bigbuckbunny.org</a></p>
		<!--
		<button class="play-pause" data-controls="video-1"><span class="ui-icon ui-icon-play"> </span><span class="button-text">play / pause</span></button>
		-->	
	</body>
</html>
