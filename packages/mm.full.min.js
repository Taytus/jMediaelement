/**!
 * Part of the jMediaelement-Project vpre1.3 | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function w(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function x(c){if(a.support.mediaElements){var d=a.data(this,"mediaElemSupport");if(d&&d.apis){c&&c.type&&a.data(this,"calledMediaError",false);d=d.apis;c=this;var f=a.attr(this,"srces");if(c.error||f.length&&!d.nativ.canPlaySrces(f)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{c.pause()}catch(l){}}a("source",this).unbind("error",w).filter(":last").bind("error",
w)}}}function z(c){var d=c.indexOf("?"),f="";c=d>0?c.substring(0,d):c;d=c.lastIndexOf(".")+1;return f=c.substr(d)}function B(c,d){var f=c.nodeName.toLowerCase();d=s.getSuitedPlayers(c,d.apiOrder);var l=a.data(c,"mediaElemSupport");if(d){if(d!=="noSource")if(s._setAPIActive(c,d.name))l.apis[d.name]._mmload&&l.apis[d.name]._mmload(d.src,a.attr(c,"poster"));else s._embedApi(c,d,l,f)}else{l.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(n){}}}a.multimediaSupport={};var s=a.multimediaSupport,
j=(new Date).getTime(),h=document,q=a("<video />")[0],u=!("webkitPreservesPitch"in q&&a.browser.version<534&&(navigator.userAgent.indexOf("Chrome")!==-1||navigator.userAgent.indexOf("Mac")===-1));a.support.video=!!q.canPlayType;a.support.autoBuffer=!!("autobuffer"in q);a.support.audio=!!a("<audio />")[0].canPlayType;q=null;a("<source />");a("<track />");a.support.mediaElements=a.support.video&&a.support.audio;a.support.dynamicHTML5=!!a("<video><div></div></video>")[0].innerHTML;a.support.mediaLoop=
"loop"in a("<video />")[0];a.fixHTML5=function(){var c,d;return a.support.dynamicHTML5?function(f){return f}:function(f){if(!c){d=document.body;c=document.createElement("div");c.style.display="none"}var l=c.cloneNode(false);d.appendChild(l);l.innerHTML=f;d.removeChild(l);return l.childNodes}}();var b={left:"0px",position:"absolute",visibility:"hidden",display:"block"},e=function(c,d){var f=d.parentNode;d=document.body;for(var l={width:0,height:0};f&&f!==d;){if(a.curCSS(f,"display")==="none"){a.swap(f,
b,function(){var n=false;if(a.curCSS(f,"display",true)==="none"){f.style.display="";n=a.attr(f,"style");a.attr(f,"style",n+"; display: block !important;")}l.height=c.innerHeight();l.width=c.innerWidth();if(!l.width&&!l.height)l=e(c,f);n!==false&&a.attr(f,"style",n)});if(l.width||l.height)break}f=f.parentNode}return l},g=[];a.each(["Top","Left","Right","Bottom"],function(c,d){g.push("margin"+d);g.push("padding"+d);g.push("border"+d+"Width");setTimeout(function(){s._transferBackground.push("border"+
d+"Color");s._transferBackground.push("border"+d+"Style")},1)});a.fn.getDimensions=function(){var c={width:0,height:0};if(this[0]){var d=this,f=this[0].style;c.height=f.height;c.width=f.width;a.each(g,function(l,n){c[n]=f[n]||d.css(n)});if(!c.width||!c.height||c.height=="auto"||c.width=="auto"){c.height=this.innerHeight();c.width=this.innerWidth();if(!c.width&&!c.height)c=e(this,this[0])}}return c};var k=a.attr,i=/video|audio|source/i,m={src:1,poster:1},p={loop:1,autoplay:1,controls:1},r={srces:1,
getConfig:1,preload:1},y={auto:1,metadata:1,none:1};a.attr=function(c,d,f,l){if(!(c.nodeName&&i.test(c.nodeName)&&(r[d]||p[d]||m[d])))return k(c,d,f,l);var n;if(f===undefined){if(p[d])return typeof c[d]==="boolean"?c[d]:!!(c.attributes[d]||{}).specified;if(m[d])return a.support.video&&c[d]||s.makeAbsURI(c.getAttribute(d));switch(d){case "srces":if(n=a.attr(c,"src"))n=[{src:n,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{n=[];a("source",c).each(function(){n.push({src:a.attr(this,
"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});n.length||a("a.source",c).each(function(){n.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;case "getConfig":n={};a.each(["autoplay","loop","controls","poster","preload"],function(o,t){n[t]=a.attr(c,t)});break;case "preload":n=c.preload||c.getAttribute("preload");if(n==="")n="auto";y[n]||(n="metadata");break}return n}else if(p[d]){f=!!f;if(c[d]=f){c[d]=f;c.setAttribute(d,d)}else{c[d]=
f;c.removeAttribute(d)}}else if(m[d])c.setAttribute(d,f);else if(d==="srces"){a("source, a.source",c).remove();c.removeAttribute("src");f=a.isArray(f)?f:[f];a.each(f,function(o,t){n=h.createElement("source");if(typeof t==="string")t={src:t};n.setAttribute("src",t.src);t.type&&n.setAttribute("type",t.type);t.media&&n.setAttribute("media",t.media);c.appendChild(n)})}else if(d==="getConfig")a.each(f,function(o,t){a.attr(c,o,t)});else if(d==="preload"){if(f==="")f="auto";else y[f]||(f="metadata");if(a.support.autoBuffer)c.autobuffer=
f==="auto";c.setAttribute(d,f)}};a.event.special.mediaerror={setup:function(){var c=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",x);setTimeout(function(){c.each(x)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",w)},handler:function(c){if(!a.data(this,"calledMediaError")){c=a.extend({},c||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};
var A={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"]}};
a.extend(s,{jsPath:function(){var c=a("script");c=c[c.length-1].src.split("?")[0];return c.slice(0,c.lastIndexOf("/")+1)}(),registerMimetype:function(c,d){arguments.length===1?a.each(A,function(f){s.registerMimetype(f,c)}):a.each(d,function(f,l){if(A[c][f])A[c][f]=[];A[c][f]=A[c][f].concat(l)})},_showMimeTypes:function(){window.console&&console.log(A)},add:function(c,d,f){if(!this.apis[d][c]){this.apis[d][c]=s.beget(this.fn);c!=="nativ"&&a.inArray(c,a.fn.jmeEmbed.defaults.apiOrder)===-1&&a.fn.jmeEmbed.defaults.apiOrder.push(c)}a.extend(true,
this.apis[d][c],f)},fn:{_init:a.noop,canPlayType:function(c){var d=this.apiElem,f;if(d&&d.canPlayType){f=d.canPlayType(c);return f==="no"?"":f}c=s.extractContainerCodecsFormType(c);var l=this;f="probably";if(!c[1])return this.canPlayContainer&&a.inArray(c[0],this.canPlayContainer)!==-1?"maybe":"";a.each(c[1],function(n,o){if(!l.canPlayCodecs||a.inArray(o,l.canPlayCodecs)===-1){f="";return false}});return f},canPlaySrc:function(c){var d=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);
c=c.src}var f=z(c),l="";a.each(A[this.nodeName],function(n,o){if(a.inArray(f,o)!==-1){l=d.canPlayType(n);return false}});return l},canPlaySrces:function(c){c=c||a.attr(this.element,"srces");a.isArray(c)||(c=[c]);var d=this,f=false,l="";a.each(c,function(n,o){if(f=d.canPlaySrc(o)){l=o;return false}});return l},_setActive:a.noop,_setInactive:a.noop,_trigger:function(c){a(this.element).triggerHandler(c,c)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&
c[1].indexOf("codecs")!==-1)c[1]=c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=a('<a href="'+c+'"></a>')[0].href;return c}}(),beget:function(c){var d=function(){};d.prototype=c;return new d},_create:function(c,d,f,l){var n=a.data(f,"mediaElemSupport")||a.data(f,"mediaElemSupport",{apis:{},nodeName:c});if(!n.apis[d]){n.apis[d]=s.beget(s.apis[c][d]);n.apis[d].element=f;n.apis[d].nodeName=c;n.apis[d].name=
d;n.apis[d].data={};n.apis[d].embedOpts=l}return n},_transferBackground:["backgroundColor","backgroundPosition","backgroundImage","backgroundRepeat","background-attachment"],_setAPIActive:function(c,d){var f=a.data(c,"mediaElemSupport"),l=f.name;if(l===d)return true;var n=f.apis[l].apiElem,o=f.apis[d]&&f.apis[d].apiElem,t=false;if(o&&o.nodeName){if(f.nodeName!=="audio"||a.attr(c,"controls"))d==="nativ"?f.apis[d].visualElem.css({display:""}):f.apis[d].visualElem.css(a.extend({visibility:""},f.apis[l].visualElem.getDimensions()));
f.apis[d]._setActive(l);t=true;f.apis[d]._trigger({type:"apiActivated",api:d});if(f.apis[l]){f.apis[l]._volumelevelState!==undefined&&a(c).volumelevel(f.apis[l]._volumelevelState);f.apis[l]._muteState!==undefined&&a(c).muted(f.apis[l]._muteState);f.apis[l].visualElem&&a.each(s._transferBackground,function(v,C){f.apis[d].visualElem.css(C,f.apis[l].visualElem.css(C))})}}f.apis[d].isAPIActive=true;if(n&&n.nodeName){if(l==="nativ")n.style.display="none";else f.apis[l].visualElem.css({height:0,width:0,
visibility:"hidden"});f.apis[l]._setInactive(d);f.apis[l].isAPIActive=false;f.apis[d]._trigger({type:"apiDeActivated",api:l})}f.name=d;return t},getSuitedPlayers:function(c,d){var f=a.data(c,"mediaElemSupport");if(f&&f.apis){f=f.apis;var l=a.attr(c,"srces"),n=false,o=function(t,v){if(!(typeof v.isTechAvailable==="boolean"&&!v.isTechAvailable||a.isFunction(v.isTechAvailable)&&!v.isTechAvailable())){if(v=v.canPlaySrces(l))n={src:v.src||v,name:t};return n}};if(!l.length)return"noSource";d?a.each(d,function(t,
v){return!o(v,f[v])}):a.each(f,function(t,v){return!o(t,v)});return n}},_embedApi:function(c,d,f){var l=a.attr(c,"getConfig"),n=a(c),o=c.id,t=n.attr("aria-labelledby");if(!o){j++;o=f.nodeName+"-"+j;c.id=o}f.apis[d.name].visualElem=a('<div class="media-element-box mm-'+f.nodeName+'-box" style="position: relative;" />').insertBefore(c);t&&f.apis[d.name].visualElem.attr({role:"group","aria-labelledby":t});if(f.nodeName==="audio"&&!l.controls)f.apis[d.name].visualElem.css({height:0,width:0});else{f.apis[d.name].visualElem.css(n.getDimensions());
a.each(s._transferBackground,function(v,C){f.apis[d.name].visualElem.css(C,n.css(C))})}f.apis[d.name]._embed(d.src,f.name+"-"+o,l,function(v){f.apis[d.name].apiElem=v;a(v).addClass(f.nodeName);l.controls||a(v).attr({tabindex:"-1",role:"presentation"});f.apis[d.name]._init();f.apis[d.name]._trigger({type:"apiActivated",api:d.name})})},getPluginVersion:function(c,d){d=d||navigator.plugins&&navigator.plugins[c];c=[-1,0];if(d)if((d=(d.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&d[0]){c[0]=
d[0];if(d[1])c[0]+="."+d[1];c[0]=parseFloat(c[0],10);if(d[2])c[1]=parseInt(d[2],10)}return c},embedObject:function(c,d,f,l,n){c.style.overflow="hidden";c=a("<div />").prependTo(c)[0];var o;if(navigator.plugins&&navigator.plugins.length){o=h.createElement("object");a.each(f,function(t,v){o.setAttribute(t,v)});a.each(l,function(t,v){var C=h.createElement("param");C.setAttribute("name",t);C.setAttribute("value",v);o.appendChild(C)});o.setAttribute("id",d);o.setAttribute("name",d);if(l.wmode==="transparent"){o.style.minHeight=
"1px";o.style.minHeight="1px"}c.parentNode.replaceChild(o,c)}else if(window.ActiveXObject){o='<object style="width: 100%; height: 100%; width="100%" height="100%"';a.each(a.extend({},f,n),function(t,v){o+=" "+t+'="'+v+'"'});o+=' name="'+d+'"';o+=' id="'+d+'"';o+=">";a.each(l,function(t,v){o+=' <param name="'+t+'" value="'+v+'" />'});o+="</object>";c.outerHTML=o;o=h.getElementById(d)}if(o){o.setAttribute("width","100%");o.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([o]);
o=null});setTimeout(function(){if(o&&o.style){o.style.width="100%";o.style.height="100%"}},0);return o}});s.add("nativ","video",{});s.add("nativ","audio",{});var D=function(){var c=a(this).hide().children(":not(source, track)").clone().insertAfter(this);a(this).one("mediareset",function(){a(this).show();c.remove()})},E=function(c){var d=c.apis.nativ.apiElem,f=a.attr(d,"preload");if(u||c.name!=="nativ")a.support.autoBuffer&&a.attr(d,"preload",f);else if(!(f==="auto"||f==="metadata"&&!d.getAttribute("poster")||
a.attr(d,"autoplay"))){var l=a(d).attr("srces"),n=function(t){a(d).attr("srces",l).unbind("mediareset mediaerror",o);t.type==="play"&&setTimeout(function(){d.play()},0)},o=function(){a(d).unbind("play",n).unbind("mediareset mediaerror",o)};a(d).attr("srces",[]).one("play mediaerror",n).one("mediareset",o);d.load&&d.readyState>0&&d.getAttribute("poster")&&d.load()}};a.fn.jmeEmbed=function(c){c=a.extend(true,{},a.fn.jmeEmbed.defaults,c);c.showFallback&&a.support.mediaElements&&this.bind("totalerror",
D);return this.each(function(){var d=this.nodeName.toLowerCase();if(!(d!=="video"&&d!=="audio")){var f=this;a("object, embed",this).each(function(){a("> *:not(param, embed, object)",this).appendTo(f)}).remove();a(this).trigger("jmeBeforeEmbed",{options:c,nodeName:d});c.removeControls&&a.attr(this,"controls",false);var l=s._create(d,"nativ",this,c);l.name="nativ";l.apis.nativ.apiElem=this;l.apis.nativ.visualElem=a(this);l.apis.nativ.isAPIActive=true;a.each(s.apis[d],function(n){n!=="nativ"&&s._create(d,
n,f,c)});a(this).bind("mediaerror",function(){l.name==="nativ"&&B(this,c)});if(c.debug||!a.support.mediaElements){B(this,c);l.apis.nativ.isAPIReady=true}else{E(l);l.apis.nativ._init()}a(this).trigger("jmeEmbed",{options:c,nodeName:d,data:l})}})};a.fn.jmeEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};a.fn.mediaElementEmbed=a.fn.jmeEmbed;if(a.cleanData&&window.ActiveXObject){var F=a.cleanData;a.cleanData=function(c){F(c);for(var d=0,f=c.length;d<f;d++)if(c[d].nodeName===
"OBJECT")try{for(var l in c[d])if(typeof c[d][l]==="function")c[d][l]=null}catch(n){}}}})(jQuery);
(function(a){var w=document.createElement("video"),x=a.multimediaSupport,z={apiActivated:1,apiDeActivated:1,mediareset:1,native_mediareset:1,totalerror:1,jmeflashRefresh:1},B={native_mediareset:1,apiDeActivated:1,native_mediareset:1,apiActivated:1,timechange:1,progresschange:1,mmAPIReady:1,jmeflashRefresh:1,ended:1},s={};if("enterFullScreen"in w&&w.supportsFullscreen){a.support.videoFullscreen=true;s.enter="enterFullScreen";s.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(b,
e){if(e+"EnterFullScreen"in w&&e+"SupportsFullscreen"in w){a.support.videoFullscreen=true;s.enter=e+"EnterFullScreen";s.exit=e+"ExitFullScreen";return false}});w=null;a.extend(x,{formatTime:function(b){return a.map([parseInt(b/60,10),parseInt(b%60,10)],function(e){return isNaN(e)?"--":e<10?"0"+e:e}).join(":")}});a.event.special.loadedmeta={add:function(b){var e=a(this).getJMEAPI();if(e&&e.loadedmeta){e=a.extend({},e.loadedmeta);b.handler.call(this,e,e)}}};a.extend(x.fn,{_trigger:function(b){var e=
b.type?b:{type:b},g=e.type;switch(g){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=e;break;case "totalerror":this.totalerror=true;break;case "mute":this._muteState=b.isMuted;break;case "volumelevelchange":this._volumelevelState=b.volumelevel;break;case "mediareset":this._bufferLoaded=this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!z[g])){!this.isAPIReady&&!z[g]&&this._trigger("mmAPIReady");if(b.type===
"progresschange"){if(isFinite(this._bufferLoaded)&&isFinite(b.relLoaded)&&this._bufferLoaded>=b.relLoaded)return;this._bufferLoaded=b.relLoaded}b.target=this.element;b=a.Event(b);b.preventDefault();e.mediaAPI=this.name;B[g]&&b.stopPropagation();a.event.trigger(b,e,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,isJMEReady:function(){return this.isAPIReady},relCurrentTime:function(b){var e=this.getDuration()||
Number.MIN_VALUE;b&&isFinite(b)&&this.currentTime(e*b/100);return this.currentTime()/e*100},getMediaAPI:function(){return this.name},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getJMEVisual:function(){return this.visualElem},jmeReady:function(b,e){var g={type:"mmAPIReady"};if(this.isJMEReady()&&(this.name!=="nativ"||a.support.mediaElements))b.call(this.element,g,g);else{e=e||"jmediaelement";var k=this,i=function(){a(k.element).unbind("mmAPIReady."+
e,i).unbind("jmeflashRefresh."+e,i);b.call(k.element,g,g)};a(this.element).bind("mmAPIReady."+e,i).bind("jmeflashRefresh."+e,i)}},unAPIReady:function(b){a(this.element).unbind("mmAPIReady."+b)},_adjustPluginLoop:function(b){var e=a.attr(this.element,"loop"),g=this;e!==b&&setTimeout(function(){g[e?"play":"pause"]()},0)},_format:x.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(b,
e,g){if(b){a.attr(this.element,"srces",b);b=a.isArray(b)?b:[b]}else b=a.attr(this.element,"srces");if(e!==undefined)e?a.attr(this.element,"poster",e):a(this.element).removeAttr("poster");else e=a.attr(this.element,"poster");if(g!==undefined){var k=a.data(this.element,"mediaElemSupport");k.controlWrapper&&k.controlWrapper.mediaLabel&&k.controlWrapper.mediaLabel.text(g)}this._isResetting=true;b=this.canPlaySrces(b);this._trigger("mediareset");if(b){b=b.src||b;this._mmload(b,e)}else{x._setAPIActive(this.element,
"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()},_makenum:function(b){var e=false;if(b==b*1)e=parseFloat(b,10);return e}});var j=function(b){var e=function(){for(var m=b.element.currentTime||0,p=b.element.buffered,r=p.length,y={},A=0;A<r;A++){y.start=p.start(A);y.end=p.end(A);if(y.start<=m&&y.end>=m)break}return y},g=function(m){var p={type:"progresschange"},
r;if(this.buffered&&this.buffered.length){if(m=this.duration){r=e();p.relStart=r.start/m*100;p.relLoaded=r.end/m*100}b._trigger(p)}else if(m.originalEvent&&"lengthComputable"in m.originalEvent&&m.originalEvent.loaded){if(m.originalEvent.lengthComputable&&m.originalEvent.total){p.relStart=0;p.relLoaded=m.originalEvent.loaded/m.originalEvent.total*100}b._trigger(p)}if(!p.relLoaded&&this.readyState===4){p.relStart=0;p.relLoaded=100;b._trigger(p)}return p.relLoaded},k=function(){if(g.call(b.element,{type:"ipadprogress"})>=
100||b.element.readyState===1)clearInterval(i)},i;a(b.element).bind("progress load",g);"buffered"in b.element&&a(b.element).bind("play waiting loadstart",function(){clearInterval(i);if(b.isAPIActive){i=setInterval(k,333);k()}})},h={isTechAvailable:a.support.mediaElements,_init:function(){var b=this,e=this.apiElem.muted,g=false,k=function(i){clearInterval(g);if(!b.element.error&&b.element.mozLoadFrom&&b.isAPIActive&&!b.element.readyState&&b.element.networkState===2&&(a.support.flash9||a.support.vlc))if(i===
true)b.element.load();else g=setTimeout(function(){k(true)},i==="initial"?2E4:9E3)};j(this);a(this.element).bind({volumechange:function(){if(e!==b.apiElem.muted){e=b.apiElem.muted;b._trigger.call(b,{type:"mute",isMuted:e})}else b._trigger.call(b,{type:"volumelevelchange",volumelevel:b.apiElem.volume*100})},timeupdate:function(){var i={type:"timechange",time:this.currentTime};if(this.duration){i.duration=this.duration;i.timeProgress=i.time/i.duration*100}b._trigger(i)},loadedmetadata:function(){b._trigger({type:"loadedmeta",
duration:this.duration})}}).bind("play pause playing waiting",function(i,m){if(!(!b.isAPIActive||b.totalerror||i.bubbles)){var p=this.parentNode||this.ownerDocument;if(!i.isPropagationStopped()&&p){i.bubbles=true;m=a.makeArray(m);m.unshift(i);a.event.trigger(i,m,p,true)}}}).bind("play playing",function(){if(!b.isAPIActive&&!b.element.paused&&!b.element.ended)try{b.element.pause()}catch(i){}}).bind("mediareset",k);k("initial");a.support.mediaLoop||a(this.element).bind("ended",function(){if(b.isAPIActive&&
a.attr(this,"loop")){var i=this;setTimeout(function(){a.attr(i,"loop")&&i.play()},0)}});if(!this.element.error)if(this.element.readyState>0)this._trigger({type:"loadedmeta",duration:this.element.duration});else if(this.element.networkState!==2||"webkitPreservesPitch"in this.element)this._trigger("mmAPIReady")},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(b){if(typeof b!=="boolean")return this.element.muted;this.element.muted=b},volume:function(b){if(!isFinite(b))return this.element.volume*
100;this.element.volume=b/100},currentTime:function(b){if(!isFinite(b))return this.element.currentTime;try{this.element.currentTime=b}catch(e){}},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.element.error&&!this.element.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};x.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,
enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[s.enter]()}catch(b){return false}return true},exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[s.exit]()}catch(b){return false}return true}},h));x.add("nativ","audio",h);a.fn.getJMEAPI=function(b){if(this[0]){var e=a.data(this[0],"mediaElemSupport");return b||!e||!e.name||!e.apis?e:e.apis[e.name]}};var q={jmeReady:1,getJMEVisual:1,jmeReady:1,isJMEReady:1,getMediaAPI:1};x.registerAPI=
function(b){if(typeof b==="string")b=[b];a.each(b,function(e,g){if((e=x.apis.video.nativ[g])&&!a.fn[g]&&a.isFunction(e)&&g.indexOf("_")!==0)a.fn[g]=function(){var k=arguments,i;this.each(function(){var m=a(this).getJMEAPI();if(m)if(q[g]||m.isJMEReady()&&!m.totalerror&&(m.name!=="nativ"||a.support.mediaElements)){i=m[g].apply(m,k);return i===undefined}else{m.unAPIReady(g+"queue");m.jmeReady.call(m,function(){m[g].apply(m,k)},g+"queue")}});return i===undefined?this:i}})};var u=[];a.each(x.apis.video.nativ,
function(b){u.push(b)});x.registerAPI(u);a.fn.onAPIReady=a.fn.jmeReady;a.fn.getMMAPI=a.fn.getJMEAPI;x.fn._extend=function(b,e){var g=[];a.each(b,function(k,i){x.fn[k]=i;g.push(k);if(e)q[k]=true});x.registerAPI(g)}})(jQuery);
(function(a){function w(b,e){b=a(b);var g={},k=b.attr("data-controls");g.mm=k?a("#"+k):a("video, audio",b).filter(":first");g.api=g.mm.getJMEAPI(true)||g.mm.jmeEmbed(e.embed).getJMEAPI(true);if(!g.api)return g;if(b.is(e.controlSel))g.controls=b;if(!g.controls||g.controls.hasClass(e.classPrefix+"media-controls")){if(b[0]&&!g.api.controlWrapper&&a.contains(b[0],g.mm[0]))g.api.controlWrapper=b;g.controls=g.controls?a(e.controlSel,b).add(g.controls):a(e.controlSel,b)}return g}function x(b,e,g,k){if(!b.data("jmePlayer")){u["media-state"](b,
e,g,a.extend({},k,{mediaState:{click:false}}));b.data("jmePlayer",{mediaelement:e,api:g});a.fn.videoOverlay&&b.videoOverlay({video:e,startCSS:{width:"auto",height:"auto",zIndex:99998},position:{bottom:0,left:0,right:0,top:0,width:0,height:0}});a.ui&&a.ui.keyCode&&b.bind("keydown",function(i){if(!i.jmeHandledEvent){i.jmeHandledEvent=true;if(j[i.keyCode]){if(!a(i.target).is(".ui-slider-handle")){var m=5;switch(i.keyCode){case a.ui.keyCode.UP:if(i.ctrlKey)m+=5;e.volume(Math.min(100,e.volume()+m));break;
case a.ui.keyCode.DOWN:if(i.ctrlKey)m+=5;e.volume(Math.max(0,e.volume()-m));break;case a.ui.keyCode.LEFT:if(i.ctrlKey)m+=55;e.currentTime(Math.max(0,e.currentTime()-m));break;case a.ui.keyCode.RIGHT:if(i.ctrlKey)m+=55;e.currentTime(Math.min(e.getDuration(),e.currentTime()+m));break}i.preventDefault()}}else if(i.keyCode===a.ui.keyCode.SPACE&&(!a.nodeName(i.target,"button")&&a.attr(i.target,"role")!=="button"||b.hasClass("wraps-fullscreen"))){e.togglePlay();i.preventDefault()}}})}}if(!a.event.special.ariaclick){var z=
false;function B(b){if(!z&&(!b.keyCode||b.keyCode===13||b.keyCode===32&&a.attr(b.target,"role")==="button")){z=true;setTimeout(function(){z=false},1);return a.event.special.ariaclick.handler.apply(this,arguments)}else if(z&&b.type=="click"){b.preventDefault();return false}}a.event.special.ariaclick={setup:function(){a(this).bind("click keydown",B);return true},teardown:function(){a(this).unbind("click keydown",B);return true},handler:function(b){b.type="ariaclick";return a.event.handle.apply(this,
arguments)}}}var s=/\s*\/\s*|\s*\|\s*|\s*\,\s*/g,j={40:true,37:true,39:true,38:true},h=a.fn.a11ySlider?"a11ySlider":"slider",q=0,u={"timeline-slider":function(b,e,g,k){function i(r,y){parseInt(y.timeProgress,10);y.timeProgress!==undefined&&!p&&b[h]("value",y.timeProgress)}function m(){if(g.apis[g.name].loadedmeta&&g.apis[g.name].loadedmeta.duration){b[h]("option","step",100/Math.max(100,b[0].offsetWidth));b[h]("option","disabled",false)}else b[h]("option","disabled",true)}var p=false;b[h](k.timeSlider)[h]("option",
"disabled",true);e.bind("loadedmeta",m).bind("timechange",i).bind("mediareset",function(){b[h]("value",0);m()}).bind("ended",function(){b[h]("value",100)});b.bind("slidestart",function(r){if(r.originalEvent)p=true}).bind("slidestop",function(){p=false}).bind("slide",function(r,y){r.originalEvent&&g.apis[g.name].isAPIReady&&g.apis[g.name].relCurrentTime(y.value)})},"volume-slider":function(b,e,g,k){function i(p,r){m||b[h]("value",r.volumelevel)}var m=false;b[h](k.volumeSlider)[h]("option","disabled",
true);b.bind("slidestart",function(p){if(p.originalEvent)m=true}).bind("slidestop",function(){m=false}).bind("slide",function(p,r){p.originalEvent&&g.apis[g.name].isAPIReady&&g.apis[g.name].volume(r.value)});e.bind("volumelevelchange",i).jmeReady(function(){b[h]("option","disabled",false);b[h]("value",parseFloat(e.volume(),10)||80)}).bind("loadedmeta",function(){b[h]("value",parseFloat(e.volume(),10)||80)})},progressbar:function(b,e,g,k){function i(p,r){"relLoaded"in r?b.progressbar("option","disabled",
false).progressbar("value",r.relLoaded):b.progressbar("option","disabled",true)}function m(){b.progressbar("option","disabled",true).progressbar("value",0)}b.progressbar(k.progressbar).progressbar("option","disabled",true);e.bind("progresschange",i).bind("mediareset",m)},duration:function(b,e,g,k){k.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("00:00");e.bind("loadedmeta",function(i,m){b.html(g.apis[g.name]._format(m.duration))}).bind("mediareset",function(){b.html("00:00")})},
"media-controls":function(b,e,g,k){function i(){var r=b.width()+k.mediaControls.timeSliderAdjust,y=m.outerWidth(true)-m.innerWidth();a("> *",b).each(function(){if(m[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!k.excludeSel||!a(this).is(k.excludeSel)))y+=a(this).outerWidth(true)});m.css("width",r-y)}k.addThemeRoller&&b.addClass("ui-widget ui-widget-header ui-corner-all");b.attr("role","toolbar");if(k.mediaControls.dynamicTimeslider){var m=a("."+k.classPrefix+"timeline-slider",
b),p=setTimeout(i,0);e.jmeReady(function(){clearInterval(p);setTimeout(i,0)});a(window).bind("resize",i);e.bind("resize emchange",i)}k.mediaControls.fullWindowOverlay&&a.fn.videoOverlay&&b.videoOverlay({fullscreenClass:k.classPrefix+"controls-fullscreenvideo",video:e,startCSS:{width:"auto"},position:{bottom:0,left:0,right:0}})},"media-label":function(b,e,g,k){if(!(!g.controlWrapper||g.controlWrapper.attr("role"))){e=b.attr("id");var i=a("."+k.classPrefix+"media-name",b);if(!e){q++;e=k.classPrefix+
"media-label-"+q;b.attr("id",e)}g.controlWrapper.mediaLabel=i[0]?i:b;g.controlWrapper.attr({role:"group","aria-labelledby":e})}},fallback:function(b,e,g,k){if(!(k.embed.showFallback||!a.support.mediaElements)){var i=b.clone(true);e.bind("totalerror",function(){e.after(i).hide();a(this).one("mediareset",function(){e.show();i.detach()})})}},"media-state":function(b,e,g,k){var i=k.classPrefix+"playing "+k.classPrefix+"totalerror "+k.classPrefix+"waiting "+k.classPrefix+"idle",m=function(){b.removeClass(i)};
e.jmeReady(function(){e.isPlaying()?b.addClass(k.classPrefix+"playing"):b.addClass(k.classPrefix+"idle")});typeof k.mediaState.click==="string"&&e[k.mediaState.click]&&b.click(function(){e[k.mediaState.click]()});b.addClass(k.classPrefix+g.name);e.bind({apiActivated:function(p,r){b.addClass(k.classPrefix+r.api)},apiDeActivated:function(p,r){b.removeClass(k.classPrefix+r.api)}}).bind("playing totalerror waiting",function(p){m();b.addClass(k.classPrefix+p.type)}).bind("play",function(){b.removeClass(k.classPrefix+
"idle")}).bind("pause ended mediareset",function(){m();b.addClass(k.classPrefix+"idle")}).bind("canplay",function(){b.removeClass(k.classPrefix+"waiting")});k.mediaState.fullWindowOverlay&&a.fn.videoOverlay&&b.videoOverlay({video:e,startCSS:{width:"auto",height:"auto",padding:"0px",margin:"0px",borderWidth:"0px"},position:{bottom:0,left:0,right:0,top:0,width:0,height:0}})}};a.each(["current-time","remaining-time"],function(b,e){u[e]=function(g,k,i,m){var p=e=="remaining-time"?function(y,A){g.html(i.apis[i.name]._format(r-
A.time))}:function(y,A){g.html(i.apis[i.name]._format(A.time))},r=Number.MIN_VALUE;m.addThemeRoller&&g.addClass("ui-widget-content ui-corner-all");g.html("00:00").attr("role","timer");e=="remaining-time"&&k.bind("loadedmeta",function(y,A){r=A.duration||Number.MIN_VALUE;p(false,{time:0})});k.bind("timechange",p).bind("mediareset",function(){g.html("00:00")})}});a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",
falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute loadedmeta",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(b,e){u[b]=function(g,k,i,m){function p(){if(k[e.stateMethod]()){r.text.text(r.names[1]);r.title.attr("title",r.titleText[1]);r.icon.addClass(e.trueClass).removeClass(e.falseClass)}else{r.text.text(r.names[0]);r.title.attr("title",r.titleText[0]);r.icon.addClass(e.falseClass).removeClass(e.trueClass)}}var r=a.fn.jmeControl.getBtn(g);
m.addThemeRoller&&g.addClass("ui-state-default ui-corner-all");p();k.bind(e.evts,p).jmeReady(p);g.bind("ariaclick",function(y){k[e.actionMethod]();y.preventDefault()})}});a.fn.jmeControl=function(b){function e(){var g=w(this,b);if(g.api){g.api.controls=g.api.controls||[];if(g.api){g.controls.each(function(){var k=a(this);if(a.inArray(this,g.api.controls)===-1){g.api.controls.push(this);a.each(u,function(i,m){if(k.hasClass(b.classPrefix+i)){m(k,g.mm,g.api,b);return false}})}});g.api.controlWrapper&&
g.api.controlWrapper[0]&&x(g.api.controlWrapper,g.mm,g.api,b)}}}b=a.extend(true,{},a.fn.jmeControl.defaults,b);b.controlSel=[];a.each(u,function(g){g!=="media-controls"&&b.controlSel.push("."+b.classPrefix+g)});b.controlSel.push("."+b.classPrefix+"media-controls");b.controlSel=b.controlSel.join(", ");return this.each(e)};a.fn.jmeControl.defaults={embed:{removeControls:true},classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:false,timeSliderAdjust:0,excludeSel:false,fullWindowOverlay:false},
progressbar:{},volumeSlider:{},timeSlider:{},currentTime:{reverse:false},mediaState:{click:"togglePlay",fullWindowOverlay:false}};a.support.waiaria=!a.browser.msie||a.browser.version>7;a.fn.jmeControl.getBtn=function(b){var e={icon:a(".ui-icon",b),text:a(".button-text",b),title:b};if(!b.is(":button")&&!b.attr("role")){a.support.waiaria&&b.removeAttr("href");b.attr({role:"button",tabindex:0})}if(!e.icon[0]&&!e.text[0]&&!a("*",b)[0]){e.icon=b;e.text=b}e.names=e.text.text().split(s);e.titleText=(b.attr("title")||
"").split(s);if(e.names.length!==2)e.text=a([]);if(e.titleText.length!==2)e.title=a([]);return e};a.fn.jmeControl.addControl=function(b,e){u[b]=e};a.fn.registerMMControl=a.fn.jmeControl;a(function(){h=a.fn.a11ySlider?"a11ySlider":"slider"})})(jQuery);
(function(a){var w={type:"application/x-shockwave-flash"},x={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},z=a.multimediaSupport;a.extend(a.fn.jmeEmbed.defaults,{jwPlayer:{path:z.jsPath+"player.swf",hideIcons:"auto",vars:{},attrs:{},plugins:[],params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var B={A:/&amp;/g,a:/&/g,e:/\=/g,q:/\?/g},s=function(h){return h.replace?h.replace(B.A,"%26").replace(B.a,"%26").replace(B.e,"%3D").replace(B.q,"%3F"):h};(function(){a.support.flash9=false;
var h=z.getPluginVersion("Shockwave Flash"),q=function(b){a.support.flash9=false;try{if(b&&typeof b.GetVariable!=="undefined"){var e=b.GetVariable("$version");b=z.getPluginVersion("",{description:e});a.support.flash9=!!(b[0]>9||b[0]===9&&b[1]>=115)}}catch(g){}};if(h[0]>9||h[0]===9&&h[1]>=115){a.support.flash9=true;a(function(){h=a("<object />",w).appendTo("body");q(h[0]);h.remove()})}else if(window.ActiveXObject)try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");q(h);h=null}catch(u){}})();var j=
{isTechAvailable:function(){return a.support.flash9},_embed:function(h,q,u,b){var e=this.embedOpts.jwPlayer,g=a.extend({},e.vars,{file:h,id:q}),k=a.extend({name:q,data:e.path},e.attrs,w),i=a.extend({movie:e.path},e.params),m=a.attr(this.element,"data-provider");if(u.poster)g.image=u.poster;if(m)g.provider=m;if(!g.provider&&!this.canPlaySrc(h))g.provider=providerMatch[this.nodeName];g.autostart=""+u.autoplay;g.repeat=u.loop?"single":"false";g.controlbar=u.controls?"bottom":"none";if(!u.controls&&this.nodeName!==
"audio"&&i.wmode===undefined)i.wmode="transparent";if(!u.controls&&e.hideIcons&&i.wmode==="transparent"||e.hideIcons===true){g.icons="false";g.showicons="false"}if(i.wmode==="transparent"&&!g.screencolor&&!k.bgcolor){g.screencolor="ffffffff";k.bgcolor="#000000"}i.flashvars=[];a.each(g,function(p,r){i.flashvars.push(s(p)+"="+s(r))});e.plugins.length&&i.flashvars.push("plugins="+e.plugins.join(","));i.flashvars=i.flashvars.join("&");b(z.embedObject(this.visualElem[0],q,k,i,x,"Shockwave Flash"))},canPlaySrc:function(h){var q=
z.fn.canPlaySrc.apply(this,arguments),u=-1;u=h.src||h;if(!q&&typeof u==="string"){u=u.indexOf("youtube.com/");if(u<15&&u>6)q="maybe"}return q},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","VP6","mp3","AAC"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla","youtube/flv","jwplayer/jwplayer"]};z.add("jwPlayer","video",j);z.add("jwPlayer",
"audio",j)})(jQuery);
(function(a){function w(j){if(j){j=j.replace(B,"");return a.data(x.getElementById(j),"mediaElemSupport").apis.jwPlayer}}var x=document,z=a.multimediaSupport,B=/^jwPlayer-/;window.jwEvents={View:{PLAY:function(j){if(j=j.state&&w(j.id)){j._trigger("play");j._$isPlaystate=true}}},Model:{BUFFER:function(j){var h=w(j.id);if(h){if(h._$timeProgress&&j.percentage+h._$startBuffer+1<h._$timeProgress)h._$startBuffer=h._$timeProgress;j={type:"progresschange",relLoaded:j.percentage+h._$startBuffer,relStart:0};
h._$buffered=j.relLoaded;h._trigger(j)}},STATE:function(j){if(privJwEvents.Model.STATE(j)==="playing")if(j=w(j.id)){j._trigger("playing");j._$isPlaystate=true}},META:function(j){if(j.type==="metadata"){var h=w(j.id);h&&h._trigger({type:"loadedmeta",duration:j.duration})}},TIME:function(j){var h=w(j.id),q={type:"timechange",time:j.position};if(h){h.loadedmeta||h._trigger({type:"loadedmeta",duration:j.duration});h._$currentPos=j.position;if(j.duration){q.duration=j.duration;q.timeProgress=j.position/
j.duration*100;h._$timeProgress=q.timeProgress}h._trigger(q)}},STATE:function(j){if(j.newstate==="IDLE")return false;var h=w(j.id),q;if(!h)return false;switch(j.newstate){case "PLAYING":q="playing";break;case "PAUSED":h._$isPlaystate=false;q="pause";break;case "COMPLETED":h._$isPlaystate=false;q="ended";h._adjustPluginLoop(h.apiElem.getConfig().repeat=="single");break;case "BUFFERING":q="waiting";break}q&&h._trigger(q);return q}},Controller:{VOLUME:function(j){var h=w(j.id);!h||h._$lastMuteState!==
h.muted()||h._trigger({type:"volumelevelchange",volumelevel:j.percentage})},MUTE:function(j){var h=w(j.id);if(h){h._$lastMuteState=j.state;h._trigger({type:"mute",isMuted:j.state})}}}};window.playerReady=function(j){var h=w(j.id);if(h){if(h.isAPIReady){if(h.apiElem.sendEvent)setTimeout(function(){h._lastLoad&&h._mmload(h._lastLoad.file,h._lastLoad.image);if(h._$isPlaystate&&!(h.apiElem.getConfig()||{}).autostart)h.play()},20);else{h._$reInit();return}setTimeout(function(){h._trigger("jmeflashRefresh")},
20)}a.each(jwEvents,function(q,u){a.each(u,function(b){h.apiElem["add"+q+"Listener"](b,"jwEvents."+q+"."+b)})});setTimeout(function(){h._$lastMuteState=h.muted();var q=a.attr(h.element,"getConfig");if(!q.autoplay)if(h.nodeName==="audio"&&q.preload==="auto"){h.apiElem.sendEvent("PLAY","true");h.apiElem.sendEvent("PLAY","false")}else h.nodeName==="video"&&q.preload!=="none"&&!q.poster&&h.currentTime(0);h._trigger("mmAPIReady")},20)}};var s={_init:function(){this._$resetStates()},_$resetStates:function(){this._$currentPos=
this._$timeProgress=this._$startBuffer=this._$buffered=0},_$reInitCount:0,_$reInitTimer:false,_$reInit:function(){var j=this;if(this._$reInitCount<5){this.visualElem[0].style.overflow="visible";setTimeout(function(){j.visualElem[0].style.overflow="hidden"},0)}this._$reInitCount++;this._$resetStates();if(!this._$reInitTimer){this._$reInitTimer=true;setTimeout(function(){j._$reInitCount=0;j._$reInitTimer=false},2E4)}},play:function(){this.apiElem.sendEvent("PLAY","true");this._$isPlaystate=true;this._trigger("play")},
pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var j=this.apiElem.getConfig();return j?j.state==="PLAYING":undefined},_mmload:function(j,h){this._lastLoad={file:j};if(h)this._lastLoad.image=h;this._$resetStates();this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(j){if(typeof j!=="boolean")return(this.apiElem.getConfig()||{}).mute;
this.apiElem.sendEvent("mute",j?"true":false)},currentTime:function(j){if(!isFinite(j))return this._$currentPos||0;this._$currentPos=j;this.apiElem.sendEvent("SEEK",j);this._trigger({type:"timechange",time:j})},getDuration:function(){var j=this.apiElem.getPlaylist()[0].duration||0;return j<0?0:j},volume:function(j){if(!isFinite(j))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+j)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.extend(s,
{isJMEReady:function(){var j=false;if(this.isAPIReady&&this.apiElem.sendEvent&&this.apiElem.getConfig){a.browser.mozilla&&this.apiElem.getConfig();j=true}return j}});z.add("jwPlayer","video",a.extend({},s,{exitFullScreen:function(){if(this.apiElem.jmeExitFullScreen)try{this.apiElem.jmeExitFullScreen();return true}catch(j){}return false}}));z.add("jwPlayer","audio",s)})(jQuery);
