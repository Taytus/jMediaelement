/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function s(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function t(d){if(a.support.mediaElements){var e=a.data(this,"mediaElemSupport");if(e&&e.apis){d&&d.type&&a.data(this,"calledMediaError",false);e=e.apis;d=this;var h=a.attr(this,"srces");if(d.error||h.length&&!e.nativ.canPlaySrces(h)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{d.pause()}catch(o){}}a("source",this).unbind("error",s).filter(":last").bind("error",
s)}}}function w(d){var e=d.indexOf("?")+1,h="";d=e?d.substring(0,e):d;e=d.lastIndexOf(".")+1;return h=d.substr(e)}function q(d,e){var h=d.nodeName.toLowerCase();e=l.getSuitedPlayers(d,e.apiOrder);var o=a.data(d,"mediaElemSupport");if(e){if(e!=="noSource")l._setAPIActive(d,e.name)||l._embedApi(d,e,o,h)}else{o.apis.nativ._trigger({type:"totalerror"});try{d.pause()}catch(r){}}}a.multimediaSupport={};var l=a.multimediaSupport,i=(new Date).getTime(),c=document;a.support.video=!!a("<video />")[0].canPlayType;
a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var g=a.attr,b=/video|audio|source/i,f={src:true,poster:true},j={loop:true,autoplay:true,controls:true},p={srces:true,getConfig:true};a.attr=function(d,e,h,o){if(!(d.nodeName&&b.test(d.nodeName)&&(p[e]||l.attrFns[e]||j[e]||f[e])))return g(d,e,h,o);var r=h!==undefined,v,n;if(l.attrFns[e])if(v=a.data(d,"mediaElemSupport")){n=v.apis[v.name][e](h,o);if(!r)return n}else return g(d,e,h,o);if(r)if(j[e]){h=
!!h;if(d[e]=h){d[e]=h;d.setAttribute(e,e)}else{d[e]=h;d.removeAttribute(e)}}else if(f[e])d.setAttribute(e,h);else if(e==="srces"){a("source, a.source",d).remove();d.removeAttribute("src");h=a.isArray(h)?h:[h];a.each(h,function(u,x){n=c.createElement("source");if(typeof x==="string")x={src:x};n.setAttribute("src",x.src);x.type&&n.setAttribute("type",x.type);x.media&&n.setAttribute("media",x.media);d.appendChild(n)})}else e==="getConfig"&&a.each(h,function(u,x){a.attr(d,u,x)});else{if(j[e])return typeof d[e]===
"boolean"?d[e]:!!(d.attributes[e]||{}).specified;if(f[e])return a.support.video&&d[e]||l.makeAbsURI(d.getAttribute(e));if(e==="srces"){if(n=a.attr(d,"src"))n=[{src:n,type:d.getAttribute("type"),media:d.getAttribute("media")}];else{n=[];a("source",d).each(function(){n.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});n.length||a("a.source",d).each(function(){n.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}return n}if(e===
"getConfig"){n={};a.each(["autoplay","loop","controls","poster"],function(u,x){n[x]=a.attr(d,x)});return n}}};a.event.special.mediaerror={setup:function(){var d=a(this).bind("error",a.event.special.mediaerror.handler).bind("mediareset",t);setTimeout(function(){d.each(t)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",s)},handler:function(d){if(!a.data(this,"calledMediaError")){d=a.extend({},d||{},{type:"mediaerror"});a.data(this,"calledError",
true);return a.event.handle.apply(this,arguments)}}};var k={audio:{"application/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"application/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp",
"3gpp"]}};a.extend(l,{registerMimetype:function(d,e){arguments.length===1?a.each(k,function(h){l.registerMimetype(h,d)}):a.each(e,function(h,o){if(k[d][h])k[d][h]=[];k[d][h]=k[d][h].concat(o)})},_showMimeTypes:function(){window.console&&console.log(k)},attrFns:{},add:function(d,e,h){if(!this.apis[e][d]){this.apis[e][d]=l.beget(this.fn);d!=="nativ"&&a.inArray(d,a.fn.mediaElementEmbed.defaults.apiOrder)===-1&&a.fn.mediaElementEmbed.defaults.apiOrder.push(d)}a.extend(true,this.apis[e][d],h)},fn:{_init:a.noop,
canPlayType:function(d){var e=this.apiElem,h;if(e&&e.canPlayType){h=e.canPlayType(d);return h==="no"?"":h}d=l.extractContainerCodecsFormType(d);var o=this;h="probably";if(!d[1])return this.canPlayContainer&&a.inArray(d[0],this.canPlayContainer)!==-1?"maybe":"";a.each(d[1],function(r,v){if(!o.canPlayCodecs||a.inArray(v,o.canPlayCodecs)===-1){h="";return false}});return h},canPlaySrc:function(d){var e=this;if(typeof d!=="string"){if(d.type)return this.canPlayType(d.type);d=d.src}var h=w(d),o="";a.each(k[this.nodeName],
function(r,v){if(a.inArray(h,v)!==-1){o=e.canPlayType(r);return false}});return o},canPlaySrces:function(d){d=d||a.attr(this.element,"srces");a.isArray(d)||(d=[d]);var e=this,h=false,o="";a.each(d,function(r,v){if(h=e.canPlaySrc(v)){o=v;return false}});return o},_setActive:a.noop,_setInactive:a.noop,_trigger:function(d){a(this.element).triggerHandler(d,d)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(d){d=d.split(/\s*;\s*/g);if(d[1]&&d[1].indexOf("codecs")!==-1)d[1]=d[1].replace(/["|']$/,
"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return d},makeAbsURI:function(){return function(d){if(d&&typeof d==="string")d=a('<a href="'+d+'"></a>')[0].href;return d}}(),beget:function(d){var e=function(){};e.prototype=d;return new e},_create:function(d,e,h,o){var r=a.data(h,"mediaElemSupport")||a.data(h,"mediaElemSupport",{apis:{},nodeName:d});if(!r.apis[e]){r.apis[e]=l.beget(l.apis[d][e]);r.apis[e].element=h;r.apis[e].nodeName=d;r.apis[e].name=e;r.apis[e].data={};r.apis[e].embedOpts=o}return r},
_setAPIActive:function(d,e){var h=a.data(d,"mediaElemSupport"),o=h.name;if(o===e)return true;var r=h.apis[o].apiElem,v=h.apis[e]&&h.apis[e].apiElem,n=false;if(v&&v.nodeName){if(h.nodeName!=="audio"||a.attr(d,"controls"))h.apis[e].visualElem.css({width:h.apis[o].visualElem.width(),height:h.apis[o].visualElem.height(),visibility:"",display:""});h.apis[e]._setActive(o);n=true;h.apis[e]._trigger({type:"apiActivated",api:e})}h.apis[e].isAPIActive=true;if(r&&r.nodeName){if(o==="nativ")r.style.display="none";
else h.apis[o].visualElem.css({height:0,width:0,overflow:"hidden",visibility:"hidden"});h.apis[o]._setInactive(e);h.apis[o].isAPIActive=false;h.apis[e]._trigger({type:"apiDeActivated",api:o})}h.name=e;return n},getSuitedPlayers:function(d,e){var h=a.data(d,"mediaElemSupport");if(h&&h.apis){h=h.apis;var o=a.attr(d,"srces"),r=false,v=function(n,u){if(!(typeof u.isTechAvailable==="boolean"&&!u.isTechAvailable||a.isFunction(u.isTechAvailable)&&!u.isTechAvailable())){if(u=u.canPlaySrces(o))r={src:u.src||
u,name:n};return r}};if(!o.length)return"noSource";e?a.each(e,function(n,u){return!v(u,h[u])}):a.each(h,function(n,u){return!v(n,u)});return r}},_embedApi:function(d,e,h){var o=a.attr(d,"getConfig"),r=a(d),v=d.id;if(!v){i++;v=h.nodeName+"-"+i;d.id=v}h.apis[e.name].visualElem=a('<div class="media-element-box mm-'+h.nodeName+'-box" />').insertBefore(d);h.nodeName==="audio"&&!o.controls?h.apis[e.name].visualElem.css({height:0,width:0,overflow:"hidden"}):h.apis[e.name].visualElem.css({width:r.width(),
height:r.height()});h.apis[e.name]._embed(e.src,h.name+"-"+v,o,function(n){h.apis[e.name].apiElem=n;a(n).addClass(h.nodeName);h.apis[e.name]._init();h.apis[e.name]._trigger({type:"apiActivated",api:e.name})})},getPluginVersion:function(d,e){d=e||navigator.plugins&&navigator.plugins[d];e=[-1,0];if(d)if((desc=(d.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&desc[0]){e[0]=desc[0];if(desc[1])e[0]+="."+desc[1];e[0]=parseFloat(e[0],10);if(desc[2])e[1]=parseInt(desc[2],10)}return e},embedObject:function(d,
e,h,o,r,v){d=a("<div />").appendTo(d)[0];var n;if(navigator.plugins&&navigator.plugins[v]){n=c.createElement("object");a.each(h,function(u,x){n.setAttribute(u,x)});a.each(o,function(u,x){var y=c.createElement("param");y.setAttribute("name",u);y.setAttribute("value",x);n.appendChild(y)});n.setAttribute("id",e);n.setAttribute("name",e);d.parentNode.replaceChild(n,d)}else if(window.ActiveXObject){n="<object";a.each(a.extend({},h,r),function(u,x){n+=" "+u+'="'+x+'"'});n+=' name="'+e+'"';n+=' id="'+e+
'"';n+=">";a.each(o,function(u,x){n+=' <param name="'+u+'" value="'+x+'" />'});n+="</object>";d.outerHTML=n;n=c.getElementById(e)}if(n){n.setAttribute("width","100%");n.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([n]);n=null});setTimeout(function(){if(n&&n.setAttribute){n.setAttribute("width","100%");n.setAttribute("height","100%")}},0);return n}});l.add("nativ","video",{});l.add("nativ","audio",{});a.fn.mediaElementEmbed=function(d){d=a.extend(true,{},a.fn.mediaElementEmbed.defaults,
d);return this.each(function(){var e=this.nodeName.toLowerCase();if(!(e!=="video"&&e!=="audio")){var h=this;d.removeControls&&a.attr(this,"controls",false);var o=l._create(e,"nativ",this,d);o.name="nativ";o.apis.nativ.apiElem=this;o.apis.nativ.visualElem=a(this);o.apis.nativ.isAPIActive=true;a.each(l.apis[e],function(r){r!=="nativ"&&l._create(e,r,h,d)});d.showFallback&&a.support.mediaElements&&a(this).bind("totalerror",function(){a(this).hide().children(":not(source, itext)").insertAfter(this)});
if(d.debug||!a.support.mediaElements){q(this,d);o.apis.nativ.isAPIReady=true}else o.apis.nativ._init();a(this).bind("mediaerror",function(){o.name==="nativ"&&q(this,d)})}})};a.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};if(a.cleanData&&window.ActiveXObject){var m=a.cleanData;a.cleanData=function(d){m(d);for(var e=0,h=d.length;e<h;e++)if(d[e].nodeName==="OBJECT")try{for(var o in d[e])if(typeof d[e][o]==="function")d[e][o]=null}catch(r){}}}})(jQuery);
(function(a){var s=document.createElement("video"),t=a.multimediaSupport,w={apiActivated:true,apiDeActivated:true,mediareset:true,totalerror:true},q={};if("enterFullScreen"in s&&s.supportsFullscreen){a.support.videoFullscreen=true;q.enter="enterFullScreen";q.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(b,f){if(f+"EnterFullScreen"in s&&s[f+"SupportsFullscreen"]){a.support.videoFullscreen=true;q.enter=f+"EnterFullScreen";q.exit=f+"ExitFullScreen";return false}});s=null;a.extend(t,
{formatTime:function(b){return a.map([parseInt(b/60,10),parseInt(b%60,10)],function(f){return isNaN(f)?"--":f<10?"0"+f:f}).join(":")}});a.event.special.loadedmeta={add:function(b){var f=a(this).getMMAPI();if(f&&f.loadedmeta){f=a.extend({},f.loadedmeta);b.handler.call(this,f,f)}}};a.extend(t.fn,{_trigger:function(b){var f=b.type||b,j=b;switch(f){case "mmAPIReady":if(this.isAPIReady)return;else this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=j;break;case "totalerror":this.totalerror=true;
break;case "mediareset":this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!w[f])){!this.isAPIReady&&!w[f]&&this._trigger("mmAPIReady");if(b.type==="progresschange"){b.relStart=b.relStart||0;if(this._concerningBufferStart!==b.relStart){this._concerningBufferStart=b.relStart;this._trigger({type:"bufferrange",relStart:b.relStart,relLoaded:b.relLoaded})}}b.target=this.element;b=a.Event(b);b.preventDefault();b.mediaapi=this.name;if(b.type==="timechange"||b.type==="progresschange")b.stopPropagation();
a.event.trigger(b,j,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,relCurrentTime:function(b){var f=this.getDuration()||Number.MIN_VALUE;b&&isFinite(b)&&this.currentTime(f*b/100);return this.currentTime()/f*100},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getMMVisual:function(){return this.visualElem},onAPIReady:function(b){var f={type:"mmAPIReady"};
this.isAPIReady?b.call(this.element,f,f):a(this.element).one("mmAPIReady.jmediaelement",b)},_format:t.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(b,f){if(b){a.attr(this.element,"srces",b);b=a.isArray(b)?b:[b]}else b=a.attr(this.element,"srces");if(f!==undefined)f?a.attr(this.element,"poster",f):a(this.element).removeAttr("poster");else f=a.attr(this.element,"poster");this._isResetting=
true;this._trigger("mediareset");if(b=this.canPlaySrces(b)){b=b.src||b;this._mmload(b,f)}else{t._setAPIActive(this.element,"nativ");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()}});var l=function(b){var f,j=function(){for(var k=b.element.currentTime,m=b.element.buffered,d=m.length,e={},h=0;h<d;h++){e.start=m.start(h);e.end=m.end(h);if(e.start<=k&&e.end>=k)break}return e},p=function(k){var m=
{type:"progresschange"},d;if(this.buffered&&this.buffered.length){if(k=this.duration){d=j();m.relStart=d.start/k*100;m.relLoaded=d.end/k*100}b._trigger(m)}else if(k.originalEvent&&"lengthComputable"in k.originalEvent&&k.originalEvent.loaded){if(k.originalEvent.lengthComputable&&k.originalEvent.total){m.relStart=0;m.relLoaded=k.originalEvent.loaded/k.originalEvent.total*100}if(!f){a(this).unbind(k.type==="load"?"progress":"load",p);f=true}b._trigger(m)}};a(b.element).bind("progress load",p)},i={isTechAvailable:a.support.mediaElements,
_init:function(){var b=this,f=this.apiElem.muted,j=false,p=function(){j=true};l(this);a(this.element).bind({volumechange:function(){if(f!==b.apiElem.muted){f=b.apiElem.muted;b._trigger.call(b,{type:"mute",isMuted:f})}else b._trigger.call(b,{type:"volumelevelchange",volumelevel:b.apiElem.volume*100})},timeupdate:function(){var k={type:"timechange",time:this.currentTime};if(this.duration){k.duration=this.duration;k.timeProgress=k.time/k.duration*100}b._trigger(k)},loadedmetadata:function(){b._trigger({type:"loadedmeta",
duration:this.duration})}}).one("mediaerror",p);if(this.element.readyState>0&&!this.element.error){a(b.element).unbind("mediaerror",p);this._trigger({type:"loadedmeta",duration:this.element.duration})}else setTimeout(function(){a(b.element).unbind("mediaerror",p);if(j||b.element.error)b.isAPIReady=true;else b._trigger("mmAPIReady")},150)},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(b){if(typeof b==="boolean")this.element.muted=b;return this.element.muted},
volume:function(b){if(isFinite(b))this.element.volume=b/100;return this.element.volume*100},currentTime:function(b){if(isFinite(b))try{this.element.currentTime=b}catch(f){}return this.element.currentTime},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};
t.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[q.enter]()}catch(b){}},exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[q.exit]()}catch(b){}}},i));t.add("nativ","audio",i);a.fn.getMMAPI=function(b){if(this[0]){var f=a.data(this[0],"mediaElemSupport");return b||!f||!f.name||!f.apis?f:f.apis[f.name]}};var c={onAPIReady:1};t.registerAPI=function(b){if(typeof b===
"string")b=[b];a.each(b,function(f,j){if((f=t.apis.video.nativ[j])&&a.isFunction(f)&&j.indexOf("_")!==0){t.attrFns[j]=true;a.fn[j]||(a.fn[j]=function(){var p=arguments,k;this.each(function(){var m=a(this).getMMAPI();if(m&&(m.isAPIReady&&!m.totalerror||c[j]))k=m[j].apply(m,p);else m.onAPIReady.call(m,function(){m[j].apply(m,p)})});return k===undefined?this:k})}})};var g=[];a.each(t.apis.video.nativ,function(b){g.push(b)});t.registerAPI(g);t.fn._extend=function(b){var f=[];a.each(b,function(j,p){t.fn[j]=
p;f.push(j)});t.registerAPI(f)}})(jQuery);
(function(a){function s(c,g){c=a(c);var b={},f=c.attr("data-controls");b.mm=f?a("#"+f):a("video, audio",c).filter(":first");b.api=b.mm.getMMAPI(true)||b.mm.mediaElementEmbed(g.embed).getMMAPI(true);if(c.is(g.controlSel))b.controls=c;if(!b.controls||b.controls.hasClass(g.classPrefix+"media-controls")){b.controlsgroup=c;b.api.controlWrapper=b.api.controlWrapper?b.api.controlWrapper.add(c):c;b.controls=b.controls?a(g.controlSel,c).add(b.controls):a(g.controlSel,c);b.api.controlBar=b.controls.filter("."+
g.classPrefix+"media-controls")}return b}function t(c,g,b,f){var j=f.classPrefix+"playing "+f.classPrefix+"totalerror "+f.classPrefix+"waiting",p=function(){c.removeClass(j)};c.addClass(f.classPrefix+b.name).bind({apiActivated:function(k,m){c.addClass(f.classPrefix+m.api)},apiDeActivated:function(k,m){c.removeClass(f.classPrefix+m.api)}}).bind("playing totalerror waiting",function(k){p();c.addClass(f.classPrefix+k.type)}).bind("pause ended mediareset",function(){p()}).bind("canplay canplaythrough",
function(){c.removeClass(f.classPrefix+"waiting")});a.ui&&a.ui.keyCode&&c.bind("keydown",function(k){if(i[k.keyCode]){if(!a(k.target).is(".ui-slider-handle")){var m=5;switch(k.keyCode){case a.ui.keyCode.UP:if(k.ctrlKey)m+=5;b.apis[b.name].volume(Math.min(100,b.apis[b.name].volume()+m));break;case a.ui.keyCode.DOWN:if(k.ctrlKey)m+=5;b.apis[b.name].volume(Math.max(0,b.apis[b.name].volume()-m));break;case a.ui.keyCode.LEFT:if(k.ctrlKey)m+=55;b.apis[b.name].currentTime(Math.max(0,b.apis[b.name].currentTime()-
m));break;case a.ui.keyCode.RIGHT:if(k.ctrlKey)m+=55;b.apis[b.name].currentTime(Math.min(b.apis[b.name].getDuration(),b.apis[b.name].currentTime()+m));break}k.preventDefault()}}else if(k.keyCode===a.ui.keyCode.SPACE&&!a.nodeName(k.target,"button")){b.apis[b.name].togglePlay();k.preventDefault()}})}var w=/\s*\/\s*|\s*\|\s*/,q=a.fn.a11ySlider?"a11ySlider":"slider",l={"timeline-slider":function(c,g,b,f){function j(m,d){d.timeProgress!==undefined&&!k&&c[q]("value",d.timeProgress)}function p(){b.apis[b.name].loadedmeta&&
b.apis[b.name].loadedmeta.duration?c[q]("option","disabled",false):c[q]("option","disabled",true)}var k=false;c[q](f.timeSlider)[q]("option","disabled",true);b.apis[b.name].onAPIReady(function(){g.bind("loadedmeta",p).bind("timechange",j).bind("mediareset",function(){c[q]("value",0);p()}).bind("ended",function(){c[q]("value",100)});c.bind("slidestart",function(m){if(m.originalEvent)k=true}).bind("slidestop",function(){k=false}).bind("slide",function(m,d){m.originalEvent&&b.apis[b.name].relCurrentTime(d.value)});
p()})},"volume-slider":function(c,g,b,f){function j(k,m){p||c[q]("value",m.volumelevel)}var p=false;c[q](f.volumeSlider)[q]("option","disabled",true);b.apis[b.name].onAPIReady(function(){g.bind("volumelevelchange",j);c.bind("slidestart",function(k){if(k.originalEvent)p=true}).bind("slidestop",function(){p=false}).bind("slide",function(k,m){k.originalEvent&&b.apis[b.name].volume(m.value)});c[q]("option","disabled",false);c[q]("value",g.volume()||100)})},progressbar:function(c,g,b,f){function j(k,m){"relLoaded"in
m?c.progressbar("option","disabled",false).progressbar("value",m.relLoaded):c.progressbar("option","disabled",true)}function p(){c.progressbar("option","disabled",true).progressbar("value",0)}c.progressbar(f.progressbar).progressbar("option","disabled",true);b.apis[b.name].onAPIReady(function(){g.bind("progresschange",j).bind("mediareset",p)},"one")},duration:function(c,g,b,f){f.addThemeRoller&&c.addClass("ui-widget-content ui-corner-all");c.html("--:--");g.bind("loadedmeta",function(j,p){c.html(b.apis[b.name]._format(p.duration))}).bind("mediareset",
function(){c.html("--:--")});b.apis[b.name].onAPIReady(function(){c.html(b.apis[b.name].getFormattedDuration())})},"current-time":function(c,g,b,f){f.addThemeRoller&&c.addClass("ui-widget-content ui-corner-all");c.html("--:--");g.bind("timechange",function(j,p){c.html(b.apis[b.name]._format(p.time))}).bind("mediareset",function(){c.html("--:--")});b.apis[b.name].onAPIReady(function(){c.html(b.apis[b.name].getFormattedTime())})},"media-controls":function(c,g,b,f){function j(){var m=c.innerWidth()+
f.mediaControls.timeSliderAdjust,d=p.outerWidth(true)-p.innerWidth();a("> *",c).each(function(){if(p[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!f.excludeSel||!a(this).is(f.excludeSel)))d+=a(this).outerWidth(true)});p.css("width",m-d)}f.addThemeRoller&&c.addClass("ui-widget ui-widget-header ui-corner-all");if(f.mediaControls.dynamicTimeslider){var p=a("."+f.classPrefix+"timeline-slider",c),k=setTimeout(j,0);b.apis[b.name].onAPIReady(function(){clearInterval(k);setTimeout(j,
0)},"one");a(window).bind("resize",j);g.bind("resize emchange",j)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(c,g){l[c]=function(b,f,j,p){function k(){if(f[g.stateMethod]()){m.text.text(m.names[1]);m.icon.addClass(g.trueClass).removeClass(g.falseClass)}else{m.text.text(m.names[0]);
m.icon.addClass(g.falseClass).removeClass(g.trueClass)}}var m=a.fn.registerMMControl.getBtn(b);p.addThemeRoller&&b.addClass("ui-state-default ui-corner-all");j.apis[j.name].onAPIReady(function(){f.bind(g.evts,k);k()});b.bind("click",function(d){j.apis[j.name][g.actionMethod]();d.preventDefault()})}});var i={40:true,37:true,39:true,38:true};a.fn.registerMMControl=function(c){function g(){var b=s(this,c);b.api.controls=b.api.controls||[];if(b.api){b.controls.each(function(){var f=a(this);if(a.inArray(this,
b.api.controls)===-1){b.api.controls.push(this);a.each(l,function(j,p){if(f.hasClass(c.classPrefix+j)){p(f,b.mm,b.api,c);return false}})}});b.controlsgroup&&b.controlsgroup[0]&&t(b.controlsgroup,b.mm,b.api,c)}}c=a.extend(true,{},a.fn.registerMMControl.defaults,c);c.controlSel=[];a.each(l,function(b){b!=="media-controls"&&c.controlSel.push("."+c.classPrefix+b)});c.controlSel.push("."+c.classPrefix+"media-controls");c.controlSel=c.controlSel.join(", ");return this.each(g)};a.fn.registerMMControl.defaults=
{embed:a.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{}};a.fn.registerMMControl.getBtn=function(c){var g={icon:a(".ui-icon",c),text:a(".button-text",c)};if(!g.icon[0]&&!g.text[0]&&!a("*",c)[0]){g.icon=c;g.text=c}g.names=g.text.text().split(w);if(g.names.length!==2)g.text=a([]);return g};a.fn.registerMMControl.addControl=function(c,g){l[c]=g}})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var s={type:"application/x-shockwave-flash"},t={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},w=a.multimediaSupport;(function(){a.support.flash9=false;var l=w.getPluginVersion("Shockwave Flash"),i=function(g){a.support.flash9=false;try{g=w.getPluginVersion("",{description:g.GetVariable("$version")});a.support.flash9=!!(g[0]>9||g[0]===
9&&g[1]>=115)}catch(b){}};if(l[0]>9||l[0]===9&&l[1]>=115){a.support.flash9=true;a(function(){l=a("<object />",s).appendTo("body");i(l[0]);l.remove()})}else if(window.ActiveXObject)try{l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");i(l);l=null}catch(c){}})();var q={isTechAvailable:function(){return a.support.flash9},_embed:function(l,i,c,g){var b=this.embedOpts.jwPlayer;l=a.extend({},b.vars,{file:l,id:i});var f=a.extend({name:i,data:b.path},b.attrs,s),j=a.extend({movie:b.path},b.params);if(c.poster)l.image=
c.poster;l.autostart=""+c.autoplay;l.repeat=c.loop?"single":"false";l.controlbar=c.controls?"bottom":"none";if(b.playFirstFrame&&!c.poster&&!c.autoplay){this.data.playFirstFrame=true;l.autostart="true"}j.flashvars=[];a.each(l,function(p,k){j.flashvars.push(p+"="+k)});j.flashvars=j.flashvars.join("&");g(w.embedObject(this.visualElem[0],i,f,j,t,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime",
"video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};w.add("jwPlayer","video",q);w.add("jwPlayer","audio",q)})(jQuery);
(function(a){function s(i){i=i.replace(w,"");return a.data(t.getElementById(i),"mediaElemSupport").apis.jwPlayer}var t=document,w=/^jwPlayer-/,q={View:{PLAY:function(i){(i=i.state&&s(i.id))&&i._trigger("play")}},Model:{META:function(i){if(i.type==="metadata"){var c=s(i.id);c&&c._trigger({type:"loadedmeta",duration:i.duration})}},TIME:function(i){var c=s(i.id),g={type:"timechange",time:i.position};if(c){c.loadedmeta||c._trigger({type:"loadedmeta",duration:i.duration});c.currentPos=i.position;if(i.duration){g.duration=
i.duration;g.timeProgress=i.position/i.duration*100}if(i.position&&c.data.playFirstFrame&&!c.data.playThrough){c.pause();c.data.playThrough=true}c._trigger(g)}},STATE:function(i){if(i.newstate==="IDLE")return false;var c=s(i.id),g;if(!c)return false;switch(i.newstate){case "PLAYING":g="playing";break;case "PAUSED":g="pause";break;case "COMPLETED":g="ended";break;case "BUFFERING":g="waiting";break}g&&c._trigger(g);return g}},Controller:{VOLUME:function(i){var c=s(i.id);c&&c._trigger({type:"volumelevelchange",
volumelevel:i.percentage})},MUTE:function(i){var c=s(i.id);c&&c._trigger({type:"mute",isMuted:i.state})}}};window.jwEvents={four:a.extend(true,{},q,{Model:{LOADED:function(i){var c=s(i.id);if(c){var g={type:"progresschange",lengthComputable:!!i.total};if(i.total){a.extend(g,{relLoaded:i.total/i.loaded*100});c._buffered=g.relLoaded}c._trigger(g)}}}}),five:a.extend(true,{},q,{Model:{BUFFER:function(i){var c=s(i.id);if(c){var g={type:"progresschange",relLoaded:i.percentage,relStart:0};c._buffered=i.percentage;
c._trigger(g)}},STATE:function(i){if(q.Model.STATE(i)==="playing")(i=s(i.id))&&i._trigger("play")}}})};window.playerReady=function(i){var c=s(i.id);if(c){var g=parseInt(i.version,10)>4?"five":"four";a.each(jwEvents[g],function(b,f){a.each(f,function(j){c.apiElem["add"+b+"Listener"](j,"jwEvents."+g+"."+b+"."+j)})});c._trigger("mmAPIReady")}};var l={_init:function(){this._buffered=this._buffered||0},play:function(){this.data.playThrough=true;this.apiElem.sendEvent("PLAY","true");this._trigger("play")},
pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var i=this.apiElem.getConfig();return i?i.state==="PLAYING":undefined},_mmload:function(i,c){this.apiElem.sendEvent("LOAD",{file:i,image:c||false});a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(i){if(typeof i!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",i?"true":false)},_isSeekable:function(i){var c=this.getCurrentSrc();
if(this._buffered===100||c.indexOf("http")!==0&&c.indexOf("file")!==0)return true;c=this.getDuration();if(!c)return false;return i/c*100<this._buffered},currentTime:function(i){if(!isFinite(i))return this.currentPos||0;var c=this,g=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),b=function(){c.apiElem.sendEvent("SEEK",i);c.currentPos=i;c._trigger({type:"timechange",time:i})},f=function(){a(c.element).unbind(".jwseekrequest")};if(!g){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY",
"false")}clearTimeout(this._seekrequestTimer);f();if(this._isSeekable(i))b();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(c._isSeekable(i)){f();clearTimeout(c._seekrequestTimer);g&&c.apiElem.sendEvent("PLAY","true");c._seekrequestTimer=setTimeout(b,99)}}).bind("mediareset.jwseekrequest",f).bind("play.jwseekrequest",f).bind("pause.jwseekrequest",f);this._seekrequestTimer=setTimeout(f,9999)}},getDuration:function(){var i=
this.apiElem.getPlaylist()[0].duration||0;return i<0?0:i},volume:function(i){if(!isFinite(i))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+i)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.multimediaSupport.add("jwPlayer","video",l);a.multimediaSupport.add("jwPlayer","audio",l)})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var s=a.multimediaSupport,t={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},w={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},q={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(s.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(l){}return a.support.vlc},_embed:function(l,i,c,g){var b=this.embedOpts.vlc,f=a.extend({},b.attrs,{data:l},t);c=a.extend({},b.params,{Src:l,ShowDisplay:"True",autoplay:""+c.autoplay,autoloop:""+c.loop});i=s.embedObject(this.visualElem[0],i,f,c,w,"VLC Multimedia Plug-in");this._currentSrc=l;g(i)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};s.add("vlc","video",q);s.add("vlc","audio",q)})(jQuery);
(function(a){function s(c){function g(){try{if(c.apiElem.input){t("mmAPIReady",c);clearInterval(b);if(a.attr(c.element,"autoplay"))q.start(c);else{c.apiElem.playlist.stop();setTimeout(function(){c.apiElem.playlist.stop()},0)}}}catch(f){}}var b;clearInterval(b);b=setInterval(g,333);g()}function t(c,g){setTimeout(function(){g._trigger(c)},0)}function w(c){setTimeout(function(){c._intervalCheck()},9)}var q={start:function(c){q.end(c);c._intervalCheckTimer=setInterval(function(){c._intervalCheck.call(c)},
1E3)},end:function(c){c._intervalCheckTimer&&clearInterval(c._intervalCheckTimer)}},l={2:"waiting",3:"playing",4:"pause",6:"ended"},i={_init:function(){s(this)},_intervalCheck:function(){var c=this.apiElem,g=c.input.state,b=this,f={type:"loadedmeta",duration:c.input.length/1E3},j;if(g&&g>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==f.duration){t(f,b);this.data.metaLoaded=f}j={type:"timechange",time:c.input.time/1E3};if(g&&g>1&&this.data.time!==j.time){if(f.duration){j.duration=
f.duration;j.timeProgress=c.input.position*100}this.data.time=j.time;t(j,b)}j={type:"mute",isMuted:c.audio.mute};if(j.isMuted!==this.data.isMuted){this.data.isMuted=j.isMuted;t(j,b)}j={type:"volumelevelchange",volumelevel:c.audio.volume/2};if(j.volumelevel!==this.data.volumelevel){this.data.volumelevel=j.volumelevel;t(j,b)}if(g!==this.data.state){this.data.state=g;l[g]&&t(l[g],b);l[g]==="ended"&&c.playlist.stop();if(g===3)q.start(b);else if(g===4||g===5||g===6||g===7)q.end(b)}},play:function(){this.apiElem.playlist.play();
this._trigger("play");q.start(this);w(this)},pause:function(){if(l[this.apiElem.input.state]==="playing"){q.end(this);this.apiElem.playlist.togglePause();w(this)}},_isPlaying:function(){var c=false;try{c=l[this.apiElem.input.state]==="playing"}catch(g){}return c},_mmload:function(c){a(this.element).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};var g=this.apiElem.playlist.add(c," ",":no-video-title-show");this._currentSrc=c;this.apiElem.playlist.playItem(g);this.apiElem.playlist.items.clear();
if(!a.attr(this.element,"autoplay")){q.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},currentTime:function(c){try{if(!isFinite(c))return this.apiElem.input.time/1E3;this.apiElem.input.time=c*1E3;w(this)}catch(g){if(!isFinite(c))return 0}},getDuration:function(){var c;try{c=this.apiElem.input.length/1E3||0}catch(g){c=0}return c},volume:function(c){if(!isFinite(c))return parseInt(this.apiElem.audio.volume/2,10);this.apiElem.audio.volume=c*2;w(this)},muted:function(c){if(typeof c!==
"boolean")return this.apiElem.audio.mute;this.apiElem.audio.mute=c;w(this)}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=true;else{var c=this;a(c.element).one("playing.enterFullscreen",function(){c.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},i));a.multimediaSupport.add("vlc","audio",i)})(jQuery);
