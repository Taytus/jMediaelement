/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function r(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function t(b){if(a.support.mediaElements){var g=a.data(this,"mediaElemSupport");if(g&&g.apis){b&&b.type&&a.data(this,"calledMediaError",false);g=g.apis;b=this;var i=a.attr(this,"srces");if(b.error||i.length&&!g.nativ.canPlaySrces(i)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{b.pause()}catch(n){}}a("source",this).unbind("error",r).filter(":last").bind("error",
r)}}}function u(b){var g=b.indexOf("?"),i="";b=g>0?b.substring(0,g):b;g=b.lastIndexOf(".")+1;return i=b.substr(g)}function x(b,g){var i=b.nodeName.toLowerCase();g=k.getSuitedPlayers(b,g.apiOrder);var n=a.data(b,"mediaElemSupport");if(g){if(g!=="noSource")if(k._setAPIActive(b,g.name))n.apis[g.name]._mmload&&n.apis[g.name]._mmload(g.src,a.attr(b,"poster"));else k._embedApi(b,g,n,i)}else{n.apis.nativ._trigger({type:"totalerror"});try{b.pause()}catch(o){}}}a.multimediaSupport={};var k=a.multimediaSupport,
v=(new Date).getTime(),d=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var h=a.attr,f=/video|audio|source/i,c={src:1,poster:1},e={loop:1,autoplay:1,controls:1},j={srces:1,getConfig:1,preload:1},q={auto:1,metadata:1,none:1};a.attr=function(b,g,i,n){if(!(b.nodeName&&f.test(b.nodeName)&&(j[g]||e[g]||c[g])))return h(b,g,i,n);var o;if(i===undefined){if(e[g])return typeof b[g]==="boolean"?
b[g]:!!(b.attributes[g]||{}).specified;if(c[g])return a.support.video&&b[g]||k.makeAbsURI(b.getAttribute(g));switch(g){case "srces":if(o=a.attr(b,"src"))o=[{src:o,type:b.getAttribute("type"),media:b.getAttribute("media")}];else{o=[];a("source",b).each(function(){o.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});o.length||a("a.source",b).each(function(){o.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;
case "getConfig":o={};a.each(["autoplay","loop","controls","poster","preload"],function(p,s){o[s]=a.attr(b,s)});break;case "preload":o=b.getAttribute("preload");q[o]||(o="auto");break}return o}else if(e[g]){i=!!i;if(b[g]=i){b[g]=i;b.setAttribute(g,g)}else{b[g]=i;b.removeAttribute(g)}}else if(c[g])b.setAttribute(g,i);else if(g==="srces"){a("source, a.source",b).remove();b.removeAttribute("src");i=a.isArray(i)?i:[i];a.each(i,function(p,s){o=d.createElement("source");if(typeof s==="string")s={src:s};
o.setAttribute("src",s.src);s.type&&o.setAttribute("type",s.type);s.media&&o.setAttribute("media",s.media);b.appendChild(o)})}else if(g==="getConfig")a.each(i,function(p,s){a.attr(b,p,s)});else g==="preload"&&q[i]&&b.setAttribute(g,i)};a.event.special.mediaerror={setup:function(){var b=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",t);setTimeout(function(){b.each(t)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",
r)},handler:function(b){if(!a.data(this,"calledMediaError")){b=a.extend({},b||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};var m={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov",
"qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"]}};a.extend(k,{registerMimetype:function(b,g){arguments.length===1?a.each(m,function(i){k.registerMimetype(i,b)}):a.each(g,function(i,n){if(m[b][i])m[b][i]=[];m[b][i]=m[b][i].concat(n)})},_showMimeTypes:function(){window.console&&console.log(m)},add:function(b,g,i){if(!this.apis[g][b]){this.apis[g][b]=k.beget(this.fn);b!=="nativ"&&a.inArray(b,a.fn.jmeEmbed.defaults.apiOrder)===-1&&a.fn.jmeEmbed.defaults.apiOrder.push(b)}a.extend(true,
this.apis[g][b],i)},fn:{_init:a.noop,canPlayType:function(b){var g=this.apiElem,i;if(g&&g.canPlayType){i=g.canPlayType(b);return i==="no"?"":i}b=k.extractContainerCodecsFormType(b);var n=this;i="probably";if(!b[1])return this.canPlayContainer&&a.inArray(b[0],this.canPlayContainer)!==-1?"maybe":"";a.each(b[1],function(o,p){if(!n.canPlayCodecs||a.inArray(p,n.canPlayCodecs)===-1){i="";return false}});return i},canPlaySrc:function(b){var g=this;if(typeof b!=="string"){if(b.type)return this.canPlayType(b.type);
b=b.src}var i=u(b),n="";a.each(m[this.nodeName],function(o,p){if(a.inArray(i,p)!==-1){n=g.canPlayType(o);return false}});return n},canPlaySrces:function(b){b=b||a.attr(this.element,"srces");a.isArray(b)||(b=[b]);var g=this,i=false,n="";a.each(b,function(o,p){if(i=g.canPlaySrc(p)){n=p;return false}});return n},_setActive:a.noop,_setInactive:a.noop,_trigger:function(b){a(this.element).triggerHandler(b,b)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(b){b=b.split(/\s*;\s*/g);if(b[1]&&
b[1].indexOf("codecs")!==-1)b[1]=b[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return b},makeAbsURI:function(){return function(b){if(b&&typeof b==="string")b=a('<a href="'+b+'"></a>')[0].href;return b}}(),beget:function(b){var g=function(){};g.prototype=b;return new g},_create:function(b,g,i,n){var o=a.data(i,"mediaElemSupport")||a.data(i,"mediaElemSupport",{apis:{},nodeName:b});if(!o.apis[g]){o.apis[g]=k.beget(k.apis[b][g]);o.apis[g].element=i;o.apis[g].nodeName=b;o.apis[g].name=
g;o.apis[g].data={};o.apis[g].embedOpts=n}return o},_setAPIActive:function(b,g){var i=a.data(b,"mediaElemSupport"),n=i.name;if(n===g)return true;var o=i.apis[n].apiElem,p=i.apis[g]&&i.apis[g].apiElem,s=false;if(p&&p.nodeName){if(i.nodeName!=="audio"||a.attr(b,"controls"))g==="nativ"?i.apis[g].visualElem.css({display:""}):i.apis[g].visualElem.css({width:i.apis[n].visualElem.width(),height:i.apis[n].visualElem.height(),visibility:""});i.apis[g]._setActive(n);s=true;i.apis[g]._trigger({type:"apiActivated",
api:g})}i.apis[g].isAPIActive=true;if(o&&o.nodeName){if(n==="nativ")o.style.display="none";else i.apis[n].visualElem.css({height:0,width:0,visibility:"hidden"});i.apis[n]._setInactive(g);i.apis[n].isAPIActive=false;i.apis[g]._trigger({type:"apiDeActivated",api:n})}i.name=g;return s},getSuitedPlayers:function(b,g){var i=a.data(b,"mediaElemSupport");if(i&&i.apis){i=i.apis;var n=a.attr(b,"srces"),o=false,p=function(s,w){if(!(typeof w.isTechAvailable==="boolean"&&!w.isTechAvailable||a.isFunction(w.isTechAvailable)&&
!w.isTechAvailable())){if(w=w.canPlaySrces(n))o={src:w.src||w,name:s};return o}};if(!n.length)return"noSource";g?a.each(g,function(s,w){return!p(w,i[w])}):a.each(i,function(s,w){return!p(s,w)});return o}},_embedApi:function(b,g,i){var n=a.attr(b,"getConfig"),o=a(b),p=b.id,s=o.attr("aria-labelledby");if(!p){v++;p=i.nodeName+"-"+v;b.id=p}i.apis[g.name].visualElem=a('<div class="media-element-box mm-'+i.nodeName+'-box" style="position: relative; overflow: hidden;" />').insertBefore(b);s&&i.apis[g.name].visualElem.attr({role:"group",
"aria-labelledby":s});i.nodeName==="audio"&&!n.controls?i.apis[g.name].visualElem.css({height:0,width:0,overflow:"hidden"}):i.apis[g.name].visualElem.css({width:o.width(),height:o.height()});i.apis[g.name]._embed(g.src,i.name+"-"+p,n,function(w){i.apis[g.name].apiElem=w;a(w).addClass(i.nodeName).attr("tabindex",!n.controls?"-1":"0");i.apis[g.name]._init();i.apis[g.name]._trigger({type:"apiActivated",api:g.name})})},getPluginVersion:function(b,g){g=g||navigator.plugins&&navigator.plugins[b];b=[-1,
0];if(g)if((g=(g.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&g[0]){b[0]=g[0];if(g[1])b[0]+="."+g[1];b[0]=parseFloat(b[0],10);if(g[2])b[1]=parseInt(g[2],10)}return b},embedObject:function(b,g,i,n,o){b=a("<div />").appendTo(b)[0];var p;if(navigator.plugins&&navigator.plugins.length){p=d.createElement("object");a.each(i,function(s,w){p.setAttribute(s,w)});a.each(n,function(s,w){var y=d.createElement("param");y.setAttribute("name",s);y.setAttribute("value",w);p.appendChild(y)});p.setAttribute("id",
g);p.setAttribute("name",g);b.parentNode.replaceChild(p,b)}else if(window.ActiveXObject){p="<object";a.each(a.extend({},i,o),function(s,w){p+=" "+s+'="'+w+'"'});p+=' name="'+g+'"';p+=' id="'+g+'"';p+=">";a.each(n,function(s,w){p+=' <param name="'+s+'" value="'+w+'" />'});p+="</object>";b.outerHTML=p;p=d.getElementById(g)}if(p){p.setAttribute("width","100%");p.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([p]);p=null});setTimeout(function(){if(p&&p.setAttribute){p.setAttribute("width",
"100%");p.setAttribute("height","100%")}},0);p.tabIndex=-1;return p}});k.add("nativ","video",{});k.add("nativ","audio",{});a.fn.jmeEmbed=function(b){b=a.extend(true,{},a.fn.jmeEmbed.defaults,b);return this.each(function(){var g=this.nodeName.toLowerCase();if(!(g!=="video"&&g!=="audio")){var i=this;b.removeControls&&a.attr(this,"controls",false);var n=k._create(g,"nativ",this,b);n.name="nativ";n.apis.nativ.apiElem=this;n.apis.nativ.visualElem=a(this);n.apis.nativ.isAPIActive=true;a.each(k.apis[g],
function(o){o!=="nativ"&&k._create(g,o,i,b)});b.showFallback&&a.support.mediaElements&&a(this).bind("totalerror",function(){a(this).hide().children(":not(source, itext)").insertAfter(this)});if(b.debug||!a.support.mediaElements){x(this,b);n.apis.nativ.isAPIReady=true}else n.apis.nativ._init();a(this).bind("mediaerror",function(){n.name==="nativ"&&x(this,b)})}})};a.fn.jmeEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};a.fn.mediaElementEmbed=a.fn.jmeEmbed;if(a.cleanData&&
window.ActiveXObject){var l=a.cleanData;a.cleanData=function(b){l(b);for(var g=0,i=b.length;g<i;g++)if(b[g].nodeName==="OBJECT")try{for(var n in b[g])if(typeof b[g][n]==="function")b[g][n]=null}catch(o){}}}})(jQuery);
(function(a){var r=document.createElement("video"),t=a.multimediaSupport,u={apiActivated:1,apiDeActivated:1,mediareset:1,native_mediareset:1,totalerror:1,jmeflashRefresh:1},x={native_mediareset:1,apiDeActivated:1,native_mediareset:1,apiActivated:1,timechange:1,progresschange:1,mmAPIReady:1,jmeflashRefresh:1},k={};if("enterFullScreen"in r&&r.supportsFullscreen){a.support.videoFullscreen=true;k.enter="enterFullScreen";k.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(c,e){if(e+
"EnterFullScreen"in r&&r[e+"SupportsFullscreen"]){a.support.videoFullscreen=true;k.enter=e+"EnterFullScreen";k.exit=e+"ExitFullScreen";return false}});r=null;a.extend(t,{formatTime:function(c){return a.map([parseInt(c/60,10),parseInt(c%60,10)],function(e){return isNaN(e)?"--":e<10?"0"+e:e}).join(":")}});a.event.special.loadedmeta={add:function(c){var e=a(this).getJMEAPI();if(e&&e.loadedmeta){e=a.extend({},e.loadedmeta);c.handler.call(this,e,e)}}};a.extend(t.fn,{_trigger:function(c){var e=c.type?c:
{type:c},j=e.type;switch(j){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=e;break;case "totalerror":this.totalerror=true;break;case "mediareset":this._bufferLoaded=this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!u[j])){!this.isAPIReady&&!u[j]&&this._trigger("mmAPIReady");if(c.type==="progresschange"){if(isFinite(this._bufferLoaded)&&isFinite(c.relLoaded)&&this._bufferLoaded>=c.relLoaded)return;this._bufferLoaded=
c.relLoaded;c.relStart=c.relStart||0;if(this._concerningBufferStart!==c.relStart){this._concerningBufferStart=c.relStart;this._trigger({type:"bufferrange",relStart:c.relStart,relLoaded:c.relLoaded})}}c.target=this.element;c=a.Event(c);c.preventDefault();e.mediaAPI=this.name;x[j]&&c.stopPropagation();a.event.trigger(c,e,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,isJMEReady:function(){return this.isAPIReady},
relCurrentTime:function(c){var e=this.getDuration()||Number.MIN_VALUE;c&&isFinite(c)&&this.currentTime(e*c/100);return this.currentTime()/e*100},getMediaAPI:function(){return this.mediaAPI},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getJMEVisual:function(){return this.visualElem},onAPIReady:function(c,e){var j={type:"mmAPIReady"};if(this.isJMEReady())c.call(this.element,j,j);else{e=e||"jmediaelement";var q=this,m=function(){a(q.element).unbind("mmAPIReady."+
e,m).unbind("jmeflashRefresh."+e,m);c.call(q.element,j,j)};a(this.element).bind("mmAPIReady."+e,m).bind("jmeflashRefresh."+e,m)}},unAPIReady:function(c){a(this.element).unbind("mmAPIReady."+c)},_format:t.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(c,e){if(c){a.attr(this.element,"srces",c);c=a.isArray(c)?c:[c]}else c=a.attr(this.element,"srces");if(e!==undefined)e?a.attr(this.element,
"poster",e):a(this.element).removeAttr("poster");else e=a.attr(this.element,"poster");this._isResetting=true;c=this.canPlaySrces(c);this._trigger("mediareset");if(c){c=c.src||c;this._mmload(c,e)}else{t._setAPIActive(this.element,"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()},_makenum:function(c){var e=false;if(c==c*1)e=parseFloat(c,10);return e},
_hidePoster:function(){if(!this._isHiddenPoster){a("img.poster-image",this.visualElem).css("visibility","hidden");a(this.apiElem).css("visibility","");this._isHiddenPoster=true}},_showPoster:function(c,e){if(e.time)this._isHiddenPoster||this._hidePoster();else{a("img.poster-image",this.visualElem).css("visibility","");a(this.apiElem).css("visibility","hidden");this._isHiddenPoster=false}},_setPoster:function(c){a("img.poster-image",this.visualElem).remove();a(this.element).unbind(".jme_poster");if(c){var e=
this.currentTime();a("<img />",{"class":"poster-image",css:{position:"absolute",top:0,left:0,margin:0,"float":"none",maxHeight:"100%",maxWidth:"100%",width:"100%",height:"auto",visibility:"hidden"},src:c}).appendTo(this.visualElem);this._isHiddenPoster=true;a(this.element).bind("play.jme_poster",a.proxy(this,"_hidePoster")).bind("timechange.jme_poster",a.proxy(this,"_showPoster"));!isFinite(e)||!e?this._showPoster(false,{time:0}):this._hidePoster()}}});var v=function(c){var e,j=function(){for(var m=
c.element.currentTime,l=c.element.buffered,b=l.length,g={},i=0;i<b;i++){g.start=l.start(i);g.end=l.end(i);if(g.start<=m&&g.end>=m)break}return g},q=function(m){var l={type:"progresschange"},b;if(this.buffered&&this.buffered.length){if(m=this.duration){b=j();l.relStart=b.start/m*100;l.relLoaded=b.end/m*100}c._trigger(l)}else if(m.originalEvent&&"lengthComputable"in m.originalEvent&&m.originalEvent.loaded){if(m.originalEvent.lengthComputable&&m.originalEvent.total){l.relStart=0;l.relLoaded=m.originalEvent.loaded/
m.originalEvent.total*100}if(!e){a(this).unbind(m.type==="load"?"progress":"load",q);e=true}c._trigger(l)}};a(c.element).bind("progress load",q)},d={isTechAvailable:a.support.mediaElements,_init:function(){var c=this,e=this.apiElem.muted;v(this);a(this.element).bind({volumechange:function(){if(e!==c.apiElem.muted){e=c.apiElem.muted;c._trigger.call(c,{type:"mute",isMuted:e})}else c._trigger.call(c,{type:"volumelevelchange",volumelevel:c.apiElem.volume*100})},timeupdate:function(){var j={type:"timechange",
time:this.currentTime};if(this.duration){j.duration=this.duration;j.timeProgress=j.time/j.duration*100}c._trigger(j)},loadedmetadata:function(){c._trigger({type:"loadedmeta",duration:this.duration})}}).bind("play pause playing ended waiting",function(j,q){if(!(!c.isAPIActive||c.totalerror||j.bubbles)){var m=this.parentNode||this.ownerDocument;if(!j.isPropagationStopped()&&m){j.bubbles=true;q=jQuery.makeArray(q);q.unshift(j);a.event.trigger(j,q,m,true)}}});if(!this.element.error)if(this.element.readyState>
0)this._trigger({type:"loadedmeta",duration:this.element.duration});else if(this.element.networkState!==2||!a.browser.mozilla)this._trigger("mmAPIReady")},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(c){if(typeof c!=="boolean")return this.element.muted;this.element.muted=c},volume:function(c){if(!isFinite(c))return this.element.volume*100;this.element.volume=c/100},currentTime:function(c){if(!isFinite(c))return this.element.currentTime;try{this.element.currentTime=
c}catch(e){}},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};t.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[k.enter]()}catch(c){}},
exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[k.exit]()}catch(c){}}},d));t.add("nativ","audio",d);a.fn.getJMEAPI=function(c){if(this[0]){var e=a.data(this[0],"mediaElemSupport");return c||!e||!e.name||!e.apis?e:e.apis[e.name]}};a.fn.getMMAPI=a.fn.getJMEAPI;var h={onAPIReady:1,loadSrc:1};t.registerAPI=function(c){if(typeof c==="string")c=[c];a.each(c,function(e,j){if((e=t.apis.video.nativ[j])&&!a.fn[j]&&a.isFunction(e)&&j.indexOf("_")!==0)a.fn[j]=function(){var q=
arguments,m;this.each(function(){var l=a(this).getJMEAPI();if(l)if(h[j]||l.isJMEReady()&&!l.totalerror&&(l.name!=="nativ"||a.support.mediaElements))m=l[j].apply(l,q);else{l.unAPIReady(j+"queue");l.onAPIReady.call(l,function(){l[j].apply(l,q)},j+"queue")}});return m===undefined?this:m}})};var f=[];a.each(t.apis.video.nativ,function(c){f.push(c)});t.registerAPI(f);t.fn._extend=function(c){var e=[];a.each(c,function(j,q){t.fn[j]=q;e.push(j)});t.registerAPI(e)}})(jQuery);
(function(a){function r(f,c){f=a(f);var e={},j=f.attr("data-controls");e.mm=j?a("#"+j):a("video, audio",f).filter(":first");e.api=e.mm.getJMEAPI(true)||e.mm.jmeEmbed(c.embed).getJMEAPI(true);if(f.is(c.controlSel))e.controls=f;if(!e.controls||e.controls.hasClass(c.classPrefix+"media-controls")){e.controlsgroup=f;if(f[0]&&!e.api.controlWrapper&&a.contains(f[0],e.mm[0]))e.api.controlWrapper=f;e.controls=e.controls?a(c.controlSel,f).add(e.controls):a(c.controlSel,f);e.api.controlBar=e.controls.filter("."+
c.classPrefix+"media-controls")}return e}function t(f,c,e,j){var q=j.classPrefix+"playing "+j.classPrefix+"totalerror "+j.classPrefix+"waiting",m=function(){f.removeClass(q)};f.addClass(j.classPrefix+e.name);c.bind({apiActivated:function(l,b){f.addClass(j.classPrefix+b.api)},apiDeActivated:function(l,b){f.removeClass(j.classPrefix+b.api)}}).bind("playing totalerror waiting",function(l){m();f.addClass(j.classPrefix+l.type)}).bind("pause ended mediareset",function(){m()}).bind("canplay",function(){f.removeClass(j.classPrefix+
"waiting")});a.ui&&a.ui.keyCode&&f.bind("keydown",function(l){if(!l.jmeHandledEvent){l.jmeHandledEvent=true;if(v[l.keyCode]){if(!a(l.target).is(".ui-slider-handle")){var b=5;switch(l.keyCode){case a.ui.keyCode.UP:if(l.ctrlKey)b+=5;c.volume(Math.min(100,c.volume()+b));break;case a.ui.keyCode.DOWN:if(l.ctrlKey)b+=5;c.volume(Math.max(0,c.volume()-b));break;case a.ui.keyCode.LEFT:if(l.ctrlKey)b+=55;c.currentTime(Math.max(0,c.currentTime()-b));break;case a.ui.keyCode.RIGHT:if(l.ctrlKey)b+=55;c.currentTime(Math.min(c.getDuration(),
c.currentTime()+b));break}l.preventDefault()}}else if(l.keyCode===a.ui.keyCode.SPACE&&(!a.nodeName(l.target,"button")&&a.attr(l.target,"role")!=="button"||f.hasClass("wraps-fullscreen"))){c.togglePlay();l.preventDefault()}}})}if(!a.event.special.ariaclick){var u=false;function x(f){if(!u&&(!f.keyCode||f.keyCode===13||f.keyCode===32&&a.attr(f.target,"role")==="button")){u=true;setTimeout(function(){u=false},1);return a.event.special.ariaclick.handler.apply(this,arguments)}else if(u&&f.type=="click"){f.preventDefault();
return false}}a.event.special.ariaclick={setup:function(){a(this).bind("click keydown",x);return true},teardown:function(){a(this).unbind("click keydown",x);return true},handler:function(f){f.type="ariaclick";return a.event.handle.apply(this,arguments)}}}var k=/\s*\/\s*|\s*\|\s*/,v={40:true,37:true,39:true,38:true},d=a.fn.a11ySlider?"a11ySlider":"slider",h={"timeline-slider":function(f,c,e,j){function q(b,g){g.timeProgress!==undefined&&!l&&f[d]("value",g.timeProgress)}function m(){e.apis[e.name].loadedmeta&&
e.apis[e.name].loadedmeta.duration?f[d]("option","disabled",false):f[d]("option","disabled",true)}var l=false;f[d](j.timeSlider)[d]("option","disabled",true);c.bind("loadedmeta",m).bind("timechange",q).bind("mediareset",function(){f[d]("value",0);m()}).bind("ended",function(){f[d]("value",100)});f.bind("slidestart",function(b){if(b.originalEvent)l=true}).bind("slidestop",function(){l=false}).bind("slide",function(b,g){b.originalEvent&&e.apis[e.name].isAPIReady&&e.apis[e.name].relCurrentTime(g.value)})},
"volume-slider":function(f,c,e,j){function q(l,b){m||f[d]("value",b.volumelevel)}var m=false;f[d](j.volumeSlider)[d]("option","disabled",true);f.bind("slidestart",function(l){if(l.originalEvent)m=true}).bind("slidestop",function(){m=false}).bind("slide",function(l,b){l.originalEvent&&e.apis[e.name].isAPIReady&&e.apis[e.name].volume(b.value)});c.bind("volumelevelchange",q).onAPIReady(function(){f[d]("option","disabled",false);f[d]("value",parseFloat(c.volume(),10)||100)})},progressbar:function(f,c,
e,j){function q(l,b){"relLoaded"in b?f.progressbar("option","disabled",false).progressbar("value",b.relLoaded):f.progressbar("option","disabled",true)}function m(){f.progressbar("option","disabled",true).progressbar("value",0)}f.progressbar(j.progressbar).progressbar("option","disabled",true);c.bind("progresschange",q).bind("mediareset",m)},duration:function(f,c,e,j){j.addThemeRoller&&f.addClass("ui-widget-content ui-corner-all");f.html("00:00");c.bind("loadedmeta",function(q,m){f.html(e.apis[e.name]._format(m.duration))}).bind("mediareset",
function(){f.html("00:00")})},"current-time":function(f,c,e,j){var q=j.currentTime.reverse?function(l,b){f.html(e.apis[e.name]._format(m-b.time))}:function(l,b){f.html(e.apis[e.name]._format(b.time))},m=Number.MIN_VALUE;j.addThemeRoller&&f.addClass("ui-widget-content ui-corner-all");f.html("00:00").attr("role","timer");j.currentTime.reverse&&c.bind("loadedmeta",function(l,b){m=b.duration||Number.MIN_VALUE;q(false,{time:0})});c.bind("timechange",q).bind("mediareset",function(){f.html("00:00")})},"media-controls":function(f,
c,e,j){function q(){var b=f.innerWidth()+j.mediaControls.timeSliderAdjust,g=m.outerWidth(true)-m.innerWidth();a("> *",f).each(function(){if(m[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!j.excludeSel||!a(this).is(j.excludeSel)))g+=a(this).outerWidth(true)});m.css("width",b-g)}j.addThemeRoller&&f.addClass("ui-widget ui-widget-header ui-corner-all");f.attr("role","toolbar");if(j.mediaControls.dynamicTimeslider){var m=a("."+j.classPrefix+"timeline-slider",f),l=setTimeout(q,
0);c.onAPIReady(function(){clearInterval(l);setTimeout(q,0)});a(window).bind("resize",q);c.bind("resize emchange",q)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(f,c){h[f]=function(e,j,q,m){function l(){if(j[c.stateMethod]()){b.text.text(b.names[1]);
b.title.attr("title",b.titleText[1]);b.icon.addClass(c.trueClass).removeClass(c.falseClass)}else{b.text.text(b.names[0]);b.title.attr("title",b.titleText[0]);b.icon.addClass(c.falseClass).removeClass(c.trueClass)}}var b=a.fn.jmeControl.getBtn(e);m.addThemeRoller&&e.addClass("ui-state-default ui-corner-all");j.bind(c.evts,l).onAPIReady(l);e.bind("ariaclick",function(g){j[c.actionMethod]();g.preventDefault()})}});a.fn.jmeControl=function(f){function c(){var e=r(this,f);e.api.controls=e.api.controls||
[];if(e.api){e.controls.each(function(){var j=a(this);if(a.inArray(this,e.api.controls)===-1){e.api.controls.push(this);a.each(h,function(q,m){if(j.hasClass(f.classPrefix+q)){m(j,e.mm,e.api,f);return false}})}});e.api.controlWrapper&&e.api.controlWrapper[0]&&t(e.api.controlWrapper,e.mm,e.api,f)}}f=a.extend(true,{},a.fn.jmeControl.defaults,f);f.controlSel=[];a.each(h,function(e){e!=="media-controls"&&f.controlSel.push("."+f.classPrefix+e)});f.controlSel.push("."+f.classPrefix+"media-controls");f.controlSel=
f.controlSel.join(", ");return this.each(c)};a.fn.jmeControl.defaults={embed:a.fn.jmeEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{},currentTime:{reverse:false}};a.support.waiaria=!a.browser.msie||a.browser.version>7;a.fn.jmeControl.getBtn=function(f){var c={icon:a(".ui-icon",f),text:a(".button-text",f),title:f};if(!f.is(":button")&&!f.attr("role")){a.support.waiaria&&f.removeAttr("href");
f.attr({role:"button",tabindex:0})}if(!c.icon[0]&&!c.text[0]&&!a("*",f)[0]){c.icon=f;c.text=f}c.names=c.text.text().split(k);c.titleText=(f.attr("title")||"").split(k);if(c.names.length!==2)c.text=a([]);if(c.titleText.length!==2)c.title=a([]);return c};a.fn.jmeControl.addControl=function(f,c){h[f]=c};a.fn.registerMMControl=a.fn.jmeControl;a(function(){d=a.fn.a11ySlider?"a11ySlider":"slider"})})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{jwPlayer:{path:"player.swf",hideIcons:"auto",isStream:false,vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var r={type:"application/x-shockwave-flash"},t={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},u=a.multimediaSupport;(function(){a.support.flash9=false;var k=u.getPluginVersion("Shockwave Flash"),v=function(h){a.support.flash9=false;try{h=u.getPluginVersion("",{description:h.GetVariable("$version")});a.support.flash9=
!!(h[0]>9||h[0]===9&&h[1]>=115)}catch(f){}};if(k[0]>9||k[0]===9&&k[1]>=115){a.support.flash9=true;a(function(){k=a("<object />",r).appendTo("body");v(k[0]);k.remove()})}else if(window.ActiveXObject)try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");v(k);k=null}catch(d){}})();var x={isTechAvailable:function(){return a.support.flash9},_embed:function(k,v,d,h){var f=this.embedOpts.jwPlayer;k=a.extend({},f.vars,{file:k,id:v});var c=a.extend({name:v,data:f.path},f.attrs,r),e=a.extend({movie:f.path},
f.params);if(d.poster)k.image=d.poster;k.autostart=""+d.autoplay;k.repeat=d.loop?"single":"false";k.controlbar=d.controls?"bottom":"none";if(!d.controls&&f.hideIcons&&e.wmode==="transparent"||f.hideIcons===true){k.icons="false";k.showicons="false"}e.flashvars=[];a.each(k,function(j,q){e.flashvars.push(j+"="+q)});e.flashvars=e.flashvars.join("&");h(u.embedObject(this.visualElem[0],v,c,e,t,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp",
"video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};u.add("jwPlayer","video",x);u.add("jwPlayer","audio",x)})(jQuery);
(function(a){function r(d){d=d.replace(x,"");return a.data(t.getElementById(d),"mediaElemSupport").apis.jwPlayer}var t=document,u=a.multimediaSupport,x=/^jwPlayer-/,k={View:{PLAY:function(d){if(d=d.state&&r(d.id)){d._trigger("play");d._isPlaystate=true}}},Model:{META:function(d){if(d.type==="metadata"){var h=r(d.id);h&&h._trigger({type:"loadedmeta",duration:d.duration})}},TIME:function(d){var h=r(d.id),f={type:"timechange",time:d.position};if(h){h.loadedmeta||h._trigger({type:"loadedmeta",duration:d.duration});
h.currentPos=d.position;if(d.duration){f.duration=d.duration;f.timeProgress=d.position/d.duration*100}h._trigger(f)}},STATE:function(d){if(d.newstate==="IDLE")return false;var h=r(d.id),f;if(!h)return false;switch(d.newstate){case "PLAYING":f="playing";break;case "PAUSED":h._isPlaystate=false;f="pause";break;case "COMPLETED":h._isPlaystate=false;f="ended";break;case "BUFFERING":f="waiting";break}f&&h._trigger(f);return f}},Controller:{VOLUME:function(d){var h=r(d.id);h&&h._trigger({type:"volumelevelchange",
volumelevel:d.percentage})},MUTE:function(d){var h=r(d.id);h&&h._trigger({type:"mute",isMuted:d.state})}}};window.jwEvents={four:a.extend(true,{},k,{Model:{LOADED:function(d){var h=r(d.id);if(h){var f={type:"progresschange",lengthComputable:!!d.total};if(d.total){a.extend(f,{relLoaded:d.total/d.loaded*100});h._buffered=f.relLoaded}h._trigger(f)}}}}),five:a.extend(true,{},k,{Model:{BUFFER:function(d){var h=r(d.id);if(h){var f={type:"progresschange",relLoaded:d.percentage,relStart:0};h._buffered=d.percentage;
h._trigger(f)}},STATE:function(d){if(k.Model.STATE(d)==="playing")if(d=r(d.id)){d._trigger("playing");d._isPlaystate=true}}}})};window.playerReady=function(d){var h=r(d.id);if(h){if(h.isAPIReady){if(h.apiElem.sendEvent)setTimeout(function(){h._lastLoad&&h._mmload(h._lastLoad.file,h._lastLoad.image);if(h._isPlaystate&&!(h.apiElem.getConfig()||{}).autostart)h.play()},20);else{h._reInit();return}setTimeout(function(){h._trigger("jmeflashRefresh")},20)}var f=parseInt(d.version,10)>4?"five":"four";a.each(jwEvents[f],
function(c,e){a.each(e,function(j){h.apiElem["add"+c+"Listener"](j,"jwEvents."+f+"."+c+"."+j)})});setTimeout(function(){var c=a.attr(h.element,"getConfig");if(!c.autoplay)if(h.nodeName==="audio"&&c.preload==="metadata"){h.apiElem.sendEvent("PLAY","true");h.apiElem.sendEvent("PLAY","false")}else h.nodeName==="video"&&c.preload!=="none"&&!c.poster&&!h.currentPos&&h.currentTime(0);h._trigger("mmAPIReady")},20)}};var v={_init:function(){this._buffered=this._buffered||0},_reInitCount:0,_reInitTimer:false,
_reInit:function(){var d=this;if(this._reInitCount<5){this.visualElem[0].style.overflow="visible";setTimeout(function(){d.visualElem[0].style.overflow="hidden"},0)}this._reInitCount++;if(!this._reInitTimer){this._reInitTimer=true;setTimeout(function(){d._reInitCount=0;d._reInitTimer=false},2E4)}},canPlaySrc:function(d){var h="",f=-1;f=d.src||d;if(typeof f==="string"){f=f.indexOf("youtube.com/");if(f<15&&f>6)h="maybe"}h||(h=u.fn.canPlaySrc.apply(this,arguments));return h},play:function(){this.apiElem.sendEvent("PLAY",
"true");this._isPlaystate=true;this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var d=this.apiElem.getConfig();return d?d.state==="PLAYING":undefined},_mmload:function(d,h){this._lastLoad={file:d,image:h||false};this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(d){if(typeof d!=="boolean")return(this.apiElem.getConfig()||
{}).mute;this.apiElem.sendEvent("mute",d?"true":false)},_isSeekable:function(d){var h=this.getCurrentSrc();if(this._buffered===100||this.embedOpts.jwPlayer.isStream||h.indexOf("http")!==0&&h.indexOf("file")!==0)return true;h=this.getDuration();if(!h)return false;return d/h*100<this._buffered},currentTime:function(d){if(!isFinite(d))return this.currentPos||0;var h=this,f=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),c=function(){h.apiElem.sendEvent("SEEK",d);e();f||h.apiElem.sendEvent("PLAY",
"false");h.currentPos=d;h._trigger({type:"timechange",time:d})},e=function(){a(h.element).unbind(".jwseekrequest")};if(!f){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY","false")}clearTimeout(this._seekrequestTimer);e();if(this._isSeekable(d))c();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(h._isSeekable(d)){var j=h.muted();e();clearTimeout(h._seekrequestTimer);j||h.muted(true);h.apiElem.sendEvent("PLAY",
"true");h._seekrequestTimer=setTimeout(function(){j||h.muted(j);c()},120)}}).bind("mediareset.jwseekrequest",e).bind("play.jwseekrequest",function(){h.apiElem.sendEvent("PLAY","false");h._trigger("waiting");f=true}).bind("pause.jwseekrequest",function(){f=false});this._seekrequestTimer=setTimeout(function(){a(h.element).unbind("play.jwseekrequest").unbind("pause.jwseekrequest").bind("play.jwseekrequest",e).bind("pause.jwseekrequest",e)},999)}},getDuration:function(){var d=this.apiElem.getPlaylist()[0].duration||
0;return d<0?0:d},volume:function(d){if(!isFinite(d))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+d)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.browser.mozilla&&a.extend(v,{isJMEReady:function(){var d=false;if(this.isAPIReady&&this.apiElem.sendEvent&&this.apiElem.getConfig){this.apiElem.getConfig();d=true}return d}});u.add("jwPlayer","video",v);u.add("jwPlayer","audio",v)})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{vlc:{params:{},attrs:{}}});var r=a.multimediaSupport,t={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},u={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},x={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(r.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(k){}return a.support.vlc},_embed:function(k,v,d,h){var f=this.embedOpts.vlc,c=a.extend({},f.attrs,{data:k},t);d=a.extend({},f.params,{Src:k,ShowDisplay:"True",autoplay:""+d.autoplay,autoloop:""+d.loop});v=r.embedObject(this.visualElem[0],v,c,d,u,"VLC Multimedia Plug-in");this._currentSrc=k;h(v)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};r.add("vlc","video",x);r.add("vlc","audio",x)})(jQuery);
(function(a){function r(d){function h(){try{if(d.apiElem.input&&d.apiElem.input.state!==undefined){t("mmAPIReady",d);clearInterval(f);if(a.attr(d.element,"autoplay"))x.start(d);else{d.apiElem.playlist.stop();setTimeout(function(){d.apiElem.playlist.stop()},0)}}}catch(c){}}var f;clearInterval(f);f=setInterval(h,333)}function t(d,h){setTimeout(function(){h._trigger(d)},0)}function u(d){setTimeout(function(){d._intervalCheck()},9)}var x={start:function(d){x.end(d);d._intervalCheckTimer=setInterval(function(){d._intervalCheck.call(d)},
1E3)},end:function(d){d._intervalCheckTimer&&clearInterval(d._intervalCheckTimer)}},k={2:"waiting",3:"playing",4:"pause",6:"ended"},v={_init:function(){r(this);this._setPoster(a.attr(this.element,"poster"))},_intervalCheck:function(){var d=this.apiElem,h=d.input.state,f=this,c={type:"loadedmeta",duration:d.input.length/1E3},e;if(h&&h>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==c.duration){t(c,f);this.data.metaLoaded=c}e={type:"timechange",time:d.input.time/1E3};
if(h&&h>1&&this.data.time!==e.time){if(c.duration){e.duration=c.duration;e.timeProgress=d.input.position*100}this.data.time=e.time;t(e,f)}e={type:"mute",isMuted:d.audio.mute};if(e.isMuted!==this.data.isMuted){this.data.isMuted=e.isMuted;t(e,f)}e={type:"volumelevelchange",volumelevel:d.audio.volume/2};if(e.volumelevel!==this.data.volumelevel){this.data.volumelevel=e.volumelevel;t(e,f)}if(h!==this.data.state){this.data.state=h;k[h]&&t(k[h],f);k[h]==="ended"&&d.playlist.stop();if(h===3)x.start(f);else if(h===
4||h===5||h===6||h===7)x.end(f)}},play:function(){this.apiElem.playlist.play();this._trigger("play");x.start(this);u(this);if(this._currentTimeAdjust!==false){try{this.apiElem.input.time=this._currentTimeAdjust}catch(d){}this._resetCurrentTime()}},pause:function(){if(k[this.apiElem.input.state]==="playing"){x.end(this);this.apiElem.playlist.togglePause();u(this)}},_isPlaying:function(){var d=false;try{d=k[this.apiElem.input.state]==="playing"}catch(h){}return d},_mmload:function(d,h){a(this.element).unbind("playing.enterFullscreen");
this.apiElem.playlist.stop();this.data={};var f=this.apiElem.playlist.add(d," ",":no-video-title-show");this._currentSrc=d;this.apiElem.playlist.playItem(f);this.apiElem.playlist.items.clear();this._setPoster(h);this._showPoster(false,{time:0});if(!a.attr(this.element,"autoplay")){x.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},_currentTimeAdjust:false,_currentTimeTimer:false,_resetCurrentTime:function(){clearTimeout(this._currentTimeTimer);this._currentTimeAdjust=
false},currentTime:function(d){try{if(!isFinite(d))return this.apiElem.input?this.apiElem.input.time/1E3:0;var h;if(!this.loadedmeta){h=k[this.apiElem.input.state];this.play()}this._currentTimeAdjust=d*1E3;clearTimeout(this._currentTimeTimer);this._currentTimeTimer=setTimeout(a.proxy(this,"_resetCurrentTime"));this.apiElem.input.time=this._currentTimeAdjust;u(this);h&&h!=="playing"&&h!=="waiting"&&this.pause()}catch(f){if(!isFinite(d))return 0}},getDuration:function(){var d;try{d=this.apiElem.input.length/
1E3||0}catch(h){d=0}return d},volume:function(d){if(!isFinite(d))return this.apiElem.audio?parseInt(this.apiElem.audio.volume/2,10):100;if(this.apiElem.audio){this.apiElem.audio.volume=d*2;u(this)}},muted:function(d){if(typeof d!=="boolean")try{return this.apiElem.audio?this.apiElem.audio.mute:true}catch(h){return false}if(this.apiElem.audio){this.apiElem.audio.mute=d;u(this)}}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=
true;else{var d=this;a(d.element).one("playing.enterFullscreen",function(){d.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},v));a.multimediaSupport.add("vlc","audio",v)})(jQuery);
