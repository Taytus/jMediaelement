/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(b){function t(){b.event.special.mediaerror.handler.apply(b(this).closest("video, audio")[0],arguments)}function s(c){if(b.support.mediaElements){var f=b.data(this,"mediaElemSupport");if(f&&f.apis){f=f.apis;var g=this,m=b.attr(this,"srces");if(m.length&&!f.nativ.canPlaySrces(m)){b(g).triggerHandler("mediaerror");try{g.pause()}catch(r){}}c&&c.type==="emptied"&&c.orginalEvent&&c.orginalEvent.type==="emptied"&&b(this).unbind("loadstart",s);b("source",this).unbind("error",t).filter(":last").bind("error",
t)}}}function u(c){var f=c.indexOf("?")+1,g="";c=f?c.substring(0,f):c;f=c.lastIndexOf(".")+1;return g=c.substr(f)}function q(c,f){var g=c.nodeName.toLowerCase();f=k.getSuitedPlayers(c,f.apiOrder);var m=b.data(c,"mediaElemSupport");if(f){if(f!=="noSource")k._setAPIActive(c,f.name)||k._embedApi(c,f,m,g)}else{m.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(r){}}}b.multimediaSupport={};var k=b.multimediaSupport,h=(new Date).getTime(),a=document;b.support.video=!!b("<video />")[0].canPlayType;
b.support.audio=!!b("<audio />")[0].canPlayType;b.support.mediaElements=b.support.video&&b.support.audio;var e=b.attr,d=/video|audio|source/i,j={src:true,poster:true},i={loop:true,autoplay:true,controls:true,autobuffer:true},o={srces:true,getConfig:true};b.attr=function(c,f,g,m){if(!(c.nodeName&&d.test(c.nodeName)&&(o[f]||k.attrFns[f]||i[f]||j[f])))return e(c,f,g,m);var r=g!==undefined,w,l;if(k.attrFns[f])if(w=b.data(c,"mediaElemSupport")){l=w.apis[w.name][f](g,m);if(!r)return l}else return e(c,f,
g,m);if(r)if(i[f]){g=!!g;(c[f]=g)?c.setAttribute(f,f):c.removeAttribute(f);c[f]=g}else if(j[f])c.setAttribute(f,g);else if(f==="srces"){b("source, a.source",c).remove();c.removeAttribute("src");g=b.isArray(g)?g:[g];b.each(g,function(v,x){l=a.createElement("source");if(typeof x==="string")x={src:x};l.setAttribute("src",x.src);x.type&&l.setAttribute("type",x.type);x.media&&l.setAttribute("media",x.media);c.appendChild(l)})}else f==="getConfig"&&b.each(g,function(v,x){b.attr(c,v,x)});else{if(i[f])return typeof c[f]===
"boolean"?c[f]:!!(c.attributes[f]||{}).specified;if(j[f])return b.support.video&&c[f]||k.makeAbsURI(c.getAttribute(f));if(f==="srces"){if(l=b.attr(c,"src"))l=[{src:l,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{l=[];b("source",c).each(function(){l.push({src:b.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});l.length||b("a.source",c).each(function(){l.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}return l}if(f===
"getConfig"){l={};b.each(["autobuffer","autoplay","loop","controls","poster"],function(v,x){l[x]=b.attr(c,x)});return l}}};b.event.special.mediaerror={setup:function(){b(this).bind("error",b.event.special.mediaerror.handler).each(s).bind("emtptied loadstart",s)},teardown:function(){b(this).unbind("error",b.event.special.mediaerror.handler).find("source").unbind("error",t)},handler:function(c){c=b.extend({},c||{},{type:"mediaerror"});return b.event.handle.apply(this,arguments)}};var n={audio:{"application/ogg":["ogg",
"oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"application/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"]}};b.extend(k,{registerMimetype:function(c,f){arguments.length===1?b.each(n,
function(g){k.registerMimetype(g,c)}):b.each(f,function(g,m){if(n[c][g])n[c][g]=[];n[c][g]=n[c][g].concat(m)})},_showMimeTypes:function(){window.console&&console.log(n)},attrFns:{},add:function(c,f,g){if(!this.apis[f][c]){this.apis[f][c]=k.beget(this.fn);c!=="nativ"&&b.inArray(c,b.fn.mediaElementEmbed.defaults.apiOrder)===-1&&b.fn.mediaElementEmbed.defaults.apiOrder.push(c)}b.extend(true,this.apis[f][c],g)},fn:{_init:function(){},canPlayType:function(c){var f=this.apiElem;if(f&&f.canPlayType)return f.canPlayType(c);
c=k.extractContainerCodecsFormType(c);var g=this,m="probably";if(!c[1])return this.canPlayContainer&&b.inArray(c[0],this.canPlayContainer)!==-1?"maybe":"";b.each(c[1],function(r,w){if(!g.canPlayCodecs||b.inArray(w,g.canPlayCodecs)===-1){m="";return false}});return m},canPlaySrc:function(c){var f=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);c=c.src}var g=u(c),m="";b.each(n[this.nodeName],function(r,w){if(b.inArray(g,w)!==-1){m=f.canPlayType(r);return false}});return m},canPlaySrces:function(c){c=
c||b.attr(this.html5elem,"srces");b.isArray(c)||(c=[c]);var f=this,g=false,m="";b.each(c,function(r,w){if(g=f.canPlaySrc(w)){m=w;return false}});return m},_setActive:b.noop,_setInactive:b.noop,_trigger:b.noop},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&c[1].indexOf("codecs")!==-1)c[1]=c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=b('<a href="'+
c+'"></a>')[0].href;return c}}(),beget:function(c){var f=function(){};f.prototype=c;return new f},_create:function(c,f,g,m){var r=b.data(g,"mediaElemSupport")||b.data(g,"mediaElemSupport",{apis:{},nodeName:c});if(!r.apis[f]){r.apis[f]=k.beget(k.apis[c][f]);r.apis[f].html5elem=g;r.apis[f].nodeName=c;r.apis[f].name=f;r.apis[f].data={};r.apis[f].embedOpts=m}return r},_setAPIActive:function(c,f){var g=b.data(c,"mediaElemSupport"),m=g.name;if(m===f)return true;var r=g.apis[m].apiElem,w=g.apis[f]&&g.apis[f].apiElem,
l=false;if(w&&w.nodeName){if(g.nodeName!=="audio"||b.attr(c,"controls"))g.apis[f].visualElem.css({width:g.apis[m].visualElem.width(),height:g.apis[m].visualElem.height(),visibility:"",display:""});g.apis[f]._setActive(m);l=true;g.apis[f]._trigger({type:"apiActivated",api:f})}if(r&&r.nodeName){if(m==="nativ")r.style.display="none";else g.apis[m].visualElem.css({height:0,width:0,overflow:"hidden",visibility:"hidden"});g.apis[m]._setInactive(f);g.apis[l?f:m]._trigger({type:"apiInActivated",api:m})}g.name=
f;return l},getSuitedPlayers:function(c,f){var g=b.data(c,"mediaElemSupport");if(g&&g.apis){g=g.apis;var m=b.attr(c,"srces"),r=false,w=function(l,v){if(!(!v.isTechAvailable||b.isFunction(v.isTechAvailable)&&!v.isTechAvailable())){if(v=v.canPlaySrces(m))r={src:v.src||v,name:l};return r}};if(!m.length)return"noSource";f?b.each(f,function(l,v){return!w(v,g[v])}):b.each(g,function(l,v){return!w(l,v)});return r}},_embedApi:function(c,f,g){var m=b.attr(c,"getConfig"),r=b(c),w=c.id;if(!w){h++;w=g.nodeName+
"-"+h;c.id=w}g.apis[f.name].visualElem=b('<div class="media-element-box mm-'+g.nodeName+'-box" />').insertBefore(c);g.nodeName==="audio"&&!m.controls?g.apis[f.name].visualElem.css({height:0,width:0,overflow:"hidden"}):g.apis[f.name].visualElem.css({width:r.width(),height:r.height()});g.apis[f.name]._embed(f.src,g.name+"-"+w,m,function(l){g.apis[f.name].apiElem=l;b(l).addClass(g.nodeName);g.apis[f.name]._init();g.apis[f.name]._trigger({type:"apiActivated",api:f.name})})},getPluginVersion:function(c,
f){c=f||navigator.plugins&&navigator.plugins[c];f=[-1,0];if(c)if((desc=(c.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&desc[0]){f[0]=desc[0];if(desc[1])f[0]+="."+desc[1];f[0]=parseFloat(f[0],10);if(desc[2])f[1]=parseInt(desc[2],10)}return f},embedObject:function(c,f,g,m,r,w){c=b("<div />").appendTo(c)[0];var l;if(navigator.plugins&&navigator.plugins[w]){l=a.createElement("object");b.each(g,function(v,x){l.setAttribute(v,x)});b.each(m,function(v,x){var y=a.createElement("param");y.setAttribute("name",
v);y.setAttribute("value",x);l.appendChild(y)});l.setAttribute("id",f);l.setAttribute("name",f);c.parentNode.replaceChild(l,c)}else if(window.ActiveXObject){l="<object";b.each(b.extend({},g,r),function(v,x){l+=" "+v+'="'+x+'"'});l+=' name="'+f+'"';l+=' id="'+f+'"';l+=">";b.each(m,function(v,x){l+=' <param name="'+v+'" value="'+x+'" />'});l+="</object>";c.outerHTML=l;l=a.getElementById(f)}if(l){l.setAttribute("width","100%");l.setAttribute("height","100%")}b(window).unload(function(){jQuery.cleanData([l]);
l=null});setTimeout(function(){if(l&&l.setAttribute){l.setAttribute("width","100%");l.setAttribute("height","100%")}},0);return l}});k.add("nativ","video",{});k.add("nativ","audio",{});b.fn.mediaElementEmbed=function(c){c=b.extend(true,{},b.fn.mediaElementEmbed.defaults,c);return this.each(function(){var f=this.nodeName.toLowerCase();if(!(f!=="video"&&f!=="audio")){var g=this;c.removeControls&&b.attr(this,"controls",false);var m=k._create(f,"nativ",this,c);m.name="nativ";m.apis.nativ.apiElem=this;
m.apis.nativ.visualElem=b(this);b.each(k.apis[f],function(r){r!=="nativ"&&k._create(f,r,g,c)});c.debug||!b.support.mediaElements||this.error?q(this,c):m.apis[m.name]._init();b(this).bind("mediaerror",function(){m.name==="nativ"&&q(this,c)})}})};b.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,apiOrder:[]};if(b.cleanData){var p=b.cleanData;b.cleanData=function(c){p(c);for(var f=0,g=c.length;f<g;f++)if(c[f].nodeName==="OBJECT")try{for(var m in c[f])if(typeof c[f][m]==="function")c[f][m]=
null}catch(r){}}}})(jQuery);
(function(b){var t=document.createElement("video"),s=b.multimediaSupport,u={};if("enterFullScreen"in t&&t.supportsFullscreen){b.support.videoFullscreen=true;u.enter="enterFullScreen";u.exit="exitFullScreen"}else b.each(["webkit","moz","o","ms"],function(a,e){if(e+"EnterFullScreen"in t&&t[e+"SupportsFullscreen"]){b.support.videoFullscreen=true;u.enter=e+"EnterFullScreen";u.exit=e+"ExitFullScreen";return false}});t=null;b.extend(s,{formatTime:function(a){return b.map([parseInt(a/60,10),parseInt(a%60,
10)],function(e){return isNaN(e)?"--":e<10?"0"+e:e}).join(":")}});b.extend(s.fn,{_trigger:function(a){var e=a;switch(a.type||{type:a}.type){case "mmAPIReady":this.isAPIReady=true;a.api=this.name;break;case "loadedmeta":this.loadedmeta=e;break;case "emptied":case "mediareset":case "error":this.loadedmeta=false;break}if(a.type==="progresschange"&&"relStart"in a)if(this._concerningBufferStart!==a.relStart){this._concerningBufferStart=a.relStart;this._trigger({type:"bufferrange",relStart:a.relStart,relLoaded:a.relLoaded})}a.target=
this.html5elem;a=b.Event(a);a.preventDefault();if(a.type==="timechange"||a.type==="progresschange")a.stopPropagation();b.event.trigger(a,e,this.html5elem)},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:b.noop,exitFullscreen:b.noop,isAPIReady:false,relCurrentTime:function(a){var e=this.getDuration()||Number.MIN_VALUE;a&&isFinite(a)&&this.currentTime(e*a/100);return this.currentTime()/e*100},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},
getMMVisual:function(){return this.visualElem},onMediaReady:function(a){var e={type:"mmAPIReady"};this.isAPIReady?a.call(this.html5elem,e,e):b(this.html5elem).one("mmAPIReady.jmediaelement",a)},onLoadedmeta:function(a){var e=this.loadedmeta;e?a.call(this.html5elem,e,e):b(this.html5elem).bind("loadedmeta.jmediaelement",a)},_format:s.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(a,
e){if(a){b.attr(this.html5elem,"srces",a);a=b.isArray(a)?a:[a]}else a=b.attr(this.html5elem,"srces");if(e!==undefined)e?b.attr(this.html5elem,"poster",e):b(this.html5elem).removeAttr("poster");else e=b.attr(this.html5elem,"poster");this._isResetting=true;this._trigger("mediareset");if(a=this.canPlaySrces(a)){a=a.src||a;this._mmload(a,e)}else{s._setAPIActive(this.html5elem,"nativ");b(this.html5elem).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?
false:this._isPlaying()}});var q=function(a){var e,d=function(){for(var i=a.html5elem.currentTime,o=a.html5elem.buffered,n=o.length,p={},c=0;c<n;c++){p.start=o.start(c);p.end=o.end(c);if(p.start<=i&&p.end>=i)break}return p},j=function(i){var o={type:"progresschange"},n;if(this.buffered&&this.buffered.length){if(i=this.duration){n=d();o.relStart=n.start/i*100;o.relLoaded=n.end/i*100}a._trigger(o)}else if(i.originalEvent&&"lengthComputable"in i.originalEvent&&i.originalEvent.loaded){if(i.originalEvent.lengthComputable&&
i.originalEvent.total){o.relStart=0;o.relLoaded=i.originalEvent.loaded/i.originalEvent.total*100}if(!e){b(this).unbind(i.type==="load"?"progress":"load",j);e=true}a._trigger(o)}};b(a.html5elem).bind("progress load",j)},k={isTechAvailable:b.support.mediaElements,_init:function(){var a=this,e=this.apiElem.muted,d=false;q(this);b(this.html5elem).bind({volumechange:function(){if(e!==a.apiElem.muted){e=a.apiElem.muted;a._trigger.call(a,{type:"mute",isMuted:e})}else a._trigger.call(a,{type:"volumelevelchange",
volumelevel:a.apiElem.volume*100})},timeupdate:function(){var j={type:"timechange",time:this.currentTime};if(this.duration){j.duration=this.duration;j.timeProgress=j.time/j.duration*100}a._trigger(j)},loadedmetadata:function(){a._trigger({type:"loadedmeta",duration:this.duration})}}).one("mediaerror.initialerror",function(){d=true;b(a.html5elem).unbind(".initialerror")});if(this.html5elem.readyState>0){a._trigger("mmAPIReady");a._trigger({type:"loadedmeta",duration:this.html5elem.duration})}else setTimeout(function(){b(a.html5elem).unbind(".initialerror");
if(d||a.html5elem.error)a.isAPIReady=true;else a._trigger("mmAPIReady")},0)},play:function(){this.html5elem.play()},pause:function(){this.html5elem.pause()},muted:function(a){if(typeof a==="boolean")this.html5elem.muted=a;return this.html5elem.muted},volume:function(a){if(isFinite(a))this.html5elem.volume=a/100;return this.html5elem.volume*100},currentTime:function(a){if(isFinite(a))try{this.html5elem.currentTime=a}catch(e){}return this.html5elem.currentTime},_mmload:function(){this.html5elem.load?
this.html5elem.load():b(this.html5elem).triggerHandler("error")},_isPlaying:function(){return!this.html5elem.paused&&this.html5elem.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.html5elem.duration},getCurrentSrc:function(){return this.html5elem.currentSrc}};s.add("nativ","video",b.extend({_videoFullscreen:b.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.html5elem[u.enter]()}catch(a){}},exitFullScreen:function(){if(!this._videoFullscreen)return false;
try{this.html5elem[u.exit]()}catch(a){}}},k));s.add("nativ","audio",k);b.fn.getMMAPI=function(a){if(this[0]){var e=b.data(this[0],"mediaElemSupport");return a||!e||!e.name||!e.apis?e:e.apis[e.name]}};s.registerAPI=function(a){if(typeof a==="string")a=[a];b.each(a,function(e,d){if((e=s.apis.video.nativ[d])&&b.isFunction(e)&&d.indexOf("_")!==0){s.attrFns[d]=true;b.fn[d]||(b.fn[d]=function(){var j=arguments,i;this.each(function(){var o=b(this).getMMAPI();if(o&&o.isAPIReady)i=o[d].apply(o,j)});return i===
undefined?this:i})}})};var h=[];b.each(s.apis.video.nativ,function(a){h.push(a)});s.registerAPI(h);s.fn._extend=function(a){var e=[];b.each(a,function(d,j){s.fn[d]=j;e.push(d)});s.registerAPI(e)}})(jQuery);
(function(b){function t(a,e){a=b(a);var d={},j=a.attr("data-controls");d.mm=j?b("#"+j):b("video, audio",a).filter(":first");d.api=d.mm.getMMAPI(true)||d.mm.mediaElementEmbed(e.embed).getMMAPI(true);if(a.is(e.controlSel))d.controls=a;if(!d.controls||d.controls.hasClass(e.classPrefix+"media-controls")){d.controlsgroup=a;d.controls=d.controls?b(e.controlSel,a).add(d.controls):b(e.controlSel,a);d.api.controlWrapper=a}return d}function s(a,e,d,j){var i=j.classPrefix+"playing "+j.classPrefix+"totalerror "+
j.classPrefix+"waiting",o=function(){a.removeClass(i)};a.addClass(j.classPrefix+d.name).bind({apiActivated:function(n,p){a.addClass(j.classPrefix+p.api)},apiInActivated:function(n,p){a.removeClass(j.classPrefix+p.api)}}).bind("playing totalerror waiting",function(n){o();a.addClass(j.classPrefix+n.type)}).bind("pause ended mediareset",function(){o()}).bind("canplay canplaythrough",function(){a.removeClass(j.classPrefix+"waiting")});b.ui&&b.ui.keyCode&&a.bind("keydown",function(n){if(h[n.keyCode]){if(!b(n.target).is(".ui-slider-handle")){var p=
5;switch(n.keyCode){case b.ui.keyCode.UP:if(n.ctrlKey)p+=5;d.apis[d.name].volume(Math.min(100,d.apis[d.name].volume()+p));break;case b.ui.keyCode.DOWN:if(n.ctrlKey)p+=5;d.apis[d.name].volume(Math.max(0,d.apis[d.name].volume()-p));break;case b.ui.keyCode.LEFT:if(n.ctrlKey)p+=55;d.apis[d.name].currentTime(Math.max(0,d.apis[d.name].currentTime()-p));break;case b.ui.keyCode.RIGHT:if(n.ctrlKey)p+=55;d.apis[d.name].currentTime(Math.min(d.apis[d.name].getDuration(),d.apis[d.name].currentTime()+p));break}n.preventDefault()}}else if(n.keyCode===
b.ui.keyCode.SPACE&&!b.nodeName(n.target,"button")){d.apis[d.name].togglePlay();n.preventDefault()}})}var u=/\s*\/\s*|\s*\|\s*/,q=b.fn.a11ySlider?"a11ySlider":"slider",k={"timeline-slider":function(a,e,d,j){function i(p,c){c.timeProgress!==undefined&&!n&&a[q]("value",c.timeProgress)}function o(){d.apis[d.name].loadedmeta&&d.apis[d.name].loadedmeta.duration?a[q]("option","disabled",false):a[q]("option","disabled",true)}var n=false;a[q](j.timeSlider)[q]("option","disabled",true);d.apis[d.name].onMediaReady(function(){e.bind("loadedmeta",
o).bind("timechange",i).bind("mediareset",function(){a[q]("value",0);o()}).bind("ended",function(){a[q]("value",100)});a.bind("slidestart",function(p){if(p.originalEvent)n=true}).bind("slidestop",function(){n=false}).bind("slide",function(p,c){p.originalEvent&&d.apis[d.name].relCurrentTime(c.value)});o()})},"volume-slider":function(a,e,d,j){function i(n,p){o||a[q]("value",p.volumelevel)}var o=false;a[q](j.volumeSlider)[q]("option","disabled",true);d.apis[d.name].onMediaReady(function(){e.bind("volumelevelchange",
i);a.bind("slidestart",function(n){if(n.originalEvent)o=true}).bind("slidestop",function(){o=false}).bind("slide",function(n,p){n.originalEvent&&d.apis[d.name].volume(p.value)});a[q]("option","disabled",false);a[q]("value",d.apis[d.name].volume())})},progressbar:function(a,e,d,j){function i(n,p){"relLoaded"in p?a.progressbar("option","disabled",false).progressbar("value",p.relLoaded):a.progressbar("option","disabled",true)}function o(){a.progressbar("option","disabled",true).progressbar("value",0)}
a.progressbar(j.progressbar).progressbar("option","disabled",true);d.apis[d.name].onMediaReady(function(){e.bind("progresschange",i).bind("mediareset",o)},"one")},duration:function(a,e,d,j){j.addThemeRoller&&a.addClass("ui-widget-content ui-corner-all");a.html("--:--");e.bind("loadedmeta",function(i,o){a.html(d.apis[d.name]._format(o.duration))}).bind("mediareset",function(){a.html("--:--")});d.apis[d.name].onMediaReady(function(){a.html(d.apis[d.name].getFormattedDuration())})},"current-time":function(a,
e,d,j){j.addThemeRoller&&a.addClass("ui-widget-content ui-corner-all");a.html("--:--");e.bind("timechange",function(i,o){a.html(d.apis[d.name]._format(o.time))}).bind("mediareset",function(){a.html("--:--")});d.apis[d.name].onMediaReady(function(){a.html(d.apis[d.name].getFormattedTime())})},"media-controls":function(a,e,d,j){function i(){var p=a.innerWidth()+j.mediaControls.timeSliderAdjust,c=o.outerWidth(true)-o.innerWidth();b("> *",a).each(function(){if(o[0]!==this&&this.offsetWidth&&(!j.excludeSel||
!b(this).is(j.excludeSel)))c+=b(this).outerWidth(true)});o.css("width",p-c)}j.addThemeRoller&&a.addClass("ui-widget ui-widget-header ui-corner-all");if(j.mediaControls.dynamicTimeslider){var o=b("."+j.classPrefix+"timeline-slider",a),n=setTimeout(i,0);d.apis[d.name].onMediaReady(function(){clearInterval(n);setTimeout(i,0)},"one");b(window).bind("resize",i);e.bind("resize emchange",i)}}};b.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",
trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(a,e){k[a]=function(d,j,i,o){function n(){if(i.apis[i.name][e.stateMethod]()){c.text(f[1]);p.addClass(e.trueClass).removeClass(e.falseClass)}else{c.text(f[0]);p.addClass(e.falseClass).removeClass(e.trueClass)}}var p=b(".ui-icon",d),c=b(".button-text",d),f;o.addThemeRoller&&d.addClass("ui-state-default ui-corner-all");
if(!p[0]&&!c[0]&&!b("*",d)[0])c=p=d;f=c.text().split(u);if(f.length!==2)c=b([]);i.apis[i.name].onMediaReady(function(){j.bind(e.evts,n);n()});d.bind("click",function(g){i.apis[i.name][e.actionMethod]();g.preventDefault()})}});var h={40:true,37:true,39:true,38:true};b.fn.registerMMControl=function(a){function e(){var d=t(this,a);d.api.controls=d.api.controls||[];if(d.api){d.controls.each(function(){var j=b(this);if(b.inArray(this,d.api.controls)===-1){d.api.controls.push(this);b.each(k,function(i,
o){if(j.hasClass(a.classPrefix+i)){o(j,d.mm,d.api,a);return false}})}});d.controlsgroup&&d.controlsgroup[0]&&s(d.controlsgroup,d.mm,d.api,a)}}a=b.extend(true,{},b.fn.registerMMControl.defaults,a);a.controlSel=[];b.each(k,function(d){d!=="media-controls"&&a.controlSel.push("."+a.classPrefix+d)});a.controlSel.push("."+a.classPrefix+"media-controls");a.controlSel=a.controlSel.join(", ");return this.each(e)};b.fn.registerMMControl.defaults={embed:b.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,
mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{}};b.fn.registerMMControl.addControl=function(a,e){k[a]=e}})(jQuery);
(function(b){b.extend(b.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var t={type:"application/x-shockwave-flash"},s={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},u=b.multimediaSupport,q={isTechAvailable:function(){b.support.flash9=false;var k=u.getPluginVersion("Shockwave Flash");if(k[0]>9||k[0]===9&&k[1]>=115)b.support.flash9=true;else if(window.ActiveXObject)try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");
if(!k)return;k=u.getPluginVersion("",{description:k.GetVariable("$version")});if(k[0]>9||k[0]===9&&k[1]>=115)b.support.flash9=true}catch(h){}return b.support.flash9}(),_embed:function(k,h,a,e){var d=this.embedOpts.jwPlayer;k=b.extend({},d.vars,{file:k,id:h});var j=b.extend({name:h,data:d.path},d.attrs,t),i=b.extend({movie:d.path},d.params);if(a.poster)k.image=a.poster;k.autostart=""+a.autoplay;k.repeat=a.loop?"single":"false";k.controlbar=a.controls?"bottom":"none";if((d.playFirstFrame||a.autobuffer)&&
!a.poster&&!a.autoplay){this.data.playFirstFrame=true;k.autostart="true"}i.flashvars=[];b.each(k,function(o,n){i.flashvars.push(o+"="+n)});i.flashvars=i.flashvars.join("&");e(u.embedObject(this.visualElem[0],h,j,i,s,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};
u.add("jwPlayer","video",q);u.add("jwPlayer","audio",q)})(jQuery);
(function(b){function t(h){h=h.replace(u,"");return b.data(s.getElementById(h),"mediaElemSupport").apis.jwPlayer}var s=document,u=/^jwPlayer-/,q={View:{PLAY:function(h){(h=h.state&&t(h.id))&&h._trigger("play")}},Model:{META:function(h){if(h.type==="metadata"){var a=t(h.id);a&&a._trigger({type:"loadedmeta",duration:h.duration})}},TIME:function(h){var a=t(h.id),e={type:"timechange",time:h.position};if(a){a.loadedmeta||a._trigger({type:"loadedmeta",duration:h.duration});a.currentPos=h.position;if(h.duration){e.duration=
h.duration;e.timeProgress=h.position/h.duration*100}if(h.position&&a.data.playFirstFrame&&!a.data.playThrough){a.pause();a.data.playThrough=true}a._trigger(e)}},STATE:function(h){if(h.newstate==="IDLE")return false;var a=t(h.id),e;if(!a)return false;switch(h.newstate){case "PLAYING":e="playing";break;case "PAUSED":e="pause";break;case "COMPLETED":e="ended";break;case "BUFFERING":e="waiting";break}e&&a._trigger(e);return e}},Controller:{VOLUME:function(h){var a=t(h.id);a&&a._trigger({type:"volumelevelchange",
volumelevel:h.percentage})},MUTE:function(h){var a=t(h.id);a&&a._trigger({type:"mute",isMuted:h.state})}}};window.jwEvents={four:b.extend(true,{},q,{Model:{LOADED:function(h){var a=t(h.id);if(a){var e={type:"progresschange",lengthComputable:!!h.total,loaded:h.loaded};h.total&&b.extend(e,{total:h.total,relLoaded:h.total/h.loaded*100});a._trigger(e)}}}}),five:b.extend(true,{},q,{Model:{BUFFER:function(h){var a=t(h.id);a&&a._trigger({type:"progresschange",relLoaded:h.percentage,relStart:0})},STATE:function(h){q.Model.STATE(h)===
"playing"&&api._trigger("play")}}})};window.playerReady=function(h){var a=t(h.id);if(a){var e=parseInt(h.version,10)>4?"five":"four";b.each(jwEvents[e],function(d,j){b.each(j,function(i){a.apiElem["add"+d+"Listener"](i,"jwEvents."+e+"."+d+"."+i)})});a._trigger("mmAPIReady")}};var k={play:function(){this.data.playThrough=true;this.apiElem.sendEvent("PLAY","true");this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var h=this.apiElem.getConfig();return h?
h.state==="PLAYING":undefined},_mmload:function(h,a){this.apiElem.sendEvent("LOAD",{file:h,image:a});b.attr(this.html5elem,"autoplay")||this.apiElem.sendEvent("PLAY","false")},muted:function(h){if(typeof h!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",h?"true":false)},currentTime:function(h){if(!isFinite(h))return this.currentPos||0;var a=this.apiElem.getConfig().state==="PLAYING";a||this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("SEEK",""+h);this._trigger({type:"timechange",
time:h});a||this.apiElem.sendEvent("PLAY","false")},getDuration:function(){var h=this.apiElem.getPlaylist()[0].duration||0;return h<0?0:h},volume:function(h){if(!isFinite(h))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+h)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file}};b.multimediaSupport.add("jwPlayer","video",k);b.multimediaSupport.add("jwPlayer","audio",k)})(jQuery);
(function(b){b.extend(b.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var t=b.multimediaSupport,s={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},u={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},q={isTechAvailable:function(){if(b.support.vlc!==undefined)return b.support.vlc;b.support.vlc=false;if(t.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)b.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))b.support.vlc=
true}catch(k){}return b.support.vlc},_embed:function(k,h,a,e){var d=this.embedOpts.vlc,j=b.extend({},d.attrs,{data:k},s);a=b.extend({},d.params,{Src:k,ShowDisplay:"True",autoplay:""+a.autoplay,autoloop:""+a.loop});h=t.embedObject(this.visualElem[0],h,j,a,u,"VLC Multimedia Plug-in");this._currentSrc=k;e(h)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};t.add("vlc","video",q);t.add("vlc","audio",q)})(jQuery);
(function(b){function t(a){function e(){try{if(a.apiElem.input){s("mmAPIReady",a);clearInterval(d);if(b.attr(a.html5elem,"autoplay"))q.start(a);else{a.apiElem.playlist.stop();setTimeout(function(){a.apiElem.playlist.stop()},0)}}}catch(j){}}var d;clearInterval(d);d=setInterval(e,333);e()}function s(a,e){setTimeout(function(){e._trigger(a)},0)}function u(a){setTimeout(function(){a._intervalCheck()},9)}var q={start:function(a){q.end(a);a._intervalCheckTimer=setInterval(function(){a._intervalCheck.call(a)},
1E3)},end:function(a){a._intervalCheckTimer&&clearInterval(a._intervalCheckTimer)}},k={2:"waiting",3:"playing",4:"pause",6:"ended"},h={_init:function(){t(this)},_intervalCheck:function(){var a=this.apiElem,e=a.input.state,d=this,j={type:"loadedmeta",duration:a.input.length/1E3},i;if(e&&e>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==j.duration){s(j,d);this.data.metaLoaded=j}i={type:"timechange",time:a.input.time/1E3};if(e&&e>1&&this.data.time!==i.time){if(j.duration){i.duration=
j.duration;i.timeProgress=a.input.position*100}this.data.time=i.time;s(i,d)}i={type:"mute",isMuted:a.audio.mute};if(i.isMuted!==this.data.isMuted){this.data.isMuted=i.isMuted;s(i,d)}i={type:"volumelevelchange",volumelevel:a.audio.volume/2};if(i.volumelevel!==this.data.volumelevel){this.data.volumelevel=i.volumelevel;s(i,d)}if(e!==this.data.state){this.data.state=e;k[e]&&s(k[e],d);k[e]==="ended"&&a.playlist.stop();if(e===3)q.start(d);else if(e===4||e===5||e===6||e===7)q.end(d)}},play:function(){this.apiElem.playlist.play();
this._trigger("play");q.start(this);u(this)},pause:function(){if(k[this.apiElem.input.state]==="playing"){q.end(this);this.apiElem.playlist.togglePause();u(this)}},_isPlaying:function(){var a=false;try{a=k[this.apiElem.input.state]==="playing"}catch(e){}return a},_mmload:function(a){b(this.html5elem).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};var e=this.apiElem.playlist.add(a," ",":no-video-title-show");this._currentSrc=a;this.apiElem.playlist.playItem(e);this.apiElem.playlist.items.clear();
if(!b.attr(this.html5elem,"autoplay")){q.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},currentTime:function(a){try{if(!isFinite(a))return this.apiElem.input.time/1E3;this.apiElem.input.time=a*1E3;u(this)}catch(e){if(!isFinite(a))return 0}},getDuration:function(){var a;try{a=this.apiElem.input.length/1E3||0}catch(e){a=0}return a},volume:function(a){if(!isFinite(a))return parseInt(this.apiElem.audio.volume/2,10);this.apiElem.audio.volume=a*2;u(this)},muted:function(a){if(typeof a!==
"boolean")return this.apiElem.audio.mute;this.apiElem.audio.mute=a;u(this)}};b.multimediaSupport.add("vlc","video",b.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=true;else{var a=this;b(a.html5elem).one("playing.enterFullscreen",function(){a.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},h));b.multimediaSupport.add("vlc","audio",h)})(jQuery);
