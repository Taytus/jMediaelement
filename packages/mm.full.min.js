/**!
 * Part of the jMediaelement-Project vpre1.0.3 | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function s(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function u(c){if(a.support.mediaElements){var f=a.data(this,"mediaElemSupport");if(f&&f.apis){c&&c.type&&a.data(this,"calledMediaError",false);f=f.apis;c=this;var h=a.attr(this,"srces");if(c.error||h.length&&!f.nativ.canPlaySrces(h)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{c.pause()}catch(n){}}a("source",this).unbind("error",s).filter(":last").bind("error",
s)}}}function w(c){var f=c.indexOf("?"),h="";c=f>0?c.substring(0,f):c;f=c.lastIndexOf(".")+1;return h=c.substr(f)}function v(c,f){var h=c.nodeName.toLowerCase();f=o.getSuitedPlayers(c,f.apiOrder);var n=a.data(c,"mediaElemSupport");if(f){if(f!=="noSource")if(o._setAPIActive(c,f.name))n.apis[f.name]._mmload&&n.apis[f.name]._mmload(f.src,a.attr(c,"poster"));else o._embedApi(c,f,n,h)}else{n.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(p){}}}a.multimediaSupport={};var o=a.multimediaSupport,
x=(new Date).getTime(),d=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a("<source />");a("<track />");a.support.mediaElements=a.support.video&&a.support.audio;a.support.dynamicHTML5=!!a("<video><div></div></video>")[0].innerHTML;a.support.mediaLoop="loop"in a("<video />")[0];a.fixHTML5=function(){var c,f;return a.support.dynamicHTML5?function(h){return h}:function(h){if(!c){f=document.body;c=document.createElement("div");c.style.display="none"}var n=
c.cloneNode(false);f.appendChild(n);n.innerHTML=h;f.removeChild(n);return n.childNodes}}();var g=a.attr,l=/video|audio|source/i,b={src:1,poster:1},e={loop:1,autoplay:1,controls:1},i={srces:1,getConfig:1,preload:1},k={auto:1,metadata:1,none:1};a.attr=function(c,f,h,n){if(!(c.nodeName&&l.test(c.nodeName)&&(i[f]||e[f]||b[f])))return g(c,f,h,n);var p;if(h===undefined){if(e[f])return typeof c[f]==="boolean"?c[f]:!!(c.attributes[f]||{}).specified;if(b[f])return a.support.video&&c[f]||o.makeAbsURI(c.getAttribute(f));
switch(f){case "srces":if(p=a.attr(c,"src"))p=[{src:p,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{p=[];a("source",c).each(function(){p.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});p.length||a("a.source",c).each(function(){p.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;case "getConfig":p={};a.each(["autoplay","loop","controls","poster","preload"],function(q,t){p[t]=a.attr(c,
t)});break;case "preload":p=c.getAttribute("preload");k[p]||(p="auto");break}return p}else if(e[f]){h=!!h;if(c[f]=h){c[f]=h;c.setAttribute(f,f)}else{c[f]=h;c.removeAttribute(f)}}else if(b[f])c.setAttribute(f,h);else if(f==="srces"){a("source, a.source",c).remove();c.removeAttribute("src");h=a.isArray(h)?h:[h];a.each(h,function(q,t){p=d.createElement("source");if(typeof t==="string")t={src:t};p.setAttribute("src",t.src);t.type&&p.setAttribute("type",t.type);t.media&&p.setAttribute("media",t.media);
c.appendChild(p)})}else if(f==="getConfig")a.each(h,function(q,t){a.attr(c,q,t)});else if(f==="preload"){k[h]||(h="auto");c.setAttribute(f,h)}};a.event.special.mediaerror={setup:function(){var c=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",u);setTimeout(function(){c.each(u)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",s)},handler:function(c){if(!a.data(this,"calledMediaError")){c=a.extend({},
c||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};var j={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],
"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"]}};a.extend(o,{registerMimetype:function(c,f){arguments.length===1?a.each(j,function(h){o.registerMimetype(h,c)}):a.each(f,function(h,n){if(j[c][h])j[c][h]=[];j[c][h]=j[c][h].concat(n)})},_showMimeTypes:function(){window.console&&console.log(j)},add:function(c,f,h){if(!this.apis[f][c]){this.apis[f][c]=o.beget(this.fn);c!=="nativ"&&a.inArray(c,a.fn.jmeEmbed.defaults.apiOrder)===-1&&a.fn.jmeEmbed.defaults.apiOrder.push(c)}a.extend(true,
this.apis[f][c],h)},fn:{_init:a.noop,canPlayType:function(c){var f=this.apiElem,h;if(f&&f.canPlayType){h=f.canPlayType(c);return h==="no"?"":h}c=o.extractContainerCodecsFormType(c);var n=this;h="probably";if(!c[1])return this.canPlayContainer&&a.inArray(c[0],this.canPlayContainer)!==-1?"maybe":"";a.each(c[1],function(p,q){if(!n.canPlayCodecs||a.inArray(q,n.canPlayCodecs)===-1){h="";return false}});return h},canPlaySrc:function(c){var f=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);
c=c.src}var h=w(c),n="";a.each(j[this.nodeName],function(p,q){if(a.inArray(h,q)!==-1){n=f.canPlayType(p);return false}});return n},canPlaySrces:function(c){c=c||a.attr(this.element,"srces");a.isArray(c)||(c=[c]);var f=this,h=false,n="";a.each(c,function(p,q){if(h=f.canPlaySrc(q)){n=q;return false}});return n},_setActive:a.noop,_setInactive:a.noop,_trigger:function(c){a(this.element).triggerHandler(c,c)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&
c[1].indexOf("codecs")!==-1)c[1]=c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=a('<a href="'+c+'"></a>')[0].href;return c}}(),beget:function(c){var f=function(){};f.prototype=c;return new f},_create:function(c,f,h,n){var p=a.data(h,"mediaElemSupport")||a.data(h,"mediaElemSupport",{apis:{},nodeName:c});if(!p.apis[f]){p.apis[f]=o.beget(o.apis[c][f]);p.apis[f].element=h;p.apis[f].nodeName=c;p.apis[f].name=
f;p.apis[f].data={};p.apis[f].embedOpts=n}return p},_setAPIActive:function(c,f){var h=a.data(c,"mediaElemSupport"),n=h.name;if(n===f)return true;var p=h.apis[n].apiElem,q=h.apis[f]&&h.apis[f].apiElem,t=false;if(q&&q.nodeName){if(h.nodeName!=="audio"||a.attr(c,"controls"))f==="nativ"?h.apis[f].visualElem.css({display:""}):h.apis[f].visualElem.css({width:h.apis[n].visualElem.width(),height:h.apis[n].visualElem.height(),visibility:""});h.apis[f]._setActive(n);t=true;h.apis[f]._trigger({type:"apiActivated",
api:f});if(h.apis[n]){h.apis[n]._volumelevelState!==undefined&&a(c).volumelevel(h.apis[n]._volumelevelState);h.apis[n]._muteState!==undefined&&a(c).muted(h.apis[n]._muteState)}}h.apis[f].isAPIActive=true;if(p&&p.nodeName){if(n==="nativ")p.style.display="none";else h.apis[n].visualElem.css({height:0,width:0,visibility:"hidden"});h.apis[n]._setInactive(f);h.apis[n].isAPIActive=false;h.apis[f]._trigger({type:"apiDeActivated",api:n})}h.name=f;return t},getSuitedPlayers:function(c,f){var h=a.data(c,"mediaElemSupport");
if(h&&h.apis){h=h.apis;var n=a.attr(c,"srces"),p=false,q=function(t,y){if(!(typeof y.isTechAvailable==="boolean"&&!y.isTechAvailable||a.isFunction(y.isTechAvailable)&&!y.isTechAvailable())){if(y=y.canPlaySrces(n))p={src:y.src||y,name:t};return p}};if(!n.length)return"noSource";f?a.each(f,function(t,y){return!q(y,h[y])}):a.each(h,function(t,y){return!q(t,y)});return p}},_embedApi:function(c,f,h){var n=a.attr(c,"getConfig"),p=a(c),q=c.id,t=p.attr("aria-labelledby");if(!q){x++;q=h.nodeName+"-"+x;c.id=
q}h.apis[f.name].visualElem=a('<div class="media-element-box mm-'+h.nodeName+'-box" style="position: relative; overflow: hidden;" />').insertBefore(c);t&&h.apis[f.name].visualElem.attr({role:"group","aria-labelledby":t});h.nodeName==="audio"&&!n.controls?h.apis[f.name].visualElem.css({height:0,width:0,overflow:"hidden"}):h.apis[f.name].visualElem.css({width:p.width(),height:p.height()});h.apis[f.name]._embed(f.src,h.name+"-"+q,n,function(y){h.apis[f.name].apiElem=y;a(y).addClass(h.nodeName);n.controls||
a(y).attr({tabindex:"-1",role:"presentation"});h.apis[f.name]._init();h.apis[f.name]._trigger({type:"apiActivated",api:f.name})})},getPluginVersion:function(c,f){f=f||navigator.plugins&&navigator.plugins[c];c=[-1,0];if(f)if((f=(f.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&f[0]){c[0]=f[0];if(f[1])c[0]+="."+f[1];c[0]=parseFloat(c[0],10);if(f[2])c[1]=parseInt(f[2],10)}return c},embedObject:function(c,f,h,n,p){c=a("<div />").prependTo(c)[0];var q;if(navigator.plugins&&navigator.plugins.length){q=
d.createElement("object");a.each(h,function(t,y){q.setAttribute(t,y)});a.each(n,function(t,y){var z=d.createElement("param");z.setAttribute("name",t);z.setAttribute("value",y);q.appendChild(z)});q.setAttribute("id",f);q.setAttribute("name",f);c.parentNode.replaceChild(q,c)}else if(window.ActiveXObject){q='<object style="width: 100%; height: 100%;" width="100%" height="100%"';a.each(a.extend({},h,p),function(t,y){q+=" "+t+'="'+y+'"'});q+=' name="'+f+'"';q+=' id="'+f+'"';q+=">";a.each(n,function(t,
y){q+=' <param name="'+t+'" value="'+y+'" />'});q+="</object>";c.outerHTML=q;q=d.getElementById(f)}if(q){q.setAttribute("width","100%");q.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([q]);q=null});setTimeout(function(){if(q&&q.style){q.style.width="100%";q.style.height="100%"}},0);return q}});o.add("nativ","video",{});o.add("nativ","audio",{});var m=function(){var c=a(this).hide().children(":not(source, track)").clone().insertAfter(this);a(this).one("mediareset",function(){a(this).show();
c.remove()})};a.fn.jmeEmbed=function(c){c=a.extend(true,{},a.fn.jmeEmbed.defaults,c);c.showFallback&&a.support.mediaElements&&this.bind("totalerror",m);return this.each(function(){var f=this.nodeName.toLowerCase();if(!(f!=="video"&&f!=="audio")){var h=this;a(this).trigger("jmeBeforeEmbed",{options:c,nodeName:f});c.removeControls&&a.attr(this,"controls",false);var n=o._create(f,"nativ",this,c);n.name="nativ";n.apis.nativ.apiElem=this;n.apis.nativ.visualElem=a(this);n.apis.nativ.isAPIActive=true;a.each(o.apis[f],
function(p){p!=="nativ"&&o._create(f,p,h,c)});if(c.debug||!a.support.mediaElements){v(this,c);n.apis.nativ.isAPIReady=true}else n.apis.nativ._init();a(this).bind("mediaerror",function(){n.name==="nativ"&&v(this,c)}).trigger("jmeEmbed",{options:c,nodeName:f,data:n})}})};a.fn.jmeEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};a.fn.mediaElementEmbed=a.fn.jmeEmbed;if(a.cleanData&&window.ActiveXObject){var r=a.cleanData;a.cleanData=function(c){r(c);for(var f=0,h=c.length;f<
h;f++)if(c[f].nodeName==="OBJECT")try{for(var n in c[f])if(typeof c[f][n]==="function")c[f][n]=null}catch(p){}}}})(jQuery);
(function(a){var s=document.createElement("video"),u=a.multimediaSupport,w={apiActivated:1,apiDeActivated:1,mediareset:1,native_mediareset:1,totalerror:1,jmeflashRefresh:1},v={native_mediareset:1,apiDeActivated:1,native_mediareset:1,apiActivated:1,timechange:1,progresschange:1,mmAPIReady:1,jmeflashRefresh:1},o={};if("enterFullScreen"in s&&s.supportsFullscreen){a.support.videoFullscreen=true;o.enter="enterFullScreen";o.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(b,e){if(e+
"EnterFullScreen"in s&&s[e+"SupportsFullscreen"]){a.support.videoFullscreen=true;o.enter=e+"EnterFullScreen";o.exit=e+"ExitFullScreen";return false}});s=null;a.extend(u,{formatTime:function(b){return a.map([parseInt(b/60,10),parseInt(b%60,10)],function(e){return isNaN(e)?"--":e<10?"0"+e:e}).join(":")}});a.event.special.loadedmeta={add:function(b){var e=a(this).getJMEAPI();if(e&&e.loadedmeta){e=a.extend({},e.loadedmeta);b.handler.call(this,e,e)}}};a.extend(u.fn,{_trigger:function(b){var e=b.type?b:
{type:b},i=e.type;switch(i){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=e;break;case "totalerror":this.totalerror=true;break;case "mute":this._muteState=b.isMuted;break;case "volumelevelchange":this._volumelevelState=b.volumelevel;break;case "mediareset":this._bufferLoaded=this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!w[i])){!this.isAPIReady&&!w[i]&&this._trigger("mmAPIReady");if(b.type==="progresschange"){if(isFinite(this._bufferLoaded)&&
isFinite(b.relLoaded)&&this._bufferLoaded>=b.relLoaded)return;this._bufferLoaded=b.relLoaded}b.target=this.element;b=a.Event(b);b.preventDefault();e.mediaAPI=this.name;v[i]&&b.stopPropagation();a.event.trigger(b,e,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,isJMEReady:function(){return this.isAPIReady},relCurrentTime:function(b){var e=this.getDuration()||Number.MIN_VALUE;b&&isFinite(b)&&this.currentTime(e*
b/100);return this.currentTime()/e*100},getMediaAPI:function(){return this.mediaAPI},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getJMEVisual:function(){return this.visualElem},jmeReady:function(b,e){var i={type:"mmAPIReady"};if(this.isJMEReady())b.call(this.element,i,i);else{e=e||"jmediaelement";var k=this,j=function(){a(k.element).unbind("mmAPIReady."+e,j).unbind("jmeflashRefresh."+e,j);b.call(k.element,i,i)};a(this.element).bind("mmAPIReady."+
e,j).bind("jmeflashRefresh."+e,j)}},unAPIReady:function(b){a(this.element).unbind("mmAPIReady."+b)},_adjustPluginLoop:function(b){var e=a.attr(this.element,"loop"),i=this;e!==b&&setTimeout(function(){i[e?"play":"pause"]()},0)},_format:u.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(b,e){if(b){a.attr(this.element,"srces",b);b=a.isArray(b)?b:[b]}else b=a.attr(this.element,"srces");
if(e!==undefined)e?a.attr(this.element,"poster",e):a(this.element).removeAttr("poster");else e=a.attr(this.element,"poster");this._isResetting=true;b=this.canPlaySrces(b);this._trigger("mediareset");if(b){b=b.src||b;this._mmload(b,e)}else{u._setAPIActive(this.element,"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()},_makenum:function(b){var e=false;
if(b==b*1)e=parseFloat(b,10);return e},_hidePoster:function(){if(!this._isHiddenPoster){a("img.poster-image",this.visualElem).css("visibility","hidden");a(this.apiElem).css("visibility","");this._isHiddenPoster=true}},_showPoster:function(b,e){if(e.time)this._isHiddenPoster||this._hidePoster();else{a("img.poster-image",this.visualElem).css("visibility","");a(this.apiElem).css("visibility","hidden");this._isHiddenPoster=false}},_setPoster:function(b){a("img.poster-image",this.visualElem).remove();
a(this.element).unbind(".jme_poster");if(b){var e=this.currentTime();a("<img />",{"class":"poster-image",css:{position:"absolute",top:0,left:0,margin:0,"float":"none",maxHeight:"100%",maxWidth:"100%",width:"100%",height:"auto",visibility:"hidden"},src:b}).appendTo(this.visualElem);this._isHiddenPoster=true;a(this.element).bind("play.jme_poster",a.proxy(this,"_hidePoster")).bind("timechange.jme_poster",a.proxy(this,"_showPoster"));!isFinite(e)||!e?this._showPoster(false,{time:0}):this._hidePoster()}}});
var x=function(b){var e=function(){for(var m=b.element.currentTime||0,r=b.element.buffered,c=r.length,f={},h=0;h<c;h++){f.start=r.start(h);f.end=r.end(h);if(f.start<=m&&f.end>=m)break}return f},i=function(m){var r={type:"progresschange"},c;if(this.buffered&&this.buffered.length){if(m=this.duration){c=e();r.relStart=c.start/m*100;r.relLoaded=c.end/m*100}b._trigger(r)}else if(m.originalEvent&&"lengthComputable"in m.originalEvent&&m.originalEvent.loaded){if(m.originalEvent.lengthComputable&&m.originalEvent.total){r.relStart=
0;r.relLoaded=m.originalEvent.loaded/m.originalEvent.total*100}b._trigger(r)}if(!r.relLoaded&&this.readyState===4){r.relStart=0;r.relLoaded=100;b._trigger(r)}return r.relLoaded},k=function(){if(i.call(b.element,{type:"ipadprogress"})>=100||b.element.readyState>=4)clearTimeout(j)},j;a(b.element).bind("progress load",i);b.element.buffered&&a(b.element).bind("play waiting",function(){clearTimeout(j);if(b.isAPIActive){j=setInterval(k,333);k()}})},d={isTechAvailable:a.support.mediaElements,_init:function(){var b=
this,e=this.apiElem.muted,i=false,k=function(j){clearInterval(i);if(!b.element.error&&b.element.mozLoadFrom&&b.isAPIActive&&!b.element.readyState&&b.element.networkState===2)if(j===true)b.element.load();else i=setTimeout(function(){k(true)},j==="initial"?8E3:4E3)};x(this);a(this.element).bind({volumechange:function(){if(e!==b.apiElem.muted){e=b.apiElem.muted;b._trigger.call(b,{type:"mute",isMuted:e})}else b._trigger.call(b,{type:"volumelevelchange",volumelevel:b.apiElem.volume*100})},timeupdate:function(){var j=
{type:"timechange",time:this.currentTime};if(this.duration){j.duration=this.duration;j.timeProgress=j.time/j.duration*100}b._trigger(j)},loadedmetadata:function(){b._trigger({type:"loadedmeta",duration:this.duration})}}).bind("play pause playing ended waiting",function(j,m){if(!(!b.isAPIActive||b.totalerror||j.bubbles)){var r=this.parentNode||this.ownerDocument;if(!j.isPropagationStopped()&&r){j.bubbles=true;m=jQuery.makeArray(m);m.unshift(j);a.event.trigger(j,m,r,true)}}}).bind("play playing",function(){if(!b.isAPIActive&&
!b.element.paused&&!b.element.ended)try{b.element.pause()}catch(j){}}).bind("mediareset",k);k("initial");a.support.mediaLoop||a(this.element).bind("ended",function(){if(b.isAPIActive&&a.attr(this,"loop")){var j=this;setTimeout(function(){a.attr(j,"loop")&&j.play()},0)}});if(!this.element.error)if(this.element.readyState>0)this._trigger({type:"loadedmeta",duration:this.element.duration});else if(this.element.networkState!==2||"webkitPreservesPitch"in this.element)this._trigger("mmAPIReady")},play:function(){this.element.play()},
pause:function(){this.element.pause()},muted:function(b){if(typeof b!=="boolean")return this.element.muted;this.element.muted=b},volume:function(b){if(!isFinite(b))return this.element.volume*100;this.element.volume=b/100},currentTime:function(b){if(!isFinite(b))return this.element.currentTime;try{this.element.currentTime=b}catch(e){}},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>
2&&!this.element.error&&!this.element.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};u.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[o.enter]()}catch(b){return false}return true},exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[o.exit]()}catch(b){return false}return true}},d));u.add("nativ",
"audio",d);a.fn.getJMEAPI=function(b){if(this[0]){var e=a.data(this[0],"mediaElemSupport");return b||!e||!e.name||!e.apis?e:e.apis[e.name]}};var g={jmeReady:1,loadSrc:1};u.registerAPI=function(b){if(typeof b==="string")b=[b];a.each(b,function(e,i){if((e=u.apis.video.nativ[i])&&!a.fn[i]&&a.isFunction(e)&&i.indexOf("_")!==0)a.fn[i]=function(){var k=arguments,j;this.each(function(){var m=a(this).getJMEAPI();if(m)if(g[i]||m.isJMEReady()&&!m.totalerror&&(m.name!=="nativ"||a.support.mediaElements))j=m[i].apply(m,
k);else{m.unAPIReady(i+"queue");m.jmeReady.call(m,function(){m[i].apply(m,k)},i+"queue")}});return j===undefined?this:j}})};var l=[];a.each(u.apis.video.nativ,function(b){l.push(b)});u.registerAPI(l);a.fn.onAPIReady=a.fn.jmeReady;a.fn.getMMAPI=a.fn.getJMEAPI;u.fn._extend=function(b){var e=[];a.each(b,function(i,k){u.fn[i]=k;e.push(i)});u.registerAPI(e)}})(jQuery);
(function(a){function s(b,e){b=a(b);var i={},k=b.attr("data-controls");i.mm=k?a("#"+k):a("video, audio",b).filter(":first");i.api=i.mm.getJMEAPI(true)||i.mm.jmeEmbed(e.embed).getJMEAPI(true);if(b.is(e.controlSel))i.controls=b;if(!i.controls||i.controls.hasClass(e.classPrefix+"media-controls")){if(b[0]&&!i.api.controlWrapper&&a.contains(b[0],i.mm[0]))i.api.controlWrapper=b;i.controls=i.controls?a(e.controlSel,b).add(i.controls):a(e.controlSel,b)}return i}function u(b,e,i,k){l["media-state"](b,e,i,
a.extend({},k,{mediaState:{click:false}}));a.ui&&a.ui.keyCode&&b.bind("keydown",function(j){if(!j.jmeHandledEvent){j.jmeHandledEvent=true;if(x[j.keyCode]){if(!a(j.target).is(".ui-slider-handle")){var m=5;switch(j.keyCode){case a.ui.keyCode.UP:if(j.ctrlKey)m+=5;e.volume(Math.min(100,e.volume()+m));break;case a.ui.keyCode.DOWN:if(j.ctrlKey)m+=5;e.volume(Math.max(0,e.volume()-m));break;case a.ui.keyCode.LEFT:if(j.ctrlKey)m+=55;e.currentTime(Math.max(0,e.currentTime()-m));break;case a.ui.keyCode.RIGHT:if(j.ctrlKey)m+=
55;e.currentTime(Math.min(e.getDuration(),e.currentTime()+m));break}j.preventDefault()}}else if(j.keyCode===a.ui.keyCode.SPACE&&(!a.nodeName(j.target,"button")&&a.attr(j.target,"role")!=="button"||b.hasClass("wraps-fullscreen"))){e.togglePlay();j.preventDefault()}}})}if(!a.event.special.ariaclick){var w=false;function v(b){if(!w&&(!b.keyCode||b.keyCode===13||b.keyCode===32&&a.attr(b.target,"role")==="button")){w=true;setTimeout(function(){w=false},1);return a.event.special.ariaclick.handler.apply(this,
arguments)}else if(w&&b.type=="click"){b.preventDefault();return false}}a.event.special.ariaclick={setup:function(){a(this).bind("click keydown",v);return true},teardown:function(){a(this).unbind("click keydown",v);return true},handler:function(b){b.type="ariaclick";return a.event.handle.apply(this,arguments)}}}var o=/\s*\/\s*|\s*\|\s*/,x={40:true,37:true,39:true,38:true},d=a.fn.a11ySlider?"a11ySlider":"slider",g=0,l={"timeline-slider":function(b,e,i,k){function j(c,f){f.timeProgress!==undefined&&
!r&&b[d]("value",f.timeProgress)}function m(){i.apis[i.name].loadedmeta&&i.apis[i.name].loadedmeta.duration?b[d]("option","disabled",false):b[d]("option","disabled",true)}var r=false;b[d](k.timeSlider)[d]("option","disabled",true);e.bind("loadedmeta",m).bind("timechange",j).bind("mediareset",function(){b[d]("value",0);m()}).bind("ended",function(){b[d]("value",100)});b.bind("slidestart",function(c){if(c.originalEvent)r=true}).bind("slidestop",function(){r=false}).bind("slide",function(c,f){c.originalEvent&&
i.apis[i.name].isAPIReady&&i.apis[i.name].relCurrentTime(f.value)})},"volume-slider":function(b,e,i,k){function j(r,c){m||b[d]("value",c.volumelevel)}var m=false;b[d](k.volumeSlider)[d]("option","disabled",true);b.bind("slidestart",function(r){if(r.originalEvent)m=true}).bind("slidestop",function(){m=false}).bind("slide",function(r,c){r.originalEvent&&i.apis[i.name].isAPIReady&&i.apis[i.name].volume(c.value)});e.bind("volumelevelchange",j).jmeReady(function(){b[d]("option","disabled",false);b[d]("value",
parseFloat(e.volume(),10)||100)})},progressbar:function(b,e,i,k){function j(r,c){"relLoaded"in c?b.progressbar("option","disabled",false).progressbar("value",c.relLoaded):b.progressbar("option","disabled",true)}function m(){b.progressbar("option","disabled",true).progressbar("value",0)}b.progressbar(k.progressbar).progressbar("option","disabled",true);e.bind("progresschange",j).bind("mediareset",m)},duration:function(b,e,i,k){k.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("00:00");
e.bind("loadedmeta",function(j,m){b.html(i.apis[i.name]._format(m.duration))}).bind("mediareset",function(){b.html("00:00")})},"media-controls":function(b,e,i,k){function j(){var c=b.width()+k.mediaControls.timeSliderAdjust,f=m.outerWidth(true)-m.innerWidth();a("> *",b).each(function(){if(m[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!k.excludeSel||!a(this).is(k.excludeSel)))f+=a(this).outerWidth(true)});m.css("width",c-f)}k.addThemeRoller&&b.addClass("ui-widget ui-widget-header ui-corner-all");
b.attr("role","toolbar");if(k.mediaControls.dynamicTimeslider){var m=a("."+k.classPrefix+"timeline-slider",b),r=setTimeout(j,0);e.jmeReady(function(){clearInterval(r);setTimeout(j,0)});a(window).bind("resize",j);e.bind("resize emchange",j)}k.mediaControls.fullWindowOverlay&&a.fn.videoOverlay&&b.videoOverlay({fullscreenClass:k.classPrefix+"controls-fullscreenvideo",video:e,startCSS:{width:"auto"},position:{bottom:0,left:0,right:0}})},"media-label":function(b,e,i,k){if(!(!i.controlWrapper||i.controlWrapper.attr("role"))){e=
b.attr("id");if(!e){g++;e=k.classPrefix+"media-label-"+g;b.attr("id",e)}i.controlWrapper.attr({role:"group","aria-labelledby":e})}},"media-state":function(b,e,i,k){var j=k.classPrefix+"playing "+k.classPrefix+"totalerror "+k.classPrefix+"waiting "+k.classPrefix+"idle",m=function(){b.removeClass(j)};e.jmeReady(function(){e.isPlaying()?b.addClass(k.classPrefix+"playing"):b.addClass(k.classPrefix+"idle")});typeof k.mediaState.click==="string"&&e[k.mediaState.click]&&b.click(function(){e[k.mediaState.click]()});
b.addClass(k.classPrefix+i.name);e.bind({apiActivated:function(r,c){b.addClass(k.classPrefix+c.api)},apiDeActivated:function(r,c){b.removeClass(k.classPrefix+c.api)}}).bind("playing totalerror waiting",function(r){m();b.addClass(k.classPrefix+r.type)}).bind("play",function(){b.removeClass(k.classPrefix+"idle")}).bind("pause ended mediareset",function(){m();b.addClass(k.classPrefix+"idle")}).bind("canplay",function(){b.removeClass(k.classPrefix+"waiting")});k.mediaState.fullWindowOverlay&&a.fn.videoOverlay&&
b.videoOverlay({video:e,startCSS:{width:"auto",height:"auto"},position:{bottom:0,left:0,right:0,top:0,wdith:0,height:0}})}};a.each(["current-time","remaining-time"],function(b,e){l[e]=function(i,k,j,m){var r=e=="remaining-time"?function(f,h){i.html(j.apis[j.name]._format(c-h.time))}:function(f,h){i.html(j.apis[j.name]._format(h.time))},c=Number.MIN_VALUE;m.addThemeRoller&&i.addClass("ui-widget-content ui-corner-all");i.html("00:00").attr("role","timer");e=="remaining-time"&&k.bind("loadedmeta",function(f,
h){c=h.duration||Number.MIN_VALUE;r(false,{time:0})});k.bind("timechange",r).bind("mediareset",function(){i.html("00:00")})}});a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(b,e){l[b]=function(i,k,j,m){function r(){if(k[e.stateMethod]()){c.text.text(c.names[1]);
c.title.attr("title",c.titleText[1]);c.icon.addClass(e.trueClass).removeClass(e.falseClass)}else{c.text.text(c.names[0]);c.title.attr("title",c.titleText[0]);c.icon.addClass(e.falseClass).removeClass(e.trueClass)}}var c=a.fn.jmeControl.getBtn(i);m.addThemeRoller&&i.addClass("ui-state-default ui-corner-all");k.bind(e.evts,r).jmeReady(r);i.bind("ariaclick",function(f){k[e.actionMethod]();f.preventDefault()})}});a.fn.jmeControl=function(b){function e(){var i=s(this,b);i.api.controls=i.api.controls||
[];if(i.api){i.controls.each(function(){var k=a(this);if(a.inArray(this,i.api.controls)===-1){i.api.controls.push(this);a.each(l,function(j,m){if(k.hasClass(b.classPrefix+j)){m(k,i.mm,i.api,b);return false}})}});i.api.controlWrapper&&i.api.controlWrapper[0]&&u(i.api.controlWrapper,i.mm,i.api,b)}}b=a.extend(true,{},a.fn.jmeControl.defaults,b);b.controlSel=[];a.each(l,function(i){i!=="media-controls"&&b.controlSel.push("."+b.classPrefix+i)});b.controlSel.push("."+b.classPrefix+"media-controls");b.controlSel=
b.controlSel.join(", ");return this.each(e)};a.fn.jmeControl.defaults={embed:a.fn.jmeEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:false,timeSliderAdjust:0,excludeSel:false,fullWindowOverlay:true},progressbar:{},volumeSlider:{},timeSlider:{},currentTime:{reverse:false},mediaState:{click:"togglePlay",fullWindowOverlay:true}};a.support.waiaria=!a.browser.msie||a.browser.version>7;a.fn.jmeControl.getBtn=function(b){var e={icon:a(".ui-icon",b),text:a(".button-text",
b),title:b};if(!b.is(":button")&&!b.attr("role")){a.support.waiaria&&b.removeAttr("href");b.attr({role:"button",tabindex:0})}if(!e.icon[0]&&!e.text[0]&&!a("*",b)[0]){e.icon=b;e.text=b}e.names=e.text.text().split(o);e.titleText=(b.attr("title")||"").split(o);if(e.names.length!==2)e.text=a([]);if(e.titleText.length!==2)e.title=a([]);return e};a.fn.jmeControl.addControl=function(b,e){l[b]=e};a.fn.registerMMControl=a.fn.jmeControl;a(function(){d=a.fn.a11ySlider?"a11ySlider":"slider"})})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{jwPlayer:{path:"player.swf",hideIcons:"auto",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var s={type:"application/x-shockwave-flash"},u={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},w=a.multimediaSupport,v={A:/&amp;/g,a:/&/g,e:/\=/g,q:/\?/g},o=function(d){return d.replace(v.A,"%26").replace(v.a,"%26").replace(v.e,"%3D").replace(v.q,"%3F")};(function(){a.support.flash9=false;var d=w.getPluginVersion("Shockwave Flash"),
g=function(b){a.support.flash9=false;try{if(b&&typeof b.GetVariable!=="undefined"){var e=b.GetVariable("$version");b=w.getPluginVersion("",{description:e});a.support.flash9=!!(b[0]>9||b[0]===9&&b[1]>=115)}}catch(i){}};if(d[0]>9||d[0]===9&&d[1]>=115){a.support.flash9=true;a(function(){d=a("<object />",s).appendTo("body");g(d[0]);d.remove()})}else if(window.ActiveXObject)try{d=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");g(d);d=null}catch(l){}})();var x={isTechAvailable:function(){return a.support.flash9},
_embed:function(d,g,l,b){var e=this.embedOpts.jwPlayer;d=a.extend({},e.vars,{file:d,id:g});var i=a.extend({name:g,data:e.path},e.attrs,s),k=a.extend({movie:e.path},e.params);if(l.poster)d.image=l.poster;d.autostart=""+l.autoplay;d.repeat=l.loop?"single":"false";d.controlbar=l.controls?"bottom":"none";if(!l.controls&&e.hideIcons&&k.wmode==="transparent"||e.hideIcons===true){d.icons="false";d.showicons="false"}k.flashvars=[];a.each(d,function(j,m){k.flashvars.push(o(j)+"="+o(m))});k.flashvars=k.flashvars.join("&");
b(w.embedObject(this.visualElem[0],g,i,k,u,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","VP6","mp3","AAC"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};w.add("jwPlayer","video",x);w.add("jwPlayer","audio",x)})(jQuery);
(function(a){function s(d){d=d.replace(v,"");return a.data(u.getElementById(d),"mediaElemSupport").apis.jwPlayer}var u=document,w=a.multimediaSupport,v=/^jwPlayer-/,o={View:{PLAY:function(d){if(d=d.state&&s(d.id)){d._trigger("play");d._$isPlaystate=true}}},Model:{META:function(d){if(d.type==="metadata"){var g=s(d.id);g&&g._trigger({type:"loadedmeta",duration:d.duration})}},TIME:function(d){var g=s(d.id),l={type:"timechange",time:d.position};if(g){g.loadedmeta||g._trigger({type:"loadedmeta",duration:d.duration});
g._$currentPos=d.position;if(d.duration){l.duration=d.duration;l.timeProgress=d.position/d.duration*100;g._$timeProgress=l.timeProgress}g._trigger(l)}},STATE:function(d){if(d.newstate==="IDLE")return false;var g=s(d.id),l;if(!g)return false;switch(d.newstate){case "PLAYING":l="playing";break;case "PAUSED":g._$isPlaystate=false;l="pause";break;case "COMPLETED":g._$isPlaystate=false;l="ended";g._adjustPluginLoop(g.apiElem.getConfig().repeat=="single");break;case "BUFFERING":l="waiting";break}l&&g._trigger(l);
return l}},Controller:{VOLUME:function(d){var g=s(d.id);!g||g._$lastMuteState!==g.muted()||g._trigger({type:"volumelevelchange",volumelevel:d.percentage})},MUTE:function(d){var g=s(d.id);if(g){g._$lastMuteState=d.state;g._trigger({type:"mute",isMuted:d.state})}}}};window.jwEvents={four:a.extend(true,{},o,{Model:{LOADED:function(d){var g=s(d.id);if(g){var l={type:"progresschange",lengthComputable:!!d.total};if(d.total){a.extend(l,{relLoaded:d.total/d.loaded*100});g._$buffered=l.relLoaded}g._trigger(l)}}}}),
five:a.extend(true,{},o,{Model:{BUFFER:function(d){var g=s(d.id);if(g){if(g._$timeProgress&&d.percentage+g._$startBuffer+1<g._$timeProgress)g._$startBuffer=g._$timeProgress;d={type:"progresschange",relLoaded:d.percentage+g._$startBuffer,relStart:0};g._$buffered=d.relLoaded;g._trigger(d)}},STATE:function(d){if(o.Model.STATE(d)==="playing")if(d=s(d.id)){d._trigger("playing");d._$isPlaystate=true}}}})};window.playerReady=function(d){var g=s(d.id);if(g){if(g.isAPIReady){if(g.apiElem.sendEvent)setTimeout(function(){g._lastLoad&&
g._mmload(g._lastLoad.file,g._lastLoad.image);if(g._$isPlaystate&&!(g.apiElem.getConfig()||{}).autostart)g.play()},20);else{g._$reInit();return}setTimeout(function(){g._trigger("jmeflashRefresh")},20)}var l=parseInt(d.version,10)>4?"five":"four";a.each(jwEvents[l],function(b,e){a.each(e,function(i){g.apiElem["add"+b+"Listener"](i,"jwEvents."+l+"."+b+"."+i)})});setTimeout(function(){g._$lastMuteState=g.muted();var b=a.attr(g.element,"getConfig");if(!b.autoplay)if(g.nodeName==="audio"&&b.preload===
"metadata"){g.apiElem.sendEvent("PLAY","true");g.apiElem.sendEvent("PLAY","false")}else g.nodeName==="video"&&b.preload!=="none"&&!b.poster&&g.currentTime(0);g._trigger("mmAPIReady")},20)}};var x={_init:function(){this._$resetStates()},_$resetStates:function(){this._$currentPos=this._$timeProgress=this._$startBuffer=this._$buffered=0},_$reInitCount:0,_$reInitTimer:false,_$reInit:function(){var d=this;if(this._$reInitCount<5){this.visualElem[0].style.overflow="visible";setTimeout(function(){d.visualElem[0].style.overflow=
"hidden"},0)}this._$reInitCount++;this._$resetStates();if(!this._$reInitTimer){this._$reInitTimer=true;setTimeout(function(){d._$reInitCount=0;d._$reInitTimer=false},2E4)}},canPlaySrc:function(d){var g=w.fn.canPlaySrc.apply(this,arguments),l=-1;l=d.src||d;if(!g&&typeof l==="string"){l=l.indexOf("youtube.com/");if(l<15&&l>6)g="maybe"}return g},play:function(){this.apiElem.sendEvent("PLAY","true");this._$isPlaystate=true;this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},
_isPlaying:function(){var d=this.apiElem.getConfig();return d?d.state==="PLAYING":undefined},_mmload:function(d,g){this._lastLoad={file:d,image:g||false};this._$resetStates();this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(d){if(typeof d!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",d?"true":false)},_isSeekable:function(d){var g=
this.apiElem.getConfig()||{};if(this._$buffered===100||g.provider!=="video"&&g.provider!=="audio")return true;g=this.getDuration();if(!g)return false;return d/g*100<this._$buffered},currentTime:function(d){if(!isFinite(d))return this._$currentPos||0;var g=this,l=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),b=function(){g.apiElem.sendEvent("SEEK",d);e();l||g.apiElem.sendEvent("PLAY","false");g._$currentPos=d;g._trigger({type:"timechange",time:d})},e=function(){a(g.element).unbind(".jwseekrequest")};
if(!l){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY","false")}clearTimeout(this._seekrequestTimer);e();if(this._isSeekable(d))b();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(g._isSeekable(d)){var i=g.muted();e();clearTimeout(g._seekrequestTimer);i||g.muted(true);g.apiElem.sendEvent("PLAY","true");g._seekrequestTimer=setTimeout(function(){i||g.muted(i);b()},120)}}).bind("mediareset.jwseekrequest",
e).bind("play.jwseekrequest",function(){g.apiElem.sendEvent("PLAY","false");g._trigger("waiting");l=true}).bind("pause.jwseekrequest",function(){l=false});this._seekrequestTimer=setTimeout(function(){a(g.element).unbind("play.jwseekrequest").unbind("pause.jwseekrequest").bind("play.jwseekrequest",e).bind("pause.jwseekrequest",e)},999)}},getDuration:function(){var d=this.apiElem.getPlaylist()[0].duration||0;return d<0?0:d},volume:function(d){if(!isFinite(d))return parseInt(this.apiElem.getConfig().volume,
10);this.apiElem.sendEvent("VOLUME",""+d)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.browser.mozilla&&a.extend(x,{isJMEReady:function(){var d=false;if(this.isAPIReady&&this.apiElem.sendEvent&&this.apiElem.getConfig){this.apiElem.getConfig();d=true}return d}});w.add("jwPlayer","video",x);w.add("jwPlayer","audio",x)})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{vlc:{params:{},attrs:{}}});var s=a.multimediaSupport,u={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",type:"application/x-vlc-plugin",events:"True"},w={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},v={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;a.support.vlcWEBM=false;var o=s.getPluginVersion("VLC Multimedia Plug-in");if(o[0]>=0.9){if(o[0]>=
1.1)a.support.vlcWEBM=true;a.support.vlc=true}else if(window.ActiveXObject)try{if(o=new ActiveXObject("VideoLAN.VLCPlugin.2")){if(o.VersionInfo&&parseFloat(o.VersionInfo,10)>=1.1)a.support.vlcWEBM=true;a.support.vlc=true}}catch(x){}if(a.support.vlcWEBM){v.canPlayCodecs.push("VP8");v.canPlayCodecs.push("VP8.0");v.canPlayContainer.push("video/webm");v.canPlayContainer.push("audio/webm")}return a.support.vlc},_embed:function(o,x,d,g){var l=this.embedOpts.vlc,b=a.extend(window.ActiveXObject?{}:{data:o},
l.attrs,u);l=a.extend({},l.params,{Src:o,ShowDisplay:"True",autoplay:""+d.autoplay,autoloop:""+d.loop});x=s.embedObject(this.visualElem[0],x,b,l,w,"VLC Multimedia Plug-in");this._currentSrc=o;this._loop=d.loop;g(x);if(!d.autoplay&&window.ActiveXObject)try{x.playlist.playItem(x.playlist.add(o," ",":no-video-title-show"));x.playlist.items.clear();x.playlist.stop()}catch(e){}},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis","VP6","mp3","AAC"],canPlayContainer:["video/3gpp",
"video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};s.add("vlc","video",v);s.add("vlc","audio",v)})(jQuery);
(function(a){function s(d){function g(){try{if(d.apiElem.input&&d.apiElem.input.state!==undefined){u("mmAPIReady",d);clearInterval(l);if(a.attr(d.element,"autoplay"))v.start(d);else{d.apiElem.playlist.stop();setTimeout(function(){d.apiElem.playlist.stop()},0)}}}catch(b){}}var l;clearInterval(l);l=setInterval(g,333)}function u(d,g){setTimeout(function(){g._trigger(d)},0)}function w(d){setTimeout(function(){d._intervalCheck()},9)}var v={start:function(d){v.end(d);d._intervalCheckTimer=setInterval(function(){d._intervalCheck.call(d)},
1E3)},end:function(d){d._intervalCheckTimer&&clearInterval(d._intervalCheckTimer)}},o={2:"waiting",3:"playing",4:"pause",6:"ended"},x={_init:function(){s(this);this._setPoster(a.attr(this.element,"poster"))},_intervalCheck:function(){var d=this.apiElem,g=d.input.state,l=this,b={type:"loadedmeta",duration:d.input.length/1E3},e;if(g&&g>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==b.duration){u(b,l);this.data.metaLoaded=b}e={type:"timechange",time:d.input.time/1E3};
if(g&&g>1&&this.data.time!==e.time){if(b.duration){e.duration=b.duration;e.timeProgress=d.input.position*100}this.data.time=e.time;u(e,l)}e={type:"mute",isMuted:d.audio.mute};if(e.isMuted!==this.data.isMuted){this.data.isMuted=e.isMuted;u(e,l)}e={type:"volumelevelchange",volumelevel:d.audio.volume/2};if(e.volumelevel!==this.data.volumelevel){this.data.volumelevel=e.volumelevel;u(e,l)}if(g!==this.data.state){this.data.state=g;o[g]&&u(o[g],l);if(o[g]==="ended"){d.playlist.stop();l._adjustPluginLoop(l._loop)}if(g===
3)v.start(l);else if(g===4||g===5||g===6||g===7)v.end(l)}},play:function(){this.apiElem.playlist.play();this._trigger("play");v.start(this);w(this);if(this._currentTimeAdjust!==false){try{this.apiElem.input.time=this._currentTimeAdjust}catch(d){}this._resetCurrentTime()}},pause:function(){if(o[this.apiElem.input.state]==="playing"){v.end(this);this.apiElem.playlist.togglePause();w(this)}},_isPlaying:function(){var d=false;try{d=o[this.apiElem.input.state]==="playing"}catch(g){}return d},_mmload:function(d,
g){a(this.element).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};var l=this.apiElem.playlist.add(d," ",":no-video-title-show");this._currentSrc=d;this.apiElem.playlist.playItem(l);this.apiElem.playlist.items.clear();this._setPoster(g);this._showPoster(false,{time:0});if(!a.attr(this.element,"autoplay")){v.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},_currentTimeAdjust:false,_currentTimeTimer:false,_resetCurrentTime:function(){clearTimeout(this._currentTimeTimer);
this._currentTimeAdjust=false},currentTime:function(d){try{if(!isFinite(d))return this.apiElem.input?this.apiElem.input.time/1E3:0;var g;if(!this.loadedmeta){g=o[this.apiElem.input.state];this.play()}this._currentTimeAdjust=d*1E3;clearTimeout(this._currentTimeTimer);this._currentTimeTimer=setTimeout(a.proxy(this,"_resetCurrentTime"));this.apiElem.input.time=this._currentTimeAdjust;w(this);g&&g!=="playing"&&g!=="waiting"&&this.pause()}catch(l){if(!isFinite(d))return 0}},getDuration:function(){var d;
try{d=this.apiElem.input.length/1E3||0}catch(g){d=0}return d},volume:function(d){if(!isFinite(d))return this.apiElem.audio?parseInt(this.apiElem.audio.volume/2,10):100;if(this.apiElem.audio){this.apiElem.audio.volume=d*2;w(this)}},muted:function(d){if(typeof d!=="boolean")try{return this.apiElem.audio?this.apiElem.audio.mute:true}catch(g){return false}if(this.apiElem.audio){this.apiElem.audio.mute=d;w(this)}}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=
true;else{var d=this;a(d.element).one("playing.enterFullscreen",function(){d.apiElem.video.fullscreen=true});this.play()}return true},exitFullScreen:function(){this.apiElem.video.fullscreen=false;return true}},x));a.multimediaSupport.add("vlc","audio",x)})(jQuery);
