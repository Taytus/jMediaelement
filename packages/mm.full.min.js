/**!
 * Part of the jMediaelement-Project v0.9.1beta | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function s(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function u(c){if(a.support.mediaElements){var g=a.data(this,"mediaElemSupport");if(g&&g.apis){c&&c.type&&a.data(this,"calledMediaError",false);g=g.apis;c=this;var i=a.attr(this,"srces");if(c.error||i.length&&!g.nativ.canPlaySrces(i)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{c.pause()}catch(n){}}a("source",this).unbind("error",s).filter(":last").bind("error",
s)}}}function v(c){var g=c.indexOf("?"),i="";c=g>0?c.substring(0,g):c;g=c.lastIndexOf(".")+1;return i=c.substr(g)}function y(c,g){var i=c.nodeName.toLowerCase();g=k.getSuitedPlayers(c,g.apiOrder);var n=a.data(c,"mediaElemSupport");if(g){if(g!=="noSource")if(k._setAPIActive(c,g.name))n.apis[g.name]._mmload&&n.apis[g.name]._mmload(g.src,a.attr(c,"poster"));else k._embedApi(c,g,n,i)}else{n.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(o){}}}a.multimediaSupport={};var k=a.multimediaSupport,
w=(new Date).getTime(),d=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var h=a.attr,f=/video|audio|source/i,b={src:1,poster:1},e={loop:1,autoplay:1,controls:1},j={srces:1,getConfig:1,preload:1},r={auto:1,metadata:1,none:1};a.attr=function(c,g,i,n){if(!(c.nodeName&&f.test(c.nodeName)&&(j[g]||e[g]||b[g])))return h(c,g,i,n);var o;if(i===undefined){if(e[g])return typeof c[g]==="boolean"?
c[g]:!!(c.attributes[g]||{}).specified;if(b[g])return a.support.video&&c[g]||k.makeAbsURI(c.getAttribute(g));switch(g){case "srces":if(o=a.attr(c,"src"))o=[{src:o,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{o=[];a("source",c).each(function(){o.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});o.length||a("a.source",c).each(function(){o.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;
case "getConfig":o={};a.each(["autoplay","loop","controls","poster","preload"],function(p,t){o[t]=a.attr(c,t)});break;case "preload":o=c.getAttribute("preload");r[o]||(o="auto");break}return o}else if(e[g]){i=!!i;if(c[g]=i){c[g]=i;c.setAttribute(g,g)}else{c[g]=i;c.removeAttribute(g)}}else if(b[g])c.setAttribute(g,i);else if(g==="srces"){a("source, a.source",c).remove();c.removeAttribute("src");i=a.isArray(i)?i:[i];a.each(i,function(p,t){o=d.createElement("source");if(typeof t==="string")t={src:t};
o.setAttribute("src",t.src);t.type&&o.setAttribute("type",t.type);t.media&&o.setAttribute("media",t.media);c.appendChild(o)})}else if(g==="getConfig")a.each(i,function(p,t){a.attr(c,p,t)});else if(g==="preload"){r[i]||(i="auto");c.setAttribute(g,i)}};a.event.special.mediaerror={setup:function(){var c=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",u);setTimeout(function(){c.each(u)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",
s)},handler:function(c){if(!a.data(this,"calledMediaError")){c=a.extend({},c||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};var m={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov",
"qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"]}};a.extend(k,{registerMimetype:function(c,g){arguments.length===1?a.each(m,function(i){k.registerMimetype(i,c)}):a.each(g,function(i,n){if(m[c][i])m[c][i]=[];m[c][i]=m[c][i].concat(n)})},_showMimeTypes:function(){window.console&&console.log(m)},add:function(c,g,i){if(!this.apis[g][c]){this.apis[g][c]=k.beget(this.fn);c!=="nativ"&&a.inArray(c,a.fn.jmeEmbed.defaults.apiOrder)===-1&&a.fn.jmeEmbed.defaults.apiOrder.push(c)}a.extend(true,
this.apis[g][c],i)},fn:{_init:a.noop,canPlayType:function(c){var g=this.apiElem,i;if(g&&g.canPlayType){i=g.canPlayType(c);return i==="no"?"":i}c=k.extractContainerCodecsFormType(c);var n=this;i="probably";if(!c[1])return this.canPlayContainer&&a.inArray(c[0],this.canPlayContainer)!==-1?"maybe":"";a.each(c[1],function(o,p){if(!n.canPlayCodecs||a.inArray(p,n.canPlayCodecs)===-1){i="";return false}});return i},canPlaySrc:function(c){var g=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);
c=c.src}var i=v(c),n="";a.each(m[this.nodeName],function(o,p){if(a.inArray(i,p)!==-1){n=g.canPlayType(o);return false}});return n},canPlaySrces:function(c){c=c||a.attr(this.element,"srces");a.isArray(c)||(c=[c]);var g=this,i=false,n="";a.each(c,function(o,p){if(i=g.canPlaySrc(p)){n=p;return false}});return n},_setActive:a.noop,_setInactive:a.noop,_trigger:function(c){a(this.element).triggerHandler(c,c)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&
c[1].indexOf("codecs")!==-1)c[1]=c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=a('<a href="'+c+'"></a>')[0].href;return c}}(),beget:function(c){var g=function(){};g.prototype=c;return new g},_create:function(c,g,i,n){var o=a.data(i,"mediaElemSupport")||a.data(i,"mediaElemSupport",{apis:{},nodeName:c});if(!o.apis[g]){o.apis[g]=k.beget(k.apis[c][g]);o.apis[g].element=i;o.apis[g].nodeName=c;o.apis[g].name=
g;o.apis[g].data={};o.apis[g].embedOpts=n}return o},_setAPIActive:function(c,g){var i=a.data(c,"mediaElemSupport"),n=i.name;if(n===g)return true;var o=i.apis[n].apiElem,p=i.apis[g]&&i.apis[g].apiElem,t=false;if(p&&p.nodeName){if(i.nodeName!=="audio"||a.attr(c,"controls"))g==="nativ"?i.apis[g].visualElem.css({display:""}):i.apis[g].visualElem.css({width:i.apis[n].visualElem.width(),height:i.apis[n].visualElem.height(),visibility:""});i.apis[g]._setActive(n);t=true;i.apis[g]._trigger({type:"apiActivated",
api:g})}i.apis[g].isAPIActive=true;if(o&&o.nodeName){if(n==="nativ")o.style.display="none";else i.apis[n].visualElem.css({height:0,width:0,visibility:"hidden"});i.apis[n]._setInactive(g);i.apis[n].isAPIActive=false;i.apis[g]._trigger({type:"apiDeActivated",api:n})}i.name=g;return t},getSuitedPlayers:function(c,g){var i=a.data(c,"mediaElemSupport");if(i&&i.apis){i=i.apis;var n=a.attr(c,"srces"),o=false,p=function(t,x){if(!(typeof x.isTechAvailable==="boolean"&&!x.isTechAvailable||a.isFunction(x.isTechAvailable)&&
!x.isTechAvailable())){if(x=x.canPlaySrces(n))o={src:x.src||x,name:t};return o}};if(!n.length)return"noSource";g?a.each(g,function(t,x){return!p(x,i[x])}):a.each(i,function(t,x){return!p(t,x)});return o}},_embedApi:function(c,g,i){var n=a.attr(c,"getConfig"),o=a(c),p=c.id,t=o.attr("aria-labelledby");if(!p){w++;p=i.nodeName+"-"+w;c.id=p}i.apis[g.name].visualElem=a('<div class="media-element-box mm-'+i.nodeName+'-box" style="position: relative; overflow: hidden;" />').insertBefore(c);t&&i.apis[g.name].visualElem.attr({role:"group",
"aria-labelledby":t});i.nodeName==="audio"&&!n.controls?i.apis[g.name].visualElem.css({height:0,width:0,overflow:"hidden"}):i.apis[g.name].visualElem.css({width:o.width(),height:o.height()});i.apis[g.name]._embed(g.src,i.name+"-"+p,n,function(x){i.apis[g.name].apiElem=x;a(x).addClass(i.nodeName).attr("tabindex",!n.controls?"-1":"0");i.apis[g.name]._init();i.apis[g.name]._trigger({type:"apiActivated",api:g.name})})},getPluginVersion:function(c,g){g=g||navigator.plugins&&navigator.plugins[c];c=[-1,
0];if(g)if((g=(g.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&g[0]){c[0]=g[0];if(g[1])c[0]+="."+g[1];c[0]=parseFloat(c[0],10);if(g[2])c[1]=parseInt(g[2],10)}return c},embedObject:function(c,g,i,n,o){c=a("<div />").appendTo(c)[0];var p;if(navigator.plugins&&navigator.plugins.length){p=d.createElement("object");a.each(i,function(t,x){p.setAttribute(t,x)});a.each(n,function(t,x){var z=d.createElement("param");z.setAttribute("name",t);z.setAttribute("value",x);p.appendChild(z)});p.setAttribute("id",
g);p.setAttribute("name",g);c.parentNode.replaceChild(p,c)}else if(window.ActiveXObject){p="<object";a.each(a.extend({},i,o),function(t,x){p+=" "+t+'="'+x+'"'});p+=' name="'+g+'"';p+=' id="'+g+'"';p+=">";a.each(n,function(t,x){p+=' <param name="'+t+'" value="'+x+'" />'});p+="</object>";c.outerHTML=p;p=d.getElementById(g)}if(p){p.setAttribute("width","100%");p.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([p]);p=null});setTimeout(function(){if(p&&p.setAttribute){p.setAttribute("width",
"100%");p.setAttribute("height","100%")}},0);p.tabIndex=-1;return p}});k.add("nativ","video",{});k.add("nativ","audio",{});var l=function(){var c=a(this).hide().children(":not(source, track)").clone().insertAfter(this);a(this).one("mediareset",function(){a(this).show();c.remove()})};a.fn.jmeEmbed=function(c){c=a.extend(true,{},a.fn.jmeEmbed.defaults,c);c.showFallback&&a.support.mediaElements&&this.bind("totalerror",l);return this.each(function(){var g=this.nodeName.toLowerCase();if(!(g!=="video"&&
g!=="audio")){var i=this;c.beforeEmbed(this,g,c);c.removeControls&&a.attr(this,"controls",false);var n=k._create(g,"nativ",this,c);n.name="nativ";n.apis.nativ.apiElem=this;n.apis.nativ.visualElem=a(this);n.apis.nativ.isAPIActive=true;a.each(k.apis[g],function(o){o!=="nativ"&&k._create(g,o,i,c)});if(c.debug||!a.support.mediaElements){y(this,c);n.apis.nativ.isAPIReady=true}else n.apis.nativ._init();a(this).bind("mediaerror",function(){n.name==="nativ"&&y(this,c)});c.afterEmbed(this,g,c)}})};a.fn.jmeEmbed.defaults=
{debug:false,removeControls:false,showFallback:false,apiOrder:[],beforeEmbed:a.noop,afterEmbed:a.noop};a.fn.mediaElementEmbed=a.fn.jmeEmbed;if(a.cleanData&&window.ActiveXObject){var q=a.cleanData;a.cleanData=function(c){q(c);for(var g=0,i=c.length;g<i;g++)if(c[g].nodeName==="OBJECT")try{for(var n in c[g])if(typeof c[g][n]==="function")c[g][n]=null}catch(o){}}}})(jQuery);
(function(a){var s=document.createElement("video"),u=a.multimediaSupport,v={apiActivated:1,apiDeActivated:1,mediareset:1,native_mediareset:1,totalerror:1,jmeflashRefresh:1},y={native_mediareset:1,apiDeActivated:1,native_mediareset:1,apiActivated:1,timechange:1,progresschange:1,mmAPIReady:1,jmeflashRefresh:1},k={};if("enterFullScreen"in s&&s.supportsFullscreen){a.support.videoFullscreen=true;k.enter="enterFullScreen";k.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(b,e){if(e+
"EnterFullScreen"in s&&s[e+"SupportsFullscreen"]){a.support.videoFullscreen=true;k.enter=e+"EnterFullScreen";k.exit=e+"ExitFullScreen";return false}});s=null;a.extend(u,{formatTime:function(b){return a.map([parseInt(b/60,10),parseInt(b%60,10)],function(e){return isNaN(e)?"--":e<10?"0"+e:e}).join(":")}});a.event.special.loadedmeta={add:function(b){var e=a(this).getJMEAPI();if(e&&e.loadedmeta){e=a.extend({},e.loadedmeta);b.handler.call(this,e,e)}}};a.extend(u.fn,{_trigger:function(b){var e=b.type?b:
{type:b},j=e.type;switch(j){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=e;break;case "totalerror":this.totalerror=true;break;case "mediareset":this._bufferLoaded=this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!v[j])){!this.isAPIReady&&!v[j]&&this._trigger("mmAPIReady");if(b.type==="progresschange"){if(isFinite(this._bufferLoaded)&&isFinite(b.relLoaded)&&this._bufferLoaded>=b.relLoaded)return;this._bufferLoaded=
b.relLoaded;b.relStart=b.relStart||0;if(this._concerningBufferStart!==b.relStart){this._concerningBufferStart=b.relStart;this._trigger({type:"bufferrange",relStart:b.relStart,relLoaded:b.relLoaded})}}b.target=this.element;b=a.Event(b);b.preventDefault();e.mediaAPI=this.name;y[j]&&b.stopPropagation();a.event.trigger(b,e,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,isJMEReady:function(){return this.isAPIReady},
relCurrentTime:function(b){var e=this.getDuration()||Number.MIN_VALUE;b&&isFinite(b)&&this.currentTime(e*b/100);return this.currentTime()/e*100},getMediaAPI:function(){return this.mediaAPI},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getJMEVisual:function(){return this.visualElem},jmeReady:function(b,e){var j={type:"mmAPIReady"};if(this.isJMEReady())b.call(this.element,j,j);else{e=e||"jmediaelement";var r=this,m=function(){a(r.element).unbind("mmAPIReady."+
e,m).unbind("jmeflashRefresh."+e,m);b.call(r.element,j,j)};a(this.element).bind("mmAPIReady."+e,m).bind("jmeflashRefresh."+e,m)}},unAPIReady:function(b){a(this.element).unbind("mmAPIReady."+b)},_format:u.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(b,e){if(b){a.attr(this.element,"srces",b);b=a.isArray(b)?b:[b]}else b=a.attr(this.element,"srces");if(e!==undefined)e?a.attr(this.element,
"poster",e):a(this.element).removeAttr("poster");else e=a.attr(this.element,"poster");this._isResetting=true;b=this.canPlaySrces(b);this._trigger("mediareset");if(b){b=b.src||b;this._mmload(b,e)}else{u._setAPIActive(this.element,"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()},_makenum:function(b){var e=false;if(b==b*1)e=parseFloat(b,10);return e},
_hidePoster:function(){if(!this._isHiddenPoster){a("img.poster-image",this.visualElem).css("visibility","hidden");a(this.apiElem).css("visibility","");this._isHiddenPoster=true}},_showPoster:function(b,e){if(e.time)this._isHiddenPoster||this._hidePoster();else{a("img.poster-image",this.visualElem).css("visibility","");a(this.apiElem).css("visibility","hidden");this._isHiddenPoster=false}},_setPoster:function(b){a("img.poster-image",this.visualElem).remove();a(this.element).unbind(".jme_poster");if(b){var e=
this.currentTime();a("<img />",{"class":"poster-image",css:{position:"absolute",top:0,left:0,margin:0,"float":"none",maxHeight:"100%",maxWidth:"100%",width:"100%",height:"auto",visibility:"hidden"},src:b}).appendTo(this.visualElem);this._isHiddenPoster=true;a(this.element).bind("play.jme_poster",a.proxy(this,"_hidePoster")).bind("timechange.jme_poster",a.proxy(this,"_showPoster"));!isFinite(e)||!e?this._showPoster(false,{time:0}):this._hidePoster()}}});var w=function(b){var e,j=function(){for(var m=
b.element.currentTime,l=b.element.buffered,q=l.length,c={},g=0;g<q;g++){c.start=l.start(g);c.end=l.end(g);if(c.start<=m&&c.end>=m)break}return c},r=function(m){var l={type:"progresschange"},q;if(this.buffered&&this.buffered.length){if(m=this.duration){q=j();l.relStart=q.start/m*100;l.relLoaded=q.end/m*100}b._trigger(l)}else if(m.originalEvent&&"lengthComputable"in m.originalEvent&&m.originalEvent.loaded){if(m.originalEvent.lengthComputable&&m.originalEvent.total){l.relStart=0;l.relLoaded=m.originalEvent.loaded/
m.originalEvent.total*100}if(!e){a(this).unbind(m.type==="load"?"progress":"load",r);e=true}b._trigger(l)}};a(b.element).bind("progress load",r)},d={isTechAvailable:a.support.mediaElements,_init:function(){var b=this,e=this.apiElem.muted;w(this);a(this.element).bind({volumechange:function(){if(e!==b.apiElem.muted){e=b.apiElem.muted;b._trigger.call(b,{type:"mute",isMuted:e})}else b._trigger.call(b,{type:"volumelevelchange",volumelevel:b.apiElem.volume*100})},timeupdate:function(){var j={type:"timechange",
time:this.currentTime};if(this.duration){j.duration=this.duration;j.timeProgress=j.time/j.duration*100}b._trigger(j)},loadedmetadata:function(){b._trigger({type:"loadedmeta",duration:this.duration})}}).bind("play pause playing ended waiting",function(j,r){if(!(!b.isAPIActive||b.totalerror||j.bubbles)){var m=this.parentNode||this.ownerDocument;if(!j.isPropagationStopped()&&m){j.bubbles=true;r=jQuery.makeArray(r);r.unshift(j);a.event.trigger(j,r,m,true)}}});if(!this.element.error)if(this.element.readyState>
0)this._trigger({type:"loadedmeta",duration:this.element.duration});else if(this.element.networkState!==2||"webkitPreservesPitch"in this.element)this._trigger("mmAPIReady")},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(b){if(typeof b!=="boolean")return this.element.muted;this.element.muted=b},volume:function(b){if(!isFinite(b))return this.element.volume*100;this.element.volume=b/100},currentTime:function(b){if(!isFinite(b))return this.element.currentTime;
try{this.element.currentTime=b}catch(e){}},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};u.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[k.enter]()}catch(b){}},
exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[k.exit]()}catch(b){}}},d));u.add("nativ","audio",d);a.fn.getJMEAPI=function(b){if(this[0]){var e=a.data(this[0],"mediaElemSupport");return b||!e||!e.name||!e.apis?e:e.apis[e.name]}};var h={jmeReady:1,loadSrc:1};u.registerAPI=function(b){if(typeof b==="string")b=[b];a.each(b,function(e,j){if((e=u.apis.video.nativ[j])&&!a.fn[j]&&a.isFunction(e)&&j.indexOf("_")!==0)a.fn[j]=function(){var r=arguments,m;this.each(function(){var l=
a(this).getJMEAPI();if(l)if(h[j]||l.isJMEReady()&&!l.totalerror&&(l.name!=="nativ"||a.support.mediaElements))m=l[j].apply(l,r);else{l.unAPIReady(j+"queue");l.jmeReady.call(l,function(){l[j].apply(l,r)},j+"queue")}});return m===undefined?this:m}})};var f=[];a.each(u.apis.video.nativ,function(b){f.push(b)});u.registerAPI(f);a.fn.onAPIReady=a.fn.jmeReady;a.fn.getMMAPI=a.fn.getJMEAPI;u.fn._extend=function(b){var e=[];a.each(b,function(j,r){u.fn[j]=r;e.push(j)});u.registerAPI(e)}})(jQuery);
(function(a){function s(f,b){f=a(f);var e={},j=f.attr("data-controls");e.mm=j?a("#"+j):a("video, audio",f).filter(":first");e.api=e.mm.getJMEAPI(true)||e.mm.jmeEmbed(b.embed).getJMEAPI(true);if(f.is(b.controlSel))e.controls=f;if(!e.controls||e.controls.hasClass(b.classPrefix+"media-controls")){e.controlsgroup=f;if(f[0]&&!e.api.controlWrapper&&a.contains(f[0],e.mm[0]))e.api.controlWrapper=f;e.controls=e.controls?a(b.controlSel,f).add(e.controls):a(b.controlSel,f);e.api.controlBar=e.controls.filter("."+
b.classPrefix+"media-controls")}return e}function u(f,b,e,j){var r=j.classPrefix+"playing "+j.classPrefix+"totalerror "+j.classPrefix+"waiting "+j.classPrefix+"idle",m=function(){f.removeClass(r)};b.isPlaying()||f.addClass(j.classPrefix+"idle");f.addClass(j.classPrefix+e.name);b.bind({apiActivated:function(l,q){f.addClass(j.classPrefix+q.api)},apiDeActivated:function(l,q){f.removeClass(j.classPrefix+q.api)}}).bind("playing totalerror waiting",function(l){m();f.addClass(j.classPrefix+l.type)}).bind("play",
function(){f.removeClass(j.classPrefix+"idle")}).bind("pause ended mediareset",function(){m();f.addClass(j.classPrefix+"idle")}).bind("canplay",function(){f.removeClass(j.classPrefix+"waiting")});a.ui&&a.ui.keyCode&&f.bind("keydown",function(l){if(!l.jmeHandledEvent){l.jmeHandledEvent=true;if(w[l.keyCode]){if(!a(l.target).is(".ui-slider-handle")){var q=5;switch(l.keyCode){case a.ui.keyCode.UP:if(l.ctrlKey)q+=5;b.volume(Math.min(100,b.volume()+q));break;case a.ui.keyCode.DOWN:if(l.ctrlKey)q+=5;b.volume(Math.max(0,
b.volume()-q));break;case a.ui.keyCode.LEFT:if(l.ctrlKey)q+=55;b.currentTime(Math.max(0,b.currentTime()-q));break;case a.ui.keyCode.RIGHT:if(l.ctrlKey)q+=55;b.currentTime(Math.min(b.getDuration(),b.currentTime()+q));break}l.preventDefault()}}else if(l.keyCode===a.ui.keyCode.SPACE&&(!a.nodeName(l.target,"button")&&a.attr(l.target,"role")!=="button"||f.hasClass("wraps-fullscreen"))){b.togglePlay();l.preventDefault()}}})}if(!a.event.special.ariaclick){var v=false;function y(f){if(!v&&(!f.keyCode||f.keyCode===
13||f.keyCode===32&&a.attr(f.target,"role")==="button")){v=true;setTimeout(function(){v=false},1);return a.event.special.ariaclick.handler.apply(this,arguments)}else if(v&&f.type=="click"){f.preventDefault();return false}}a.event.special.ariaclick={setup:function(){a(this).bind("click keydown",y);return true},teardown:function(){a(this).unbind("click keydown",y);return true},handler:function(f){f.type="ariaclick";return a.event.handle.apply(this,arguments)}}}var k=/\s*\/\s*|\s*\|\s*/,w={40:true,37:true,
39:true,38:true},d=a.fn.a11ySlider?"a11ySlider":"slider",h={"timeline-slider":function(f,b,e,j){function r(q,c){c.timeProgress!==undefined&&!l&&f[d]("value",c.timeProgress)}function m(){e.apis[e.name].loadedmeta&&e.apis[e.name].loadedmeta.duration?f[d]("option","disabled",false):f[d]("option","disabled",true)}var l=false;f[d](j.timeSlider)[d]("option","disabled",true);b.bind("loadedmeta",m).bind("timechange",r).bind("mediareset",function(){f[d]("value",0);m()}).bind("ended",function(){f[d]("value",
100)});f.bind("slidestart",function(q){if(q.originalEvent)l=true}).bind("slidestop",function(){l=false}).bind("slide",function(q,c){q.originalEvent&&e.apis[e.name].isAPIReady&&e.apis[e.name].relCurrentTime(c.value)})},"volume-slider":function(f,b,e,j){function r(l,q){m||f[d]("value",q.volumelevel)}var m=false;f[d](j.volumeSlider)[d]("option","disabled",true);f.bind("slidestart",function(l){if(l.originalEvent)m=true}).bind("slidestop",function(){m=false}).bind("slide",function(l,q){l.originalEvent&&
e.apis[e.name].isAPIReady&&e.apis[e.name].volume(q.value)});b.bind("volumelevelchange",r).jmeReady(function(){f[d]("option","disabled",false);f[d]("value",parseFloat(b.volume(),10)||100)})},progressbar:function(f,b,e,j){function r(l,q){"relLoaded"in q?f.progressbar("option","disabled",false).progressbar("value",q.relLoaded):f.progressbar("option","disabled",true)}function m(){f.progressbar("option","disabled",true).progressbar("value",0)}f.progressbar(j.progressbar).progressbar("option","disabled",
true);b.bind("progresschange",r).bind("mediareset",m)},duration:function(f,b,e,j){j.addThemeRoller&&f.addClass("ui-widget-content ui-corner-all");f.html("00:00");b.bind("loadedmeta",function(r,m){f.html(e.apis[e.name]._format(m.duration))}).bind("mediareset",function(){f.html("00:00")})},"media-controls":function(f,b,e,j){function r(){var q=f.innerWidth()+j.mediaControls.timeSliderAdjust,c=m.outerWidth(true)-m.innerWidth();a("> *",f).each(function(){if(m[0]!==this&&this.offsetWidth&&a.curCSS(this,
"position")!=="absolute"&&(!j.excludeSel||!a(this).is(j.excludeSel)))c+=a(this).outerWidth(true)});m.css("width",q-c)}j.addThemeRoller&&f.addClass("ui-widget ui-widget-header ui-corner-all");f.attr("role","toolbar");if(j.mediaControls.dynamicTimeslider){var m=a("."+j.classPrefix+"timeline-slider",f),l=setTimeout(r,0);b.jmeReady(function(){clearInterval(l);setTimeout(r,0)});a(window).bind("resize",r);b.bind("resize emchange",r)}}};a.each(["current-time","remaining-time"],function(f,b){h[b]=function(e,
j,r,m){var l=b=="remaining-time"?function(c,g){e.html(r.apis[r.name]._format(q-g.time))}:function(c,g){e.html(r.apis[r.name]._format(g.time))},q=Number.MIN_VALUE;m.addThemeRoller&&e.addClass("ui-widget-content ui-corner-all");e.html("00:00").attr("role","timer");b=="remaining-time"&&j.bind("loadedmeta",function(c,g){q=g.duration||Number.MIN_VALUE;l(false,{time:0})});j.bind("timechange",l).bind("mediareset",function(){e.html("00:00")})}});a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",
evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(f,b){h[f]=function(e,j,r,m){function l(){if(j[b.stateMethod]()){q.text.text(q.names[1]);q.title.attr("title",q.titleText[1]);q.icon.addClass(b.trueClass).removeClass(b.falseClass)}else{q.text.text(q.names[0]);q.title.attr("title",q.titleText[0]);q.icon.addClass(b.falseClass).removeClass(b.trueClass)}}
var q=a.fn.jmeControl.getBtn(e);m.addThemeRoller&&e.addClass("ui-state-default ui-corner-all");j.bind(b.evts,l).jmeReady(l);e.bind("ariaclick",function(c){j[b.actionMethod]();c.preventDefault()})}});a.fn.jmeControl=function(f){function b(){var e=s(this,f);e.api.controls=e.api.controls||[];if(e.api){e.controls.each(function(){var j=a(this);if(a.inArray(this,e.api.controls)===-1){e.api.controls.push(this);a.each(h,function(r,m){if(j.hasClass(f.classPrefix+r)){m(j,e.mm,e.api,f);return false}})}});e.api.controlWrapper&&
e.api.controlWrapper[0]&&u(e.api.controlWrapper,e.mm,e.api,f)}}f=a.extend(true,{},a.fn.jmeControl.defaults,f);f.controlSel=[];a.each(h,function(e){e!=="media-controls"&&f.controlSel.push("."+f.classPrefix+e)});f.controlSel.push("."+f.classPrefix+"media-controls");f.controlSel=f.controlSel.join(", ");return this.each(b)};a.fn.jmeControl.defaults={embed:a.fn.jmeEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},
volumeSlider:{},timeSlider:{},currentTime:{reverse:false}};a.support.waiaria=!a.browser.msie||a.browser.version>7;a.fn.jmeControl.getBtn=function(f){var b={icon:a(".ui-icon",f),text:a(".button-text",f),title:f};if(!f.is(":button")&&!f.attr("role")){a.support.waiaria&&f.removeAttr("href");f.attr({role:"button",tabindex:0})}if(!b.icon[0]&&!b.text[0]&&!a("*",f)[0]){b.icon=f;b.text=f}b.names=b.text.text().split(k);b.titleText=(f.attr("title")||"").split(k);if(b.names.length!==2)b.text=a([]);if(b.titleText.length!==
2)b.title=a([]);return b};a.fn.jmeControl.addControl=function(f,b){h[f]=b};a.fn.registerMMControl=a.fn.jmeControl;a(function(){d=a.fn.a11ySlider?"a11ySlider":"slider"})})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{jwPlayer:{path:"player.swf",hideIcons:"auto",isStream:false,vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var s={type:"application/x-shockwave-flash"},u={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},v=a.multimediaSupport;(function(){a.support.flash9=false;var k=v.getPluginVersion("Shockwave Flash"),w=function(h){a.support.flash9=false;try{h=v.getPluginVersion("",{description:h.GetVariable("$version")});a.support.flash9=
!!(h[0]>9||h[0]===9&&h[1]>=115)}catch(f){}};if(k[0]>9||k[0]===9&&k[1]>=115){a.support.flash9=true;a(function(){k=a("<object />",s).appendTo("body");w(k[0]);k.remove()})}else if(window.ActiveXObject)try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");w(k);k=null}catch(d){}})();var y={isTechAvailable:function(){return a.support.flash9},_embed:function(k,w,d,h){var f=this.embedOpts.jwPlayer;k=a.extend({},f.vars,{file:k,id:w});var b=a.extend({name:w,data:f.path},f.attrs,s),e=a.extend({movie:f.path},
f.params);if(d.poster)k.image=d.poster;k.autostart=""+d.autoplay;k.repeat=d.loop?"single":"false";k.controlbar=d.controls?"bottom":"none";if(!d.controls&&f.hideIcons&&e.wmode==="transparent"||f.hideIcons===true){k.icons="false";k.showicons="false"}e.flashvars=[];a.each(k,function(j,r){e.flashvars.push(j+"="+r)});e.flashvars=e.flashvars.join("&");h(v.embedObject(this.visualElem[0],w,b,e,u,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp",
"video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};v.add("jwPlayer","video",y);v.add("jwPlayer","audio",y)})(jQuery);
(function(a){function s(d){d=d.replace(y,"");return a.data(u.getElementById(d),"mediaElemSupport").apis.jwPlayer}var u=document,v=a.multimediaSupport,y=/^jwPlayer-/,k={View:{PLAY:function(d){if(d=d.state&&s(d.id)){d._trigger("play");d._isPlaystate=true}}},Model:{META:function(d){if(d.type==="metadata"){var h=s(d.id);h&&h._trigger({type:"loadedmeta",duration:d.duration})}},TIME:function(d){var h=s(d.id),f={type:"timechange",time:d.position};if(h){h.loadedmeta||h._trigger({type:"loadedmeta",duration:d.duration});
h.currentPos=d.position;if(d.duration){f.duration=d.duration;f.timeProgress=d.position/d.duration*100}h._trigger(f)}},STATE:function(d){if(d.newstate==="IDLE")return false;var h=s(d.id),f;if(!h)return false;switch(d.newstate){case "PLAYING":f="playing";break;case "PAUSED":h._isPlaystate=false;f="pause";break;case "COMPLETED":h._isPlaystate=false;f="ended";break;case "BUFFERING":f="waiting";break}f&&h._trigger(f);return f}},Controller:{VOLUME:function(d){var h=s(d.id);h&&h._trigger({type:"volumelevelchange",
volumelevel:d.percentage})},MUTE:function(d){var h=s(d.id);h&&h._trigger({type:"mute",isMuted:d.state})}}};window.jwEvents={four:a.extend(true,{},k,{Model:{LOADED:function(d){var h=s(d.id);if(h){var f={type:"progresschange",lengthComputable:!!d.total};if(d.total){a.extend(f,{relLoaded:d.total/d.loaded*100});h._buffered=f.relLoaded}h._trigger(f)}}}}),five:a.extend(true,{},k,{Model:{BUFFER:function(d){var h=s(d.id);if(h){var f={type:"progresschange",relLoaded:d.percentage,relStart:0};h._buffered=d.percentage;
h._trigger(f)}},STATE:function(d){if(k.Model.STATE(d)==="playing")if(d=s(d.id)){d._trigger("playing");d._isPlaystate=true}}}})};window.playerReady=function(d){var h=s(d.id);if(h){if(h.isAPIReady){if(h.apiElem.sendEvent)setTimeout(function(){h._lastLoad&&h._mmload(h._lastLoad.file,h._lastLoad.image);if(h._isPlaystate&&!(h.apiElem.getConfig()||{}).autostart)h.play()},20);else{h._reInit();return}setTimeout(function(){h._trigger("jmeflashRefresh")},20)}var f=parseInt(d.version,10)>4?"five":"four";a.each(jwEvents[f],
function(b,e){a.each(e,function(j){h.apiElem["add"+b+"Listener"](j,"jwEvents."+f+"."+b+"."+j)})});setTimeout(function(){var b=a.attr(h.element,"getConfig");if(!b.autoplay)if(h.nodeName==="audio"&&b.preload==="metadata"){h.apiElem.sendEvent("PLAY","true");h.apiElem.sendEvent("PLAY","false")}else h.nodeName==="video"&&b.preload!=="none"&&!b.poster&&!h.currentPos&&h.currentTime(0);h._trigger("mmAPIReady")},20)}};var w={_init:function(){this._buffered=this._buffered||0},_reInitCount:0,_reInitTimer:false,
_reInit:function(){var d=this;if(this._reInitCount<5){this.visualElem[0].style.overflow="visible";setTimeout(function(){d.visualElem[0].style.overflow="hidden"},0)}this._reInitCount++;if(!this._reInitTimer){this._reInitTimer=true;setTimeout(function(){d._reInitCount=0;d._reInitTimer=false},2E4)}},canPlaySrc:function(d){var h="",f=-1;f=d.src||d;if(typeof f==="string"){f=f.indexOf("youtube.com/");if(f<15&&f>6)h="maybe"}h||(h=v.fn.canPlaySrc.apply(this,arguments));return h},play:function(){this.apiElem.sendEvent("PLAY",
"true");this._isPlaystate=true;this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var d=this.apiElem.getConfig();return d?d.state==="PLAYING":undefined},_mmload:function(d,h){this._lastLoad={file:d,image:h||false};this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(d){if(typeof d!=="boolean")return(this.apiElem.getConfig()||
{}).mute;this.apiElem.sendEvent("mute",d?"true":false)},_isSeekable:function(d){var h=this.getCurrentSrc();if(this._buffered===100||this.embedOpts.jwPlayer.isStream||h.indexOf("http")!==0&&h.indexOf("file")!==0)return true;h=this.getDuration();if(!h)return false;return d/h*100<this._buffered},currentTime:function(d){if(!isFinite(d))return this.currentPos||0;var h=this,f=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),b=function(){h.apiElem.sendEvent("SEEK",d);e();f||h.apiElem.sendEvent("PLAY",
"false");h.currentPos=d;h._trigger({type:"timechange",time:d})},e=function(){a(h.element).unbind(".jwseekrequest")};if(!f){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY","false")}clearTimeout(this._seekrequestTimer);e();if(this._isSeekable(d))b();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(h._isSeekable(d)){var j=h.muted();e();clearTimeout(h._seekrequestTimer);j||h.muted(true);h.apiElem.sendEvent("PLAY",
"true");h._seekrequestTimer=setTimeout(function(){j||h.muted(j);b()},120)}}).bind("mediareset.jwseekrequest",e).bind("play.jwseekrequest",function(){h.apiElem.sendEvent("PLAY","false");h._trigger("waiting");f=true}).bind("pause.jwseekrequest",function(){f=false});this._seekrequestTimer=setTimeout(function(){a(h.element).unbind("play.jwseekrequest").unbind("pause.jwseekrequest").bind("play.jwseekrequest",e).bind("pause.jwseekrequest",e)},999)}},getDuration:function(){var d=this.apiElem.getPlaylist()[0].duration||
0;return d<0?0:d},volume:function(d){if(!isFinite(d))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+d)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.browser.mozilla&&a.extend(w,{isJMEReady:function(){var d=false;if(this.isAPIReady&&this.apiElem.sendEvent&&this.apiElem.getConfig){this.apiElem.getConfig();d=true}return d}});v.add("jwPlayer","video",w);v.add("jwPlayer","audio",w)})(jQuery);
(function(a){a.extend(a.fn.jmeEmbed.defaults,{vlc:{params:{},attrs:{}}});var s=a.multimediaSupport,u={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},v={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},y={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(s.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(k){}return a.support.vlc},_embed:function(k,w,d,h){var f=this.embedOpts.vlc,b=a.extend({},f.attrs,{data:k},u);d=a.extend({},f.params,{Src:k,ShowDisplay:"True",autoplay:""+d.autoplay,autoloop:""+d.loop});w=s.embedObject(this.visualElem[0],w,b,d,v,"VLC Multimedia Plug-in");this._currentSrc=k;h(w)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};s.add("vlc","video",y);s.add("vlc","audio",y)})(jQuery);
(function(a){function s(d){function h(){try{if(d.apiElem.input&&d.apiElem.input.state!==undefined){u("mmAPIReady",d);clearInterval(f);if(a.attr(d.element,"autoplay"))y.start(d);else{d.apiElem.playlist.stop();setTimeout(function(){d.apiElem.playlist.stop()},0)}}}catch(b){}}var f;clearInterval(f);f=setInterval(h,333)}function u(d,h){setTimeout(function(){h._trigger(d)},0)}function v(d){setTimeout(function(){d._intervalCheck()},9)}var y={start:function(d){y.end(d);d._intervalCheckTimer=setInterval(function(){d._intervalCheck.call(d)},
1E3)},end:function(d){d._intervalCheckTimer&&clearInterval(d._intervalCheckTimer)}},k={2:"waiting",3:"playing",4:"pause",6:"ended"},w={_init:function(){s(this);this._setPoster(a.attr(this.element,"poster"))},_intervalCheck:function(){var d=this.apiElem,h=d.input.state,f=this,b={type:"loadedmeta",duration:d.input.length/1E3},e;if(h&&h>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==b.duration){u(b,f);this.data.metaLoaded=b}e={type:"timechange",time:d.input.time/1E3};
if(h&&h>1&&this.data.time!==e.time){if(b.duration){e.duration=b.duration;e.timeProgress=d.input.position*100}this.data.time=e.time;u(e,f)}e={type:"mute",isMuted:d.audio.mute};if(e.isMuted!==this.data.isMuted){this.data.isMuted=e.isMuted;u(e,f)}e={type:"volumelevelchange",volumelevel:d.audio.volume/2};if(e.volumelevel!==this.data.volumelevel){this.data.volumelevel=e.volumelevel;u(e,f)}if(h!==this.data.state){this.data.state=h;k[h]&&u(k[h],f);k[h]==="ended"&&d.playlist.stop();if(h===3)y.start(f);else if(h===
4||h===5||h===6||h===7)y.end(f)}},play:function(){this.apiElem.playlist.play();this._trigger("play");y.start(this);v(this);if(this._currentTimeAdjust!==false){try{this.apiElem.input.time=this._currentTimeAdjust}catch(d){}this._resetCurrentTime()}},pause:function(){if(k[this.apiElem.input.state]==="playing"){y.end(this);this.apiElem.playlist.togglePause();v(this)}},_isPlaying:function(){var d=false;try{d=k[this.apiElem.input.state]==="playing"}catch(h){}return d},_mmload:function(d,h){a(this.element).unbind("playing.enterFullscreen");
this.apiElem.playlist.stop();this.data={};var f=this.apiElem.playlist.add(d," ",":no-video-title-show");this._currentSrc=d;this.apiElem.playlist.playItem(f);this.apiElem.playlist.items.clear();this._setPoster(h);this._showPoster(false,{time:0});if(!a.attr(this.element,"autoplay")){y.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},_currentTimeAdjust:false,_currentTimeTimer:false,_resetCurrentTime:function(){clearTimeout(this._currentTimeTimer);this._currentTimeAdjust=
false},currentTime:function(d){try{if(!isFinite(d))return this.apiElem.input?this.apiElem.input.time/1E3:0;var h;if(!this.loadedmeta){h=k[this.apiElem.input.state];this.play()}this._currentTimeAdjust=d*1E3;clearTimeout(this._currentTimeTimer);this._currentTimeTimer=setTimeout(a.proxy(this,"_resetCurrentTime"));this.apiElem.input.time=this._currentTimeAdjust;v(this);h&&h!=="playing"&&h!=="waiting"&&this.pause()}catch(f){if(!isFinite(d))return 0}},getDuration:function(){var d;try{d=this.apiElem.input.length/
1E3||0}catch(h){d=0}return d},volume:function(d){if(!isFinite(d))return this.apiElem.audio?parseInt(this.apiElem.audio.volume/2,10):100;if(this.apiElem.audio){this.apiElem.audio.volume=d*2;v(this)}},muted:function(d){if(typeof d!=="boolean")try{return this.apiElem.audio?this.apiElem.audio.mute:true}catch(h){return false}if(this.apiElem.audio){this.apiElem.audio.mute=d;v(this)}}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=
true;else{var d=this;a(d.element).one("playing.enterFullscreen",function(){d.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},w));a.multimediaSupport.add("vlc","audio",w)})(jQuery);
