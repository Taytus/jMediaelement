/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function s(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function u(b){if(a.support.mediaElements){var f=a.data(this,"mediaElemSupport");if(f&&f.apis){b&&b.type&&a.data(this,"calledMediaError",false);f=f.apis;b=this;var i=a.attr(this,"srces");if(b.error||i.length&&!f.nativ.canPlaySrces(i)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{b.pause()}catch(o){}}a("source",this).unbind("error",s).filter(":last").bind("error",
s)}}}function v(b){var f=b.indexOf("?"),i="";b=f>0?b.substring(0,f):b;f=b.lastIndexOf(".")+1;return i=b.substr(f)}function w(b,f){var i=b.nodeName.toLowerCase();f=l.getSuitedPlayers(b,f.apiOrder);var o=a.data(b,"mediaElemSupport");if(f){if(f!=="noSource")if(l._setAPIActive(b,f.name))o.apis[f.name]._mmload&&o.apis[f.name]._mmload(f.src,a.attr(b,"poster"));else l._embedApi(b,f,o,i)}else{o.apis.nativ._trigger({type:"totalerror"});try{b.pause()}catch(p){}}}a.multimediaSupport={};var l=a.multimediaSupport,
h=(new Date).getTime(),e=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var k=a.attr,g=/video|audio|source/i,c={src:1,poster:1},d={loop:1,autoplay:1,controls:1},j={srces:1,getConfig:1,preload:1},r={auto:1,metadata:1,none:1};a.attr=function(b,f,i,o){if(!(b.nodeName&&g.test(b.nodeName)&&(j[f]||d[f]||c[f])))return k(b,f,i,o);var p;if(i===undefined){if(d[f])return typeof b[f]==="boolean"?
b[f]:!!(b.attributes[f]||{}).specified;if(c[f])return a.support.video&&b[f]||l.makeAbsURI(b.getAttribute(f));switch(f){case "srces":if(p=a.attr(b,"src"))p=[{src:p,type:b.getAttribute("type"),media:b.getAttribute("media")}];else{p=[];a("source",b).each(function(){p.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});p.length||a("a.source",b).each(function(){p.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;
case "getConfig":p={};a.each(["autoplay","loop","controls","poster","preload"],function(q,t){p[t]=a.attr(b,t)});break;case "preload":p=b.getAttribute("preload");r[p]||(p="auto");break}return p}else if(d[f]){i=!!i;if(b[f]=i){b[f]=i;b.setAttribute(f,f)}else{b[f]=i;b.removeAttribute(f)}}else if(c[f])b.setAttribute(f,i);else if(f==="srces"){a("source, a.source",b).remove();b.removeAttribute("src");i=a.isArray(i)?i:[i];a.each(i,function(q,t){p=e.createElement("source");if(typeof t==="string")t={src:t};
p.setAttribute("src",t.src);t.type&&p.setAttribute("type",t.type);t.media&&p.setAttribute("media",t.media);b.appendChild(p)})}else if(f==="getConfig")a.each(i,function(q,t){a.attr(b,q,t)});else f==="preload"&&r[i]&&b.setAttribute(f,i)};a.event.special.mediaerror={setup:function(){var b=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",u);setTimeout(function(){b.each(u)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",
s)},handler:function(b){if(!a.data(this,"calledMediaError")){b=a.extend({},b||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};var m={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov",
"qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"]}};a.extend(l,{registerMimetype:function(b,f){arguments.length===1?a.each(m,function(i){l.registerMimetype(i,b)}):a.each(f,function(i,o){if(m[b][i])m[b][i]=[];m[b][i]=m[b][i].concat(o)})},_showMimeTypes:function(){window.console&&console.log(m)},add:function(b,f,i){if(!this.apis[f][b]){this.apis[f][b]=l.beget(this.fn);b!=="nativ"&&a.inArray(b,a.fn.mediaElementEmbed.defaults.apiOrder)===
-1&&a.fn.mediaElementEmbed.defaults.apiOrder.push(b)}a.extend(true,this.apis[f][b],i)},fn:{_init:a.noop,canPlayType:function(b){var f=this.apiElem,i;if(f&&f.canPlayType){i=f.canPlayType(b);return i==="no"?"":i}b=l.extractContainerCodecsFormType(b);var o=this;i="probably";if(!b[1])return this.canPlayContainer&&a.inArray(b[0],this.canPlayContainer)!==-1?"maybe":"";a.each(b[1],function(p,q){if(!o.canPlayCodecs||a.inArray(q,o.canPlayCodecs)===-1){i="";return false}});return i},canPlaySrc:function(b){var f=
this;if(typeof b!=="string"){if(b.type)return this.canPlayType(b.type);b=b.src}var i=v(b),o="";a.each(m[this.nodeName],function(p,q){if(a.inArray(i,q)!==-1){o=f.canPlayType(p);return false}});return o},canPlaySrces:function(b){b=b||a.attr(this.element,"srces");a.isArray(b)||(b=[b]);var f=this,i=false,o="";a.each(b,function(p,q){if(i=f.canPlaySrc(q)){o=q;return false}});return o},_setActive:a.noop,_setInactive:a.noop,_trigger:function(b){a(this.element).triggerHandler(b,b)}},apis:{audio:{},video:{}},
extractContainerCodecsFormType:function(b){b=b.split(/\s*;\s*/g);if(b[1]&&b[1].indexOf("codecs")!==-1)b[1]=b[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return b},makeAbsURI:function(){return function(b){if(b&&typeof b==="string")b=a('<a href="'+b+'"></a>')[0].href;return b}}(),beget:function(b){var f=function(){};f.prototype=b;return new f},_create:function(b,f,i,o){var p=a.data(i,"mediaElemSupport")||a.data(i,"mediaElemSupport",{apis:{},nodeName:b});if(!p.apis[f]){p.apis[f]=
l.beget(l.apis[b][f]);p.apis[f].element=i;p.apis[f].nodeName=b;p.apis[f].name=f;p.apis[f].data={};p.apis[f].embedOpts=o}return p},_setAPIActive:function(b,f){var i=a.data(b,"mediaElemSupport"),o=i.name;if(o===f)return true;var p=i.apis[o].apiElem,q=i.apis[f]&&i.apis[f].apiElem,t=false;if(q&&q.nodeName){if(i.nodeName!=="audio"||a.attr(b,"controls"))f==="nativ"?i.apis[f].visualElem.css({display:""}):i.apis[f].visualElem.css({width:i.apis[o].visualElem.width(),height:i.apis[o].visualElem.height(),visibility:""});
i.apis[f]._setActive(o);t=true;i.apis[f]._trigger({type:"apiActivated",api:f})}i.apis[f].isAPIActive=true;if(p&&p.nodeName){if(o==="nativ")p.style.display="none";else i.apis[o].visualElem.css({height:0,width:0,visibility:"hidden"});i.apis[o]._setInactive(f);i.apis[o].isAPIActive=false;i.apis[f]._trigger({type:"apiDeActivated",api:o})}i.name=f;return t},getSuitedPlayers:function(b,f){var i=a.data(b,"mediaElemSupport");if(i&&i.apis){i=i.apis;var o=a.attr(b,"srces"),p=false,q=function(t,x){if(!(typeof x.isTechAvailable===
"boolean"&&!x.isTechAvailable||a.isFunction(x.isTechAvailable)&&!x.isTechAvailable())){if(x=x.canPlaySrces(o))p={src:x.src||x,name:t};return p}};if(!o.length)return"noSource";f?a.each(f,function(t,x){return!q(x,i[x])}):a.each(i,function(t,x){return!q(t,x)});return p}},_embedApi:function(b,f,i){var o=a.attr(b,"getConfig"),p=a(b),q=b.id,t=p.attr("aria-labelledby");if(!q){h++;q=i.nodeName+"-"+h;b.id=q}i.apis[f.name].visualElem=a('<div class="media-element-box mm-'+i.nodeName+'-box" style="position: relative; overflow: hidden;" />').insertBefore(b);
t&&i.apis[f.name].visualElem.attr({role:"group","aria-labelledby":t});i.nodeName==="audio"&&!o.controls?i.apis[f.name].visualElem.css({height:0,width:0,overflow:"hidden"}):i.apis[f.name].visualElem.css({width:p.width(),height:p.height()});i.apis[f.name]._embed(f.src,i.name+"-"+q,o,function(x){i.apis[f.name].apiElem=x;a(x).addClass(i.nodeName).attr("tabindex",!o.controls?"-1":"0");i.apis[f.name]._init();i.apis[f.name]._trigger({type:"apiActivated",api:f.name})})},getPluginVersion:function(b,f){f=f||
navigator.plugins&&navigator.plugins[b];b=[-1,0];if(f)if((f=(f.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&f[0]){b[0]=f[0];if(f[1])b[0]+="."+f[1];b[0]=parseFloat(b[0],10);if(f[2])b[1]=parseInt(f[2],10)}return b},embedObject:function(b,f,i,o,p){b=a("<div />").appendTo(b)[0];var q;if(navigator.plugins&&navigator.plugins.length){q=e.createElement("object");a.each(i,function(t,x){q.setAttribute(t,x)});a.each(o,function(t,x){var y=e.createElement("param");y.setAttribute("name",t);y.setAttribute("value",
x);q.appendChild(y)});q.setAttribute("id",f);q.setAttribute("name",f);b.parentNode.replaceChild(q,b)}else if(window.ActiveXObject){q="<object";a.each(a.extend({},i,p),function(t,x){q+=" "+t+'="'+x+'"'});q+=' name="'+f+'"';q+=' id="'+f+'"';q+=">";a.each(o,function(t,x){q+=' <param name="'+t+'" value="'+x+'" />'});q+="</object>";b.outerHTML=q;q=e.getElementById(f)}if(q){q.setAttribute("width","100%");q.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([q]);q=null});setTimeout(function(){if(q&&
q.setAttribute){q.setAttribute("width","100%");q.setAttribute("height","100%")}},0);q.tabIndex=-1;return q}});l.add("nativ","video",{});l.add("nativ","audio",{});a.fn.mediaElementEmbed=function(b){b=a.extend(true,{},a.fn.mediaElementEmbed.defaults,b);return this.each(function(){var f=this.nodeName.toLowerCase();if(!(f!=="video"&&f!=="audio")){var i=this;b.removeControls&&a.attr(this,"controls",false);var o=l._create(f,"nativ",this,b);o.name="nativ";o.apis.nativ.apiElem=this;o.apis.nativ.visualElem=
a(this);o.apis.nativ.isAPIActive=true;a.each(l.apis[f],function(p){p!=="nativ"&&l._create(f,p,i,b)});b.showFallback&&a.support.mediaElements&&a(this).bind("totalerror",function(){a(this).hide().children(":not(source, itext)").insertAfter(this)});if(b.debug||!a.support.mediaElements){w(this,b);o.apis.nativ.isAPIReady=true}else o.apis.nativ._init();a(this).bind("mediaerror",function(){o.name==="nativ"&&w(this,b)})}})};a.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,showFallback:false,
apiOrder:[]};if(a.cleanData&&window.ActiveXObject){var n=a.cleanData;a.cleanData=function(b){n(b);for(var f=0,i=b.length;f<i;f++)if(b[f].nodeName==="OBJECT")try{for(var o in b[f])if(typeof b[f][o]==="function")b[f][o]=null}catch(p){}}}})(jQuery);
(function(a){var s=document.createElement("video"),u=a.multimediaSupport,v={apiActivated:1,apiDeActivated:1,mediareset:1,native_mediareset:1,totalerror:1,progresschange:1,jmeflashRefresh:1},w={native_mediareset:1,apiDeActivated:1,native_mediareset:1,apiActivated:1,timechange:1,progresschange:1,mmAPIReady:1,jmeflashRefresh:1},l={};if("enterFullScreen"in s&&s.supportsFullscreen){a.support.videoFullscreen=true;l.enter="enterFullScreen";l.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(c,
d){if(d+"EnterFullScreen"in s&&s[d+"SupportsFullscreen"]){a.support.videoFullscreen=true;l.enter=d+"EnterFullScreen";l.exit=d+"ExitFullScreen";return false}});s=null;a.extend(u,{formatTime:function(c){return a.map([parseInt(c/60,10),parseInt(c%60,10)],function(d){return isNaN(d)?"--":d<10?"0"+d:d}).join(":")}});a.event.special.loadedmeta={add:function(c){var d=a(this).getMMAPI();if(d&&d.loadedmeta){d=a.extend({},d.loadedmeta);c.handler.call(this,d,d)}}};a.extend(u.fn,{_trigger:function(c){var d=c.type?
c:{type:c},j=d.type;switch(j){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=d;break;case "totalerror":this.totalerror=true;break;case "mediareset":this._bufferLoaded=this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!v[j])){!this.isAPIReady&&!v[j]&&this._trigger("mmAPIReady");if(c.type==="progresschange"){if(isFinite(this._bufferLoaded)&&isFinite(c.relLoaded)&&this._bufferLoaded>=c.relLoaded)return;this._bufferLoaded=
c.relLoaded;c.relStart=c.relStart||0;if(this._concerningBufferStart!==c.relStart){this._concerningBufferStart=c.relStart;this._trigger({type:"bufferrange",relStart:c.relStart,relLoaded:c.relLoaded})}}c.target=this.element;c=a.Event(c);c.preventDefault();d.mediaAPI=this.name;w[j]&&c.stopPropagation();a.event.trigger(c,d,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,isJMEReady:function(){return this.isAPIReady},
relCurrentTime:function(c){var d=this.getDuration()||Number.MIN_VALUE;c&&isFinite(c)&&this.currentTime(d*c/100);return this.currentTime()/d*100},getMediaAPI:function(){return this.mediaAPI},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getMMVisual:function(){return this.visualElem},onAPIReady:function(c,d){var j={type:"mmAPIReady"};if(this.isJMEReady())c.call(this.element,j,j);else{d=d||"jmediaelement";var r=this,m=function(){a(r.element).unbind("mmAPIReady."+
d,m).unbind("jmeflashRefresh."+d,m);c.call(r.element,j,j)};a(this.element).bind("mmAPIReady."+d,m).bind("jmeflashRefresh."+d,m)}},unAPIReady:function(c){a(this.element).unbind("mmAPIReady."+c)},_format:u.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(c,d){if(c){a.attr(this.element,"srces",c);c=a.isArray(c)?c:[c]}else c=a.attr(this.element,"srces");if(d!==undefined)d?a.attr(this.element,
"poster",d):a(this.element).removeAttr("poster");else d=a.attr(this.element,"poster");this._isResetting=true;c=this.canPlaySrces(c);this._trigger("mediareset");if(c){c=c.src||c;this._mmload(c,d)}else{u._setAPIActive(this.element,"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()},_makenum:function(c){var d=false;if(c==c*1)d=parseFloat(c,10);return d},
_hidePoster:function(){if(!this._isHiddenPoster){a("img.poster-image",this.visualElem).css("visibility","hidden");a(this.apiElem).css("visibility","");this._isHiddenPoster=true}},_showPoster:function(c,d){if(d.time)this._isHiddenPoster||this._hidePoster();else{a("img.poster-image",this.visualElem).css("visibility","");a(this.apiElem).css("visibility","hidden");this._isHiddenPoster=false}},_setPoster:function(c){a("img.poster-image",this.visualElem).remove();a(this.element).unbind(".jme_poster");if(c){var d=
this.currentTime();a("<img />",{"class":"poster-image",css:{position:"absolute",top:0,left:0,margin:0,"float":"none",maxHeight:"100%",maxWidth:"100%",width:"100%",height:"auto",visibility:"hidden"},src:c}).appendTo(this.visualElem);this._isHiddenPoster=true;a(this.element).bind("play.jme_poster",a.proxy(this,"_hidePoster")).bind("timechange.jme_poster",a.proxy(this,"_showPoster"));!isFinite(d)||!d?this._showPoster(false,{time:0}):this._hidePoster()}}});var h=function(c){var d,j=function(){for(var m=
c.element.currentTime,n=c.element.buffered,b=n.length,f={},i=0;i<b;i++){f.start=n.start(i);f.end=n.end(i);if(f.start<=m&&f.end>=m)break}return f},r=function(m){var n={type:"progresschange"},b;if(this.buffered&&this.buffered.length){if(m=this.duration){b=j();n.relStart=b.start/m*100;n.relLoaded=b.end/m*100}c._trigger(n)}else if(m.originalEvent&&"lengthComputable"in m.originalEvent&&m.originalEvent.loaded){if(m.originalEvent.lengthComputable&&m.originalEvent.total){n.relStart=0;n.relLoaded=m.originalEvent.loaded/
m.originalEvent.total*100}if(!d){a(this).unbind(m.type==="load"?"progress":"load",r);d=true}c._trigger(n)}};a(c.element).bind("progress load",r)},e={isTechAvailable:a.support.mediaElements,_init:function(){var c=this,d=this.apiElem.muted;h(this);a(this.element).bind({volumechange:function(){if(d!==c.apiElem.muted){d=c.apiElem.muted;c._trigger.call(c,{type:"mute",isMuted:d})}else c._trigger.call(c,{type:"volumelevelchange",volumelevel:c.apiElem.volume*100})},timeupdate:function(){var j={type:"timechange",
time:this.currentTime};if(this.duration){j.duration=this.duration;j.timeProgress=j.time/j.duration*100}c._trigger(j)},loadedmetadata:function(){c._trigger({type:"loadedmeta",duration:this.duration})}}).bind("play pause playing ended waiting",function(j,r){if(!(!c.isAPIActive||c.totalerror||j.bubbles)){var m=this.parentNode||this.ownerDocument;if(!j.isPropagationStopped()&&m){j.bubbles=true;r=jQuery.makeArray(r);r.unshift(j);a.event.trigger(j,r,m,true)}}});if(this.element.readyState>0&&!this.element.error)this._trigger({type:"loadedmeta",
duration:this.element.duration});else if(a.attr(this.element,"preload")==="none"&&!a.attr(this.element,"autoplay")||!a.attr(this.element,"srces").length)this._trigger("mmAPIReady")},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(c){if(typeof c!=="boolean")return this.element.muted;this.element.muted=c},volume:function(c){if(!isFinite(c))return this.element.volume*100;this.element.volume=c/100},currentTime:function(c){if(!isFinite(c))return this.element.currentTime;
try{this.element.currentTime=c}catch(d){}},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};u.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[l.enter]()}catch(c){}},
exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[l.exit]()}catch(c){}}},e));u.add("nativ","audio",e);a.fn.getMMAPI=function(c){if(this[0]){var d=a.data(this[0],"mediaElemSupport");return c||!d||!d.name||!d.apis?d:d.apis[d.name]}};var k={onAPIReady:1,loadSrc:1};u.registerAPI=function(c){if(typeof c==="string")c=[c];a.each(c,function(d,j){if((d=u.apis.video.nativ[j])&&!a.fn[j]&&a.isFunction(d)&&j.indexOf("_")!==0)a.fn[j]=function(){var r=arguments,m;this.each(function(){var n=
a(this).getMMAPI();if(n)if(k[j]||n.isJMEReady()&&!n.totalerror&&(n.name!=="nativ"||a.support.mediaElements))m=n[j].apply(n,r);else{n.unAPIReady(j+"queue");n.onAPIReady.call(n,function(){n[j].apply(n,r)},j+"queue")}});return m===undefined?this:m}})};var g=[];a.each(u.apis.video.nativ,function(c){g.push(c)});u.registerAPI(g);u.fn._extend=function(c){var d=[];a.each(c,function(j,r){u.fn[j]=r;d.push(j)});u.registerAPI(d)}})(jQuery);
(function(a){function s(g,c){g=a(g);var d={},j=g.attr("data-controls");d.mm=j?a("#"+j):a("video, audio",g).filter(":first");d.api=d.mm.getMMAPI(true)||d.mm.mediaElementEmbed(c.embed).getMMAPI(true);if(g.is(c.controlSel))d.controls=g;if(!d.controls||d.controls.hasClass(c.classPrefix+"media-controls")){d.controlsgroup=g;if(g[0]&&!d.api.controlWrapper&&a.contains(g[0],d.mm[0]))d.api.controlWrapper=g;d.controls=d.controls?a(c.controlSel,g).add(d.controls):a(c.controlSel,g);d.api.controlBar=d.controls.filter("."+
c.classPrefix+"media-controls")}return d}function u(g,c,d,j){var r=j.classPrefix+"playing "+j.classPrefix+"totalerror "+j.classPrefix+"waiting",m=function(){g.removeClass(r)};g.addClass(j.classPrefix+d.name);c.bind({apiActivated:function(n,b){g.addClass(j.classPrefix+b.api)},apiDeActivated:function(n,b){g.removeClass(j.classPrefix+b.api)}}).bind("playing totalerror waiting",function(n){m();g.addClass(j.classPrefix+n.type)}).bind("pause ended mediareset",function(){m()}).bind("canplay",function(){g.removeClass(j.classPrefix+
"waiting")});a.ui&&a.ui.keyCode&&g.bind("keydown",function(n){if(!n.jmeHandledEvent){n.jmeHandledEvent=true;if(h[n.keyCode]){if(!a(n.target).is(".ui-slider-handle")){var b=5;switch(n.keyCode){case a.ui.keyCode.UP:if(n.ctrlKey)b+=5;c.volume(Math.min(100,c.volume()+b));break;case a.ui.keyCode.DOWN:if(n.ctrlKey)b+=5;c.volume(Math.max(0,c.volume()-b));break;case a.ui.keyCode.LEFT:if(n.ctrlKey)b+=55;c.currentTime(Math.max(0,c.currentTime()-b));break;case a.ui.keyCode.RIGHT:if(n.ctrlKey)b+=55;c.currentTime(Math.min(c.getDuration(),
c.currentTime()+b));break}n.preventDefault()}}else if(n.keyCode===a.ui.keyCode.SPACE&&!a.nodeName(n.target,"button")&&a.attr(n.target,"role")!=="button"){c.togglePlay();n.preventDefault()}}})}if(!a.event.special.ariaclick){var v=false;function w(g){if(!v&&(!g.keyCode||g.keyCode===13||g.keyCode===32&&a.attr(g.target,"role")==="button")){v=true;setTimeout(function(){v=false},1);return a.event.special.ariaclick.handler.apply(this,arguments)}else if(v&&g.type=="click"){g.preventDefault();return false}}
a.event.special.ariaclick={setup:function(){a(this).bind("click keydown",w);return true},teardown:function(){a(this).unbind("click keydown",w);return true},handler:function(g){g.type="ariaclick";return a.event.handle.apply(this,arguments)}}}var l=/\s*\/\s*|\s*\|\s*/,h={40:true,37:true,39:true,38:true},e=a.fn.a11ySlider?"a11ySlider":"slider",k={"timeline-slider":function(g,c,d,j){function r(b,f){f.timeProgress!==undefined&&!n&&g[e]("value",f.timeProgress)}function m(){d.apis[d.name].loadedmeta&&d.apis[d.name].loadedmeta.duration?
g[e]("option","disabled",false):g[e]("option","disabled",true)}var n=false;g[e](j.timeSlider)[e]("option","disabled",true);c.bind("loadedmeta",m).bind("timechange",r).bind("mediareset",function(){g[e]("value",0);m()}).bind("ended",function(){g[e]("value",100)});g.bind("slidestart",function(b){if(b.originalEvent)n=true}).bind("slidestop",function(){n=false}).bind("slide",function(b,f){b.originalEvent&&d.apis[d.name].isAPIReady&&d.apis[d.name].relCurrentTime(f.value)})},"volume-slider":function(g,c,
d,j){function r(n,b){m||g[e]("value",b.volumelevel)}var m=false;g[e](j.volumeSlider)[e]("option","disabled",true);g.bind("slidestart",function(n){if(n.originalEvent)m=true}).bind("slidestop",function(){m=false}).bind("slide",function(n,b){n.originalEvent&&d.apis[d.name].isAPIReady&&d.apis[d.name].volume(b.value)});c.bind("volumelevelchange",r).onAPIReady(function(){g[e]("option","disabled",false);g[e]("value",parseFloat(c.volume(),10)||100)})},progressbar:function(g,c,d,j){function r(n,b){"relLoaded"in
b?g.progressbar("option","disabled",false).progressbar("value",b.relLoaded):g.progressbar("option","disabled",true)}function m(){g.progressbar("option","disabled",true).progressbar("value",0)}g.progressbar(j.progressbar).progressbar("option","disabled",true);c.bind("progresschange",r).bind("mediareset",m)},duration:function(g,c,d,j){j.addThemeRoller&&g.addClass("ui-widget-content ui-corner-all");g.html("00:00");c.bind("loadedmeta",function(r,m){g.html(d.apis[d.name]._format(m.duration))}).bind("mediareset",
function(){g.html("00:00")})},"current-time":function(g,c,d,j){j.addThemeRoller&&g.addClass("ui-widget-content ui-corner-all");g.html("00:00").attr("role","timer");c.bind("timechange",function(r,m){g.html(d.apis[d.name]._format(m.time))}).bind("mediareset",function(){g.html("00:00")})},"media-controls":function(g,c,d,j){function r(){var b=g.innerWidth()+j.mediaControls.timeSliderAdjust,f=m.outerWidth(true)-m.innerWidth();a("> *",g).each(function(){if(m[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!==
"absolute"&&(!j.excludeSel||!a(this).is(j.excludeSel)))f+=a(this).outerWidth(true)});m.css("width",b-f)}j.addThemeRoller&&g.addClass("ui-widget ui-widget-header ui-corner-all");g.attr("role","toolbar");if(j.mediaControls.dynamicTimeslider){var m=a("."+j.classPrefix+"timeline-slider",g),n=setTimeout(r,0);c.onAPIReady(function(){clearInterval(n);setTimeout(r,0)});a(window).bind("resize",r);c.bind("resize emchange",r)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",
trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(g,c){k[g]=function(d,j,r,m){function n(){if(j[c.stateMethod]()){b.text.text(b.names[1]);b.title.attr("title",b.titleText[1]);b.icon.addClass(c.trueClass).removeClass(c.falseClass)}else{b.text.text(b.names[0]);b.title.attr("title",b.titleText[0]);b.icon.addClass(c.falseClass).removeClass(c.trueClass)}}
var b=a.fn.registerMMControl.getBtn(d);m.addThemeRoller&&d.addClass("ui-state-default ui-corner-all");j.bind(c.evts,n).onAPIReady(n);d.bind("ariaclick",function(f){j[c.actionMethod]();f.preventDefault()})}});a.fn.registerMMControl=function(g){function c(){var d=s(this,g);d.api.controls=d.api.controls||[];if(d.api){d.controls.each(function(){var j=a(this);if(a.inArray(this,d.api.controls)===-1){d.api.controls.push(this);a.each(k,function(r,m){if(j.hasClass(g.classPrefix+r)){m(j,d.mm,d.api,g);return false}})}});
d.api.controlWrapper&&d.api.controlWrapper[0]&&u(d.api.controlWrapper,d.mm,d.api,g)}}g=a.extend(true,{},a.fn.registerMMControl.defaults,g);g.controlSel=[];a.each(k,function(d){d!=="media-controls"&&g.controlSel.push("."+g.classPrefix+d)});g.controlSel.push("."+g.classPrefix+"media-controls");g.controlSel=g.controlSel.join(", ");return this.each(c)};a.fn.registerMMControl.defaults={embed:a.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,
excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{}};a.support.waiaria=!a.browser.msie||a.browser.version>7;a.fn.registerMMControl.getBtn=function(g){var c={icon:a(".ui-icon",g),text:a(".button-text",g),title:g};if(!g.is(":button")&&!g.attr("role")){a.support.waiaria&&g.removeAttr("href");g.attr({role:"button",tabindex:0})}if(!c.icon[0]&&!c.text[0]&&!a("*",g)[0]){c.icon=g;c.text=g}c.names=c.text.text().split(l);c.titleText=(g.attr("title")||"").split(l);if(c.names.length!==2)c.text=a([]);
if(c.titleText.length!==2)c.title=a([]);return c};a.fn.registerMMControl.addControl=function(g,c){k[g]=c};a(function(){e=a.fn.a11ySlider?"a11ySlider":"slider"})})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",hideIcons:"auto",isStream:false,vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var s={type:"application/x-shockwave-flash"},u={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},v=a.multimediaSupport;(function(){a.support.flash9=false;var l=v.getPluginVersion("Shockwave Flash"),h=function(k){a.support.flash9=false;try{k=v.getPluginVersion("",{description:k.GetVariable("$version")});
a.support.flash9=!!(k[0]>9||k[0]===9&&k[1]>=115)}catch(g){}};if(l[0]>9||l[0]===9&&l[1]>=115){a.support.flash9=true;a(function(){l=a("<object />",s).appendTo("body");h(l[0]);l.remove()})}else if(window.ActiveXObject)try{l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");h(l);l=null}catch(e){}})();var w={isTechAvailable:function(){return a.support.flash9},_embed:function(l,h,e,k){var g=this.embedOpts.jwPlayer;l=a.extend({},g.vars,{file:l,id:h});var c=a.extend({name:h,data:g.path},g.attrs,s),d=a.extend({movie:g.path},
g.params);if(e.poster)l.image=e.poster;l.autostart=""+e.autoplay;l.repeat=e.loop?"single":"false";l.controlbar=e.controls?"bottom":"none";if(!e.controls&&g.hideIcons&&d.wmode==="transparent"||g.hideIcons===true){l.icons="false";l.showicons="false"}d.flashvars=[];a.each(l,function(j,r){d.flashvars.push(j+"="+r)});d.flashvars=d.flashvars.join("&");k(v.embedObject(this.visualElem[0],h,c,d,u,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp",
"video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};v.add("jwPlayer","video",w);v.add("jwPlayer","audio",w)})(jQuery);
(function(a){function s(h){h=h.replace(v,"");return a.data(u.getElementById(h),"mediaElemSupport").apis.jwPlayer}var u=document,v=/^jwPlayer-/,w={View:{PLAY:function(h){if(h=h.state&&s(h.id)){h._trigger("play");h._isPlaystate=true}}},Model:{META:function(h){if(h.type==="metadata"){var e=s(h.id);e&&e._trigger({type:"loadedmeta",duration:h.duration})}},TIME:function(h){var e=s(h.id),k={type:"timechange",time:h.position};if(e){e.loadedmeta||e._trigger({type:"loadedmeta",duration:h.duration});e.currentPos=
h.position;if(h.duration){k.duration=h.duration;k.timeProgress=h.position/h.duration*100}e._trigger(k)}},STATE:function(h){if(h.newstate==="IDLE")return false;var e=s(h.id),k;if(!e)return false;switch(h.newstate){case "PLAYING":k="playing";break;case "PAUSED":e._isPlaystate=false;k="pause";break;case "COMPLETED":e._isPlaystate=false;k="ended";break;case "BUFFERING":k="waiting";break}k&&e._trigger(k);return k}},Controller:{VOLUME:function(h){var e=s(h.id);e&&e._trigger({type:"volumelevelchange",volumelevel:h.percentage})},
MUTE:function(h){var e=s(h.id);e&&e._trigger({type:"mute",isMuted:h.state})}}};window.jwEvents={four:a.extend(true,{},w,{Model:{LOADED:function(h){var e=s(h.id);if(e){var k={type:"progresschange",lengthComputable:!!h.total};if(h.total){a.extend(k,{relLoaded:h.total/h.loaded*100});e._buffered=k.relLoaded}e._trigger(k)}}}}),five:a.extend(true,{},w,{Model:{BUFFER:function(h){var e=s(h.id);if(e){var k={type:"progresschange",relLoaded:h.percentage,relStart:0};e._buffered=h.percentage;e._trigger(k)}},STATE:function(h){if(w.Model.STATE(h)===
"playing")if(h=s(h.id)){h._trigger("playing");h._isPlaystate=true}}}})};window.playerReady=function(h){var e=s(h.id);if(e){if(e.isAPIReady){if(e.apiElem.sendEvent)setTimeout(function(){e._lastLoad&&e._mmload(e._lastLoad.file,e._lastLoad.image);if(e._isPlaystate&&!(e.apiElem.getConfig()||{}).autostart)e.play()},20);else{e._reInit();return}setTimeout(function(){e._trigger("jmeflashRefresh")},20)}var k=parseInt(h.version,10)>4?"five":"four";a.each(jwEvents[k],function(g,c){a.each(c,function(d){e.apiElem["add"+
g+"Listener"](d,"jwEvents."+k+"."+g+"."+d)})});setTimeout(function(){var g=a.attr(e.element,"getConfig");if(!g.autoplay)if(e.nodeName==="audio"&&g.preload==="metadata"){e.apiElem.sendEvent("PLAY","true");e.apiElem.sendEvent("PLAY","false")}else e.nodeName==="video"&&g.preload!=="none"&&!g.poster&&!e.currentPos&&e.currentTime(0);e._trigger("mmAPIReady")},20)}};var l={_init:function(){this._buffered=this._buffered||0},_reInitCount:0,_reInitTimer:false,_reInit:function(){var h=this;if(this._reInitCount<
5){this.visualElem[0].style.overflow="visible";setTimeout(function(){h.visualElem[0].style.overflow="hidden"},0)}this._reInitCount++;if(!this._reInitTimer){this._reInitTimer=true;setTimeout(function(){h._reInitCount=0;h._reInitTimer=false},2E4)}},play:function(){this.apiElem.sendEvent("PLAY","true");this._isPlaystate=true;this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var h=this.apiElem.getConfig();return h?h.state==="PLAYING":undefined},_mmload:function(h,
e){this._lastLoad={file:h,image:e||false};this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(h){if(typeof h!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",h?"true":false)},_isSeekable:function(h){var e=this.getCurrentSrc();if(this._buffered===100||this.embedOpts.jwPlayer.isStream||e.indexOf("http")!==0&&e.indexOf("file")!==0)return true;
e=this.getDuration();if(!e)return false;return h/e*100<this._buffered},currentTime:function(h){if(!isFinite(h))return this.currentPos||0;var e=this,k=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),g=function(){e.apiElem.sendEvent("SEEK",h);c();k||e.apiElem.sendEvent("PLAY","false");e.currentPos=h;e._trigger({type:"timechange",time:h})},c=function(){a(e.element).unbind(".jwseekrequest")};if(!k){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY","false")}clearTimeout(this._seekrequestTimer);
c();if(this._isSeekable(h))g();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(e._isSeekable(h)){var d=e.muted();c();clearTimeout(e._seekrequestTimer);d||e.muted(true);e.apiElem.sendEvent("PLAY","true");e._seekrequestTimer=setTimeout(function(){d||e.muted(d);g()},120)}}).bind("mediareset.jwseekrequest",c).bind("play.jwseekrequest",function(){e.apiElem.sendEvent("PLAY","false");e._trigger("waiting");k=true}).bind("pause.jwseekrequest",
function(){k=false});this._seekrequestTimer=setTimeout(function(){a(e.element).unbind("play.jwseekrequest").unbind("pause.jwseekrequest").bind("play.jwseekrequest",c).bind("pause.jwseekrequest",c)},999)}},getDuration:function(){var h=this.apiElem.getPlaylist()[0].duration||0;return h<0?0:h},volume:function(h){if(!isFinite(h))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+h)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.browser.mozilla&&
a.extend(l,{isJMEReady:function(){var h=false;if(this.isAPIReady&&this.apiElem.sendEvent&&this.apiElem.getConfig){this.apiElem.getConfig();h=true}return h}});a.multimediaSupport.add("jwPlayer","video",l);a.multimediaSupport.add("jwPlayer","audio",l)})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var s=a.multimediaSupport,u={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},v={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},w={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(s.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(l){}return a.support.vlc},_embed:function(l,h,e,k){var g=this.embedOpts.vlc,c=a.extend({},g.attrs,{data:l},u);e=a.extend({},g.params,{Src:l,ShowDisplay:"True",autoplay:""+e.autoplay,autoloop:""+e.loop});h=s.embedObject(this.visualElem[0],h,c,e,v,"VLC Multimedia Plug-in");this._currentSrc=l;k(h)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};s.add("vlc","video",w);s.add("vlc","audio",w)})(jQuery);
(function(a){function s(e){function k(){try{if(e.apiElem.input&&e.apiElem.input.state!==undefined){u("mmAPIReady",e);clearInterval(g);if(a.attr(e.element,"autoplay"))w.start(e);else{e.apiElem.playlist.stop();setTimeout(function(){e.apiElem.playlist.stop()},0)}}}catch(c){}}var g;clearInterval(g);g=setInterval(k,333)}function u(e,k){setTimeout(function(){k._trigger(e)},0)}function v(e){setTimeout(function(){e._intervalCheck()},9)}var w={start:function(e){w.end(e);e._intervalCheckTimer=setInterval(function(){e._intervalCheck.call(e)},
1E3)},end:function(e){e._intervalCheckTimer&&clearInterval(e._intervalCheckTimer)}},l={2:"waiting",3:"playing",4:"pause",6:"ended"},h={_init:function(){s(this);this._setPoster(a.attr(this.element,"poster"))},_intervalCheck:function(){var e=this.apiElem,k=e.input.state,g=this,c={type:"loadedmeta",duration:e.input.length/1E3},d;if(k&&k>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==c.duration){u(c,g);this.data.metaLoaded=c}d={type:"timechange",time:e.input.time/1E3};
if(k&&k>1&&this.data.time!==d.time){if(c.duration){d.duration=c.duration;d.timeProgress=e.input.position*100}this.data.time=d.time;u(d,g)}d={type:"mute",isMuted:e.audio.mute};if(d.isMuted!==this.data.isMuted){this.data.isMuted=d.isMuted;u(d,g)}d={type:"volumelevelchange",volumelevel:e.audio.volume/2};if(d.volumelevel!==this.data.volumelevel){this.data.volumelevel=d.volumelevel;u(d,g)}if(k!==this.data.state){this.data.state=k;l[k]&&u(l[k],g);l[k]==="ended"&&e.playlist.stop();if(k===3)w.start(g);else if(k===
4||k===5||k===6||k===7)w.end(g)}},play:function(){this.apiElem.playlist.play();this._trigger("play");w.start(this);v(this);if(this._currentTimeAdjust!==false){try{this.apiElem.input.time=this._currentTimeAdjust}catch(e){}this._resetCurrentTime()}},pause:function(){if(l[this.apiElem.input.state]==="playing"){w.end(this);this.apiElem.playlist.togglePause();v(this)}},_isPlaying:function(){var e=false;try{e=l[this.apiElem.input.state]==="playing"}catch(k){}return e},_mmload:function(e,k){a(this.element).unbind("playing.enterFullscreen");
this.apiElem.playlist.stop();this.data={};var g=this.apiElem.playlist.add(e," ",":no-video-title-show");this._currentSrc=e;this.apiElem.playlist.playItem(g);this.apiElem.playlist.items.clear();this._setPoster(k);this._showPoster(false,{time:0});if(!a.attr(this.element,"autoplay")){w.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},_currentTimeAdjust:false,_currentTimeTimer:false,_resetCurrentTime:function(){clearTimeout(this._currentTimeTimer);this._currentTimeAdjust=
false},currentTime:function(e){try{if(!isFinite(e))return this.apiElem.input?this.apiElem.input.time/1E3:0;var k;if(!this.loadedmeta){k=l[this.apiElem.input.state];this.play()}this._currentTimeAdjust=e*1E3;clearTimeout(this._currentTimeTimer);this._currentTimeTimer=setTimeout(a.proxy(this,"_resetCurrentTime"));this.apiElem.input.time=this._currentTimeAdjust;v(this);k&&k!=="playing"&&k!=="waiting"&&this.pause()}catch(g){if(!isFinite(e))return 0}},getDuration:function(){var e;try{e=this.apiElem.input.length/
1E3||0}catch(k){e=0}return e},volume:function(e){if(!isFinite(e))return this.apiElem.audio?parseInt(this.apiElem.audio.volume/2,10):100;if(this.apiElem.audio){this.apiElem.audio.volume=e*2;v(this)}},muted:function(e){if(typeof e!=="boolean")try{return this.apiElem.audio?this.apiElem.audio.mute:true}catch(k){return false}if(this.apiElem.audio){this.apiElem.audio.mute=e;v(this)}}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=
true;else{var e=this;a(e.element).one("playing.enterFullscreen",function(){e.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},h));a.multimediaSupport.add("vlc","audio",h)})(jQuery);
