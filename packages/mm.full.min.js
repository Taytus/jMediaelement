/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function s(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function t(e){if(a.support.mediaElements){var f=a.data(this,"mediaElemSupport");if(f&&f.apis){e&&e.type&&a.data(this,"calledMediaError",false);f=f.apis;e=this;var h=a.attr(this,"srces");if(e.error||h.length&&!f.nativ.canPlaySrces(h)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{e.pause()}catch(o){}}a("source",this).unbind("error",s).filter(":last").bind("error",
s)}}}function w(e){var f=e.indexOf("?")+1,h="";e=f?e.substring(0,f):e;f=e.lastIndexOf(".")+1;return h=e.substr(f)}function q(e,f){var h=e.nodeName.toLowerCase();f=k.getSuitedPlayers(e,f.apiOrder);var o=a.data(e,"mediaElemSupport");if(f){if(f!=="noSource")k._setAPIActive(e,f.name)||k._embedApi(e,f,o,h)}else{o.apis.nativ._trigger({type:"totalerror"});try{e.pause()}catch(r){}}}a.multimediaSupport={};var k=a.multimediaSupport,g=(new Date).getTime(),b=document;a.support.video=!!a("<video />")[0].canPlayType;
a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var c=a.attr,d=/video|audio|source/i,i={src:true,poster:true},j={loop:true,autoplay:true,controls:true},n={srces:true,getConfig:true};a.attr=function(e,f,h,o){if(!(e.nodeName&&d.test(e.nodeName)&&(n[f]||k.attrFns[f]||j[f]||i[f])))return c(e,f,h,o);var r=h!==undefined,v,m;if(k.attrFns[f])if(v=a.data(e,"mediaElemSupport")){m=v.apis[v.name][f](h,o);if(!r)return m}else return c(e,f,h,o);if(r)if(j[f]){h=
!!h;if(e[f]=h){e[f]=h;e.setAttribute(f,f)}else{e[f]=h;e.removeAttribute(f)}}else if(i[f])e.setAttribute(f,h);else if(f==="srces"){a("source, a.source",e).remove();e.removeAttribute("src");h=a.isArray(h)?h:[h];a.each(h,function(u,x){m=b.createElement("source");if(typeof x==="string")x={src:x};m.setAttribute("src",x.src);x.type&&m.setAttribute("type",x.type);x.media&&m.setAttribute("media",x.media);e.appendChild(m)})}else f==="getConfig"&&a.each(h,function(u,x){a.attr(e,u,x)});else{if(j[f])return typeof e[f]===
"boolean"?e[f]:!!(e.attributes[f]||{}).specified;if(i[f])return a.support.video&&e[f]||k.makeAbsURI(e.getAttribute(f));if(f==="srces"){if(m=a.attr(e,"src"))m=[{src:m,type:e.getAttribute("type"),media:e.getAttribute("media")}];else{m=[];a("source",e).each(function(){m.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});m.length||a("a.source",e).each(function(){m.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}return m}if(f===
"getConfig"){m={};a.each(["autoplay","loop","controls","poster"],function(u,x){m[x]=a.attr(e,x)});return m}}};a.event.special.mediaerror={setup:function(){var e=a(this).bind("error",a.event.special.mediaerror.handler).bind("mediareset",t);setTimeout(function(){e.each(t)},0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",s)},handler:function(e){if(!a.data(this,"calledMediaError")){e=a.extend({},e||{},{type:"mediaerror"});a.data(this,"calledError",
true);return a.event.handle.apply(this,arguments)}}};var l={audio:{"application/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"]},video:{"application/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp",
"3gpp"]}};a.extend(k,{registerMimetype:function(e,f){arguments.length===1?a.each(l,function(h){k.registerMimetype(h,e)}):a.each(f,function(h,o){if(l[e][h])l[e][h]=[];l[e][h]=l[e][h].concat(o)})},_showMimeTypes:function(){window.console&&console.log(l)},attrFns:{},add:function(e,f,h){if(!this.apis[f][e]){this.apis[f][e]=k.beget(this.fn);e!=="nativ"&&a.inArray(e,a.fn.mediaElementEmbed.defaults.apiOrder)===-1&&a.fn.mediaElementEmbed.defaults.apiOrder.push(e)}a.extend(true,this.apis[f][e],h)},fn:{_init:a.noop,
canPlayType:function(e){var f=this.apiElem,h;if(f&&f.canPlayType){h=f.canPlayType(e);return h==="no"?"":h}e=k.extractContainerCodecsFormType(e);var o=this;h="probably";if(!e[1])return this.canPlayContainer&&a.inArray(e[0],this.canPlayContainer)!==-1?"maybe":"";a.each(e[1],function(r,v){if(!o.canPlayCodecs||a.inArray(v,o.canPlayCodecs)===-1){h="";return false}});return h},canPlaySrc:function(e){var f=this;if(typeof e!=="string"){if(e.type)return this.canPlayType(e.type);e=e.src}var h=w(e),o="";a.each(l[this.nodeName],
function(r,v){if(a.inArray(h,v)!==-1){o=f.canPlayType(r);return false}});return o},canPlaySrces:function(e){e=e||a.attr(this.element,"srces");a.isArray(e)||(e=[e]);var f=this,h=false,o="";a.each(e,function(r,v){if(h=f.canPlaySrc(v)){o=v;return false}});return o},_setActive:a.noop,_setInactive:a.noop,_trigger:function(e){a(this.element).triggerHandler(e,e)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(e){e=e.split(/\s*;\s*/g);if(e[1]&&e[1].indexOf("codecs")!==-1)e[1]=e[1].replace(/["|']$/,
"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return e},makeAbsURI:function(){return function(e){if(e&&typeof e==="string")e=a('<a href="'+e+'"></a>')[0].href;return e}}(),beget:function(e){var f=function(){};f.prototype=e;return new f},_create:function(e,f,h,o){var r=a.data(h,"mediaElemSupport")||a.data(h,"mediaElemSupport",{apis:{},nodeName:e});if(!r.apis[f]){r.apis[f]=k.beget(k.apis[e][f]);r.apis[f].element=h;r.apis[f].nodeName=e;r.apis[f].name=f;r.apis[f].data={};r.apis[f].embedOpts=o}return r},
_setAPIActive:function(e,f){var h=a.data(e,"mediaElemSupport"),o=h.name;if(o===f)return true;var r=h.apis[o].apiElem,v=h.apis[f]&&h.apis[f].apiElem,m=false;if(v&&v.nodeName){if(h.nodeName!=="audio"||a.attr(e,"controls"))h.apis[f].visualElem.css({width:h.apis[o].visualElem.width(),height:h.apis[o].visualElem.height(),visibility:"",display:""});h.apis[f]._setActive(o);m=true;h.apis[f]._trigger({type:"apiActivated",api:f})}h.apis[f].isAPIActive=true;if(r&&r.nodeName){if(o==="nativ")r.style.display="none";
else h.apis[o].visualElem.css({height:0,width:0,overflow:"hidden",visibility:"hidden"});h.apis[o]._setInactive(f);h.apis[o].isAPIActive=false;h.apis[f]._trigger({type:"apiDeActivated",api:o})}h.name=f;return m},getSuitedPlayers:function(e,f){var h=a.data(e,"mediaElemSupport");if(h&&h.apis){h=h.apis;var o=a.attr(e,"srces"),r=false,v=function(m,u){if(!(typeof u.isTechAvailable==="boolean"&&!u.isTechAvailable||a.isFunction(u.isTechAvailable)&&!u.isTechAvailable())){if(u=u.canPlaySrces(o))r={src:u.src||
u,name:m};return r}};if(!o.length)return"noSource";f?a.each(f,function(m,u){return!v(u,h[u])}):a.each(h,function(m,u){return!v(m,u)});return r}},_embedApi:function(e,f,h){var o=a.attr(e,"getConfig"),r=a(e),v=e.id;if(!v){g++;v=h.nodeName+"-"+g;e.id=v}h.apis[f.name].visualElem=a('<div class="media-element-box mm-'+h.nodeName+'-box" />').insertBefore(e);h.nodeName==="audio"&&!o.controls?h.apis[f.name].visualElem.css({height:0,width:0,overflow:"hidden"}):h.apis[f.name].visualElem.css({width:r.width(),
height:r.height()});h.apis[f.name]._embed(f.src,h.name+"-"+v,o,function(m){h.apis[f.name].apiElem=m;a(m).addClass(h.nodeName);h.apis[f.name]._init();h.apis[f.name]._trigger({type:"apiActivated",api:f.name})})},getPluginVersion:function(e,f){e=f||navigator.plugins&&navigator.plugins[e];f=[-1,0];if(e)if((desc=(e.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&desc[0]){f[0]=desc[0];if(desc[1])f[0]+="."+desc[1];f[0]=parseFloat(f[0],10);if(desc[2])f[1]=parseInt(desc[2],10)}return f},embedObject:function(e,
f,h,o,r,v){e=a("<div />").appendTo(e)[0];var m;if(navigator.plugins&&navigator.plugins[v]){m=b.createElement("object");a.each(h,function(u,x){m.setAttribute(u,x)});a.each(o,function(u,x){var y=b.createElement("param");y.setAttribute("name",u);y.setAttribute("value",x);m.appendChild(y)});m.setAttribute("id",f);m.setAttribute("name",f);e.parentNode.replaceChild(m,e)}else if(window.ActiveXObject){m="<object";a.each(a.extend({},h,r),function(u,x){m+=" "+u+'="'+x+'"'});m+=' name="'+f+'"';m+=' id="'+f+
'"';m+=">";a.each(o,function(u,x){m+=' <param name="'+u+'" value="'+x+'" />'});m+="</object>";e.outerHTML=m;m=b.getElementById(f)}if(m){m.setAttribute("width","100%");m.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([m]);m=null});setTimeout(function(){if(m&&m.setAttribute){m.setAttribute("width","100%");m.setAttribute("height","100%")}},0);return m}});k.add("nativ","video",{});k.add("nativ","audio",{});a.fn.mediaElementEmbed=function(e){e=a.extend(true,{},a.fn.mediaElementEmbed.defaults,
e);return this.each(function(){var f=this.nodeName.toLowerCase();if(!(f!=="video"&&f!=="audio")){var h=this;e.removeControls&&a.attr(this,"controls",false);var o=k._create(f,"nativ",this,e);o.name="nativ";o.apis.nativ.apiElem=this;o.apis.nativ.visualElem=a(this);o.apis.nativ.isAPIActive=true;a.each(k.apis[f],function(r){r!=="nativ"&&k._create(f,r,h,e)});e.showFallback&&a.support.mediaElements&&a(this).bind("totalerror",function(){a(this).hide().children(":not(source, itext)").insertAfter(this)});
if(e.debug||!a.support.mediaElements){q(this,e);o.apis.nativ.isAPIReady=true}else o.apis.nativ._init();a(this).bind("mediaerror",function(){o.name==="nativ"&&q(this,e)})}})};a.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};if(a.cleanData&&window.ActiveXObject){var p=a.cleanData;a.cleanData=function(e){p(e);for(var f=0,h=e.length;f<h;f++)if(e[f].nodeName==="OBJECT")try{for(var o in e[f])if(typeof e[f][o]==="function")e[f][o]=null}catch(r){}}}})(jQuery);
(function(a){var s=document.createElement("video"),t=a.multimediaSupport,w={apiActivated:true,apiDeActivated:true,mediareset:true,totalerror:true},q={};if("enterFullScreen"in s&&s.supportsFullscreen){a.support.videoFullscreen=true;q.enter="enterFullScreen";q.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(c,d){if(d+"EnterFullScreen"in s&&s[d+"SupportsFullscreen"]){a.support.videoFullscreen=true;q.enter=d+"EnterFullScreen";q.exit=d+"ExitFullScreen";return false}});s=null;a.extend(t,
{formatTime:function(c){return a.map([parseInt(c/60,10),parseInt(c%60,10)],function(d){return isNaN(d)?"--":d<10?"0"+d:d}).join(":")}});a.event.special.loadedmeta={add:function(c){var d=a(this).getMMAPI();if(d&&d.loadedmeta){d=a.extend({},d.loadedmeta);c.handler.call(this,d,d)}}};a.extend(t.fn,{_trigger:function(c){var d=c.type||c,i=c;switch(d){case "mmAPIReady":if(this.isAPIReady)return;else this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=i;break;case "totalerror":this.totalerror=true;
break;case "mediareset":this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!w[d])){!this.isAPIReady&&!w[d]&&this._trigger("mmAPIReady");if(c.type==="progresschange"){c.relStart=c.relStart||0;if(this._concerningBufferStart!==c.relStart){this._concerningBufferStart=c.relStart;this._trigger({type:"bufferrange",relStart:c.relStart,relLoaded:c.relLoaded})}}c.target=this.element;c=a.Event(c);c.preventDefault();c.mediaapi=this.name;if(c.type==="timechange"||c.type==="progresschange")c.stopPropagation();
a.event.trigger(c,i,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,relCurrentTime:function(c){var d=this.getDuration()||Number.MIN_VALUE;c&&isFinite(c)&&this.currentTime(d*c/100);return this.currentTime()/d*100},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getMMVisual:function(){return this.visualElem},onAPIReady:function(c){var d={type:"mmAPIReady"};
this.isAPIReady?c.call(this.element,d,d):a(this.element).one("mmAPIReady.jmediaelement",c)},_format:t.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(c,d){if(c){a.attr(this.element,"srces",c);c=a.isArray(c)?c:[c]}else c=a.attr(this.element,"srces");if(d!==undefined)d?a.attr(this.element,"poster",d):a(this.element).removeAttr("poster");else d=a.attr(this.element,"poster");this._isResetting=
true;this._trigger("mediareset");if(c=this.canPlaySrces(c)){c=c.src||c;this._mmload(c,d)}else{t._setAPIActive(this.element,"nativ");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()}});var k=function(c){var d,i=function(){for(var n=c.element.currentTime,l=c.element.buffered,p=l.length,e={},f=0;f<p;f++){e.start=l.start(f);e.end=l.end(f);if(e.start<=n&&e.end>=n)break}return e},j=function(n){var l=
{type:"progresschange"},p;if(this.buffered&&this.buffered.length){if(n=this.duration){p=i();l.relStart=p.start/n*100;l.relLoaded=p.end/n*100}c._trigger(l)}else if(n.originalEvent&&"lengthComputable"in n.originalEvent&&n.originalEvent.loaded){if(n.originalEvent.lengthComputable&&n.originalEvent.total){l.relStart=0;l.relLoaded=n.originalEvent.loaded/n.originalEvent.total*100}if(!d){a(this).unbind(n.type==="load"?"progress":"load",j);d=true}c._trigger(l)}};a(c.element).bind("progress load",j)},g={isTechAvailable:a.support.mediaElements,
_init:function(){var c=this,d=this.apiElem.muted,i=false,j=function(){i=true};k(this);a(this.element).bind({volumechange:function(){if(d!==c.apiElem.muted){d=c.apiElem.muted;c._trigger.call(c,{type:"mute",isMuted:d})}else c._trigger.call(c,{type:"volumelevelchange",volumelevel:c.apiElem.volume*100})},timeupdate:function(){var n={type:"timechange",time:this.currentTime};if(this.duration){n.duration=this.duration;n.timeProgress=n.time/n.duration*100}c._trigger(n)},loadedmetadata:function(){c._trigger({type:"loadedmeta",
duration:this.duration})}}).one("mediaerror",j);if(this.element.readyState>0&&!this.element.error){a(c.element).unbind("mediaerror",j);this._trigger({type:"loadedmeta",duration:this.element.duration})}else setTimeout(function(){a(c.element).unbind("mediaerror",j);if(i||c.element.error)c.isAPIReady=true;else c._trigger("mmAPIReady")},150)},play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(c){if(typeof c==="boolean")this.element.muted=c;return this.element.muted},
volume:function(c){if(isFinite(c))this.element.volume=c/100;return this.element.volume*100},currentTime:function(c){if(isFinite(c))try{this.element.currentTime=c}catch(d){}return this.element.currentTime},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};
t.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[q.enter]()}catch(c){}},exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[q.exit]()}catch(c){}}},g));t.add("nativ","audio",g);a.fn.getMMAPI=function(c){if(this[0]){var d=a.data(this[0],"mediaElemSupport");return c||!d||!d.name||!d.apis?d:d.apis[d.name]}};t.registerAPI=function(c){if(typeof c==="string")c=[c];a.each(c,
function(d,i){if((d=t.apis.video.nativ[i])&&a.isFunction(d)&&i.indexOf("_")!==0){t.attrFns[i]=true;a.fn[i]||(a.fn[i]=function(){var j=arguments,n;this.each(function(){var l=a(this).getMMAPI();if(l&&l.isAPIReady&&!l.totalerror)n=l[i].apply(l,j)});return n===undefined?this:n})}})};var b=[];a.each(t.apis.video.nativ,function(c){b.push(c)});t.registerAPI(b);t.fn._extend=function(c){var d=[];a.each(c,function(i,j){t.fn[i]=j;d.push(i)});t.registerAPI(d)}})(jQuery);
(function(a){function s(b,c){b=a(b);var d={},i=b.attr("data-controls");d.mm=i?a("#"+i):a("video, audio",b).filter(":first");d.api=d.mm.getMMAPI(true)||d.mm.mediaElementEmbed(c.embed).getMMAPI(true);if(b.is(c.controlSel))d.controls=b;if(!d.controls||d.controls.hasClass(c.classPrefix+"media-controls")){d.controlsgroup=b;d.api.controlWrapper=d.api.controlWrapper?d.api.controlWrapper.add(b):b;d.controls=d.controls?a(c.controlSel,b).add(d.controls):a(c.controlSel,b);d.api.controlBar=d.controls.filter("."+
c.classPrefix+"media-controls")}return d}function t(b,c,d,i){var j=i.classPrefix+"playing "+i.classPrefix+"totalerror "+i.classPrefix+"waiting",n=function(){b.removeClass(j)};b.addClass(i.classPrefix+d.name).bind({apiActivated:function(l,p){b.addClass(i.classPrefix+p.api)},apiDeActivated:function(l,p){b.removeClass(i.classPrefix+p.api)}}).bind("playing totalerror waiting",function(l){n();b.addClass(i.classPrefix+l.type)}).bind("pause ended mediareset",function(){n()}).bind("canplay canplaythrough",
function(){b.removeClass(i.classPrefix+"waiting")});a.ui&&a.ui.keyCode&&b.bind("keydown",function(l){if(g[l.keyCode]){if(!a(l.target).is(".ui-slider-handle")){var p=5;switch(l.keyCode){case a.ui.keyCode.UP:if(l.ctrlKey)p+=5;d.apis[d.name].volume(Math.min(100,d.apis[d.name].volume()+p));break;case a.ui.keyCode.DOWN:if(l.ctrlKey)p+=5;d.apis[d.name].volume(Math.max(0,d.apis[d.name].volume()-p));break;case a.ui.keyCode.LEFT:if(l.ctrlKey)p+=55;d.apis[d.name].currentTime(Math.max(0,d.apis[d.name].currentTime()-
p));break;case a.ui.keyCode.RIGHT:if(l.ctrlKey)p+=55;d.apis[d.name].currentTime(Math.min(d.apis[d.name].getDuration(),d.apis[d.name].currentTime()+p));break}l.preventDefault()}}else if(l.keyCode===a.ui.keyCode.SPACE&&!a.nodeName(l.target,"button")){d.apis[d.name].togglePlay();l.preventDefault()}})}var w=/\s*\/\s*|\s*\|\s*/,q=a.fn.a11ySlider?"a11ySlider":"slider",k={"timeline-slider":function(b,c,d,i){function j(p,e){e.timeProgress!==undefined&&!l&&b[q]("value",e.timeProgress)}function n(){d.apis[d.name].loadedmeta&&
d.apis[d.name].loadedmeta.duration?b[q]("option","disabled",false):b[q]("option","disabled",true)}var l=false;b[q](i.timeSlider)[q]("option","disabled",true);d.apis[d.name].onAPIReady(function(){c.bind("loadedmeta",n).bind("timechange",j).bind("mediareset",function(){b[q]("value",0);n()}).bind("ended",function(){b[q]("value",100)});b.bind("slidestart",function(p){if(p.originalEvent)l=true}).bind("slidestop",function(){l=false}).bind("slide",function(p,e){p.originalEvent&&d.apis[d.name].relCurrentTime(e.value)});
n()})},"volume-slider":function(b,c,d,i){function j(l,p){n||b[q]("value",p.volumelevel)}var n=false;b[q](i.volumeSlider)[q]("option","disabled",true);d.apis[d.name].onAPIReady(function(){c.bind("volumelevelchange",j);b.bind("slidestart",function(l){if(l.originalEvent)n=true}).bind("slidestop",function(){n=false}).bind("slide",function(l,p){l.originalEvent&&d.apis[d.name].volume(p.value)});b[q]("option","disabled",false);b[q]("value",d.apis[d.name].volume())})},progressbar:function(b,c,d,i){function j(l,
p){"relLoaded"in p?b.progressbar("option","disabled",false).progressbar("value",p.relLoaded):b.progressbar("option","disabled",true)}function n(){b.progressbar("option","disabled",true).progressbar("value",0)}b.progressbar(i.progressbar).progressbar("option","disabled",true);d.apis[d.name].onAPIReady(function(){c.bind("progresschange",j).bind("mediareset",n)},"one")},duration:function(b,c,d,i){i.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");c.bind("loadedmeta",function(j,
n){b.html(d.apis[d.name]._format(n.duration))}).bind("mediareset",function(){b.html("--:--")});d.apis[d.name].onAPIReady(function(){b.html(d.apis[d.name].getFormattedDuration())})},"current-time":function(b,c,d,i){i.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");c.bind("timechange",function(j,n){b.html(d.apis[d.name]._format(n.time))}).bind("mediareset",function(){b.html("--:--")});d.apis[d.name].onAPIReady(function(){b.html(d.apis[d.name].getFormattedTime())})},"media-controls":function(b,
c,d,i){function j(){var p=b.innerWidth()+i.mediaControls.timeSliderAdjust,e=n.outerWidth(true)-n.innerWidth();a("> *",b).each(function(){if(n[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!i.excludeSel||!a(this).is(i.excludeSel)))e+=a(this).outerWidth(true)});n.css("width",p-e)}i.addThemeRoller&&b.addClass("ui-widget ui-widget-header ui-corner-all");if(i.mediaControls.dynamicTimeslider){var n=a("."+i.classPrefix+"timeline-slider",b),l=setTimeout(j,0);d.apis[d.name].onAPIReady(function(){clearInterval(l);
setTimeout(j,0)},"one");a(window).bind("resize",j);c.bind("resize emchange",j)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(b,c){k[b]=function(d,i,j,n){function l(){if(j.apis[j.name][c.stateMethod]()){p.text.text(p.names[1]);
p.icon.addClass(c.trueClass).removeClass(c.falseClass)}else{p.text.text(p.names[0]);p.icon.addClass(c.falseClass).removeClass(c.trueClass)}}var p=a.fn.registerMMControl.getBtn(d);n.addThemeRoller&&d.addClass("ui-state-default ui-corner-all");j.apis[j.name].onAPIReady(function(){i.bind(c.evts,l);l()});d.bind("click",function(e){j.apis[j.name][c.actionMethod]();e.preventDefault()})}});var g={40:true,37:true,39:true,38:true};a.fn.registerMMControl=function(b){function c(){var d=s(this,b);d.api.controls=
d.api.controls||[];if(d.api){d.controls.each(function(){var i=a(this);if(a.inArray(this,d.api.controls)===-1){d.api.controls.push(this);a.each(k,function(j,n){if(i.hasClass(b.classPrefix+j)){n(i,d.mm,d.api,b);return false}})}});d.controlsgroup&&d.controlsgroup[0]&&t(d.controlsgroup,d.mm,d.api,b)}}b=a.extend(true,{},a.fn.registerMMControl.defaults,b);b.controlSel=[];a.each(k,function(d){d!=="media-controls"&&b.controlSel.push("."+b.classPrefix+d)});b.controlSel.push("."+b.classPrefix+"media-controls");
b.controlSel=b.controlSel.join(", ");return this.each(c)};a.fn.registerMMControl.defaults={embed:a.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{}};a.fn.registerMMControl.getBtn=function(b){var c={icon:a(".ui-icon",b),text:a(".button-text",b)};if(!c.icon[0]&&!c.text[0]&&!a("*",b)[0]){c.icon=b;c.text=b}c.names=c.text.text().split(w);if(c.names.length!==2)c.text=a([]);
return c};a.fn.registerMMControl.addControl=function(b,c){k[b]=c}})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var s={type:"application/x-shockwave-flash"},t={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},w=a.multimediaSupport;(function(){a.support.flash9=false;var k=w.getPluginVersion("Shockwave Flash"),g=function(c){a.support.flash9=false;try{c=w.getPluginVersion("",{description:c.GetVariable("$version")});a.support.flash9=!!(c[0]>9||c[0]===
9&&c[1]>=115)}catch(d){}};if(k[0]>9||k[0]===9&&k[1]>=115){a.support.flash9=true;a(function(){k=a("<object />",s).appendTo("body");g(k[0]);k.remove()})}else if(window.ActiveXObject)try{k=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");g(k);k=null}catch(b){}})();var q={isTechAvailable:function(){return a.support.flash9},_embed:function(k,g,b,c){var d=this.embedOpts.jwPlayer;k=a.extend({},d.vars,{file:k,id:g});var i=a.extend({name:g,data:d.path},d.attrs,s),j=a.extend({movie:d.path},d.params);if(b.poster)k.image=
b.poster;k.autostart=""+b.autoplay;k.repeat=b.loop?"single":"false";k.controlbar=b.controls?"bottom":"none";if(d.playFirstFrame&&!b.poster&&!b.autoplay){this.data.playFirstFrame=true;k.autostart="true"}j.flashvars=[];a.each(k,function(n,l){j.flashvars.push(n+"="+l)});j.flashvars=j.flashvars.join("&");c(w.embedObject(this.visualElem[0],g,i,j,t,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime",
"video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla"]};w.add("jwPlayer","video",q);w.add("jwPlayer","audio",q)})(jQuery);
(function(a){function s(g){g=g.replace(w,"");return a.data(t.getElementById(g),"mediaElemSupport").apis.jwPlayer}var t=document,w=/^jwPlayer-/,q={View:{PLAY:function(g){(g=g.state&&s(g.id))&&g._trigger("play")}},Model:{META:function(g){if(g.type==="metadata"){var b=s(g.id);b&&b._trigger({type:"loadedmeta",duration:g.duration})}},TIME:function(g){var b=s(g.id),c={type:"timechange",time:g.position};if(b){b.loadedmeta||b._trigger({type:"loadedmeta",duration:g.duration});b.currentPos=g.position;if(g.duration){c.duration=
g.duration;c.timeProgress=g.position/g.duration*100}if(g.position&&b.data.playFirstFrame&&!b.data.playThrough){b.pause();b.data.playThrough=true}b._trigger(c)}},STATE:function(g){if(g.newstate==="IDLE")return false;var b=s(g.id),c;if(!b)return false;switch(g.newstate){case "PLAYING":c="playing";break;case "PAUSED":c="pause";break;case "COMPLETED":c="ended";break;case "BUFFERING":c="waiting";break}c&&b._trigger(c);return c}},Controller:{VOLUME:function(g){var b=s(g.id);b&&b._trigger({type:"volumelevelchange",
volumelevel:g.percentage})},MUTE:function(g){var b=s(g.id);b&&b._trigger({type:"mute",isMuted:g.state})}}};window.jwEvents={four:a.extend(true,{},q,{Model:{LOADED:function(g){var b=s(g.id);if(b){var c={type:"progresschange",lengthComputable:!!g.total};if(g.total){a.extend(c,{relLoaded:g.total/g.loaded*100});b._buffered=c.relLoaded}b._trigger(c)}}}}),five:a.extend(true,{},q,{Model:{BUFFER:function(g){var b=s(g.id);if(b){var c={type:"progresschange",relLoaded:g.percentage,relStart:0};b._buffered=g.percentage;
b._trigger(c)}},STATE:function(g){if(q.Model.STATE(g)==="playing")(g=s(g.id))&&g._trigger("play")}}})};window.playerReady=function(g){var b=s(g.id);if(b){var c=parseInt(g.version,10)>4?"five":"four";a.each(jwEvents[c],function(d,i){a.each(i,function(j){b.apiElem["add"+d+"Listener"](j,"jwEvents."+c+"."+d+"."+j)})});b._trigger("mmAPIReady")}};var k={_init:function(){this._buffered=this._buffered||0},play:function(){this.data.playThrough=true;this.apiElem.sendEvent("PLAY","true");this._trigger("play")},
pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var g=this.apiElem.getConfig();return g?g.state==="PLAYING":undefined},_mmload:function(g,b){this.apiElem.sendEvent("LOAD",{file:g,image:b||false});a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY","false")},muted:function(g){if(typeof g!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",g?"true":false)},_isSeekable:function(g){var b=this.getCurrentSrc();
if(this._buffered===100||b.indexOf("http")!==0&&b.indexOf("file")!==0)return true;b=this.getDuration();if(!b)return false;return g/b*100<this._buffered},currentTime:function(g){if(!isFinite(g))return this.currentPos||0;var b=this,c=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),d=function(){b.apiElem.sendEvent("SEEK",g);b.currentPos=g;b._trigger({type:"timechange",time:g})},i=function(){a(b.element).unbind(".jwseekrequest")};if(!c){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY",
"false")}clearTimeout(this._seekrequestTimer);i();if(this._isSeekable(g))d();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(b._isSeekable(g)){i();clearTimeout(b._seekrequestTimer);c&&b.apiElem.sendEvent("PLAY","true");b._seekrequestTimer=setTimeout(d,99)}}).bind("mediareset.jwseekrequest",i).bind("play.jwseekrequest",i).bind("pause.jwseekrequest",i);this._seekrequestTimer=setTimeout(i,9999)}},getDuration:function(){var g=
this.apiElem.getPlaylist()[0].duration||0;return g<0?0:g},volume:function(g){if(!isFinite(g))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+g)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.multimediaSupport.add("jwPlayer","video",k);a.multimediaSupport.add("jwPlayer","audio",k)})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var s=a.multimediaSupport,t={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},w={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},q={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(s.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(k){}return a.support.vlc},_embed:function(k,g,b,c){var d=this.embedOpts.vlc,i=a.extend({},d.attrs,{data:k},t);b=a.extend({},d.params,{Src:k,ShowDisplay:"True",autoplay:""+b.autoplay,autoloop:""+b.loop});g=s.embedObject(this.visualElem[0],g,i,b,w,"VLC Multimedia Plug-in");this._currentSrc=k;c(g)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};s.add("vlc","video",q);s.add("vlc","audio",q)})(jQuery);
(function(a){function s(b){function c(){try{if(b.apiElem.input){t("mmAPIReady",b);clearInterval(d);if(a.attr(b.element,"autoplay"))q.start(b);else{b.apiElem.playlist.stop();setTimeout(function(){b.apiElem.playlist.stop()},0)}}}catch(i){}}var d;clearInterval(d);d=setInterval(c,333);c()}function t(b,c){setTimeout(function(){c._trigger(b)},0)}function w(b){setTimeout(function(){b._intervalCheck()},9)}var q={start:function(b){q.end(b);b._intervalCheckTimer=setInterval(function(){b._intervalCheck.call(b)},
1E3)},end:function(b){b._intervalCheckTimer&&clearInterval(b._intervalCheckTimer)}},k={2:"waiting",3:"playing",4:"pause",6:"ended"},g={_init:function(){s(this)},_intervalCheck:function(){var b=this.apiElem,c=b.input.state,d=this,i={type:"loadedmeta",duration:b.input.length/1E3},j;if(c&&c>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==i.duration){t(i,d);this.data.metaLoaded=i}j={type:"timechange",time:b.input.time/1E3};if(c&&c>1&&this.data.time!==j.time){if(i.duration){j.duration=
i.duration;j.timeProgress=b.input.position*100}this.data.time=j.time;t(j,d)}j={type:"mute",isMuted:b.audio.mute};if(j.isMuted!==this.data.isMuted){this.data.isMuted=j.isMuted;t(j,d)}j={type:"volumelevelchange",volumelevel:b.audio.volume/2};if(j.volumelevel!==this.data.volumelevel){this.data.volumelevel=j.volumelevel;t(j,d)}if(c!==this.data.state){this.data.state=c;k[c]&&t(k[c],d);k[c]==="ended"&&b.playlist.stop();if(c===3)q.start(d);else if(c===4||c===5||c===6||c===7)q.end(d)}},play:function(){this.apiElem.playlist.play();
this._trigger("play");q.start(this);w(this)},pause:function(){if(k[this.apiElem.input.state]==="playing"){q.end(this);this.apiElem.playlist.togglePause();w(this)}},_isPlaying:function(){var b=false;try{b=k[this.apiElem.input.state]==="playing"}catch(c){}return b},_mmload:function(b){a(this.element).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};var c=this.apiElem.playlist.add(b," ",":no-video-title-show");this._currentSrc=b;this.apiElem.playlist.playItem(c);this.apiElem.playlist.items.clear();
if(!a.attr(this.element,"autoplay")){q.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},currentTime:function(b){try{if(!isFinite(b))return this.apiElem.input.time/1E3;this.apiElem.input.time=b*1E3;w(this)}catch(c){if(!isFinite(b))return 0}},getDuration:function(){var b;try{b=this.apiElem.input.length/1E3||0}catch(c){b=0}return b},volume:function(b){if(!isFinite(b))return parseInt(this.apiElem.audio.volume/2,10);this.apiElem.audio.volume=b*2;w(this)},muted:function(b){if(typeof b!==
"boolean")return this.apiElem.audio.mute;this.apiElem.audio.mute=b;w(this)}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=true;else{var b=this;a(b.element).one("playing.enterFullscreen",function(){b.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},g));a.multimediaSupport.add("vlc","audio",g)})(jQuery);
