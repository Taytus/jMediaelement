/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function t(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function u(c){if(a.support.mediaElements){var e=a.data(this,"mediaElemSupport");if(e&&e.apis){c&&c.type&&a.data(this,"calledMediaError",false);e=e.apis;c=this;var i=a.attr(this,"srces");if(c.error||i.length&&!e.nativ.canPlaySrces(i)){a.event.special.mediaerror.handler.call(this,a.Event("mediaerror"));try{c.pause()}catch(o){}}a("source",this).unbind("error",t).filter(":last").bind("error",
t)}}}function x(c){var e=c.indexOf("?")+1,i="";c=e?c.substring(0,e):c;e=c.lastIndexOf(".")+1;return i=c.substr(e)}function q(c,e){var i=c.nodeName.toLowerCase();e=l.getSuitedPlayers(c,e.apiOrder);var o=a.data(c,"mediaElemSupport");if(e){if(e!=="noSource")if(l._setAPIActive(c,e.name))o.apis[e.name]._mmload&&o.apis[e.name]._mmload(e.src,a.attr(c,"poster"));else l._embedApi(c,e,o,i)}else{o.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(r){}}}a.multimediaSupport={};var l=a.multimediaSupport,
j=(new Date).getTime(),b=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var g=a.attr,f=/video|audio|source/i,d={src:1,poster:1},h={loop:1,autoplay:1,controls:1},n={srces:1,getConfig:1,preload:1},p={auto:1,metadata:1,none:1};a.attr=function(c,e,i,o){if(!(c.nodeName&&f.test(c.nodeName)&&(n[e]||l.attrFns[e]||h[e]||d[e])))return g(c,e,i,o);var r=i!==undefined,w,m;if(l.attrFns[e])if(w=a.data(c,
"mediaElemSupport")){m=w.apis[w.name][e](i,o);if(!r)return m}else return g(c,e,i,o);if(r)if(h[e]){i=!!i;if(c[e]=i){c[e]=i;c.setAttribute(e,e)}else{c[e]=i;c.removeAttribute(e)}}else if(d[e])c.setAttribute(e,i);else if(e==="srces"){a("source, a.source",c).remove();c.removeAttribute("src");i=a.isArray(i)?i:[i];a.each(i,function(v,y){m=b.createElement("source");if(typeof y==="string")y={src:y};m.setAttribute("src",y.src);y.type&&m.setAttribute("type",y.type);y.media&&m.setAttribute("media",y.media);c.appendChild(m)})}else if(e===
"getConfig")a.each(i,function(v,y){a.attr(c,v,y)});else e==="preload"&&p[i]&&c.setAttribute(e,i);else{if(h[e])return typeof c[e]==="boolean"?c[e]:!!(c.attributes[e]||{}).specified;if(d[e])return a.support.video&&c[e]||l.makeAbsURI(c.getAttribute(e));switch(e){case "srces":if(m=a.attr(c,"src"))m=[{src:m,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{m=[];a("source",c).each(function(){m.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});
m.length||a("a.source",c).each(function(){m.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;case "getConfig":m={};a.each(["autoplay","loop","controls","poster","preload"],function(v,y){m[y]=a.attr(c,y)});break;case "preload":m=c.getAttribute("preload");p[m]||(m="auto");break}return m}};a.event.special.mediaerror={setup:function(){var c=a(this).bind("error",a.event.special.mediaerror.handler).bind("native_mediareset",u);setTimeout(function(){c.each(u)},
0)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",t)},handler:function(c){if(!a.data(this,"calledMediaError")){c=a.extend({},c||{},{type:"mediaerror"});a.data(this,"calledMediaError",true);return a.event.handle.apply(this,arguments)}}};var k={audio:{"application/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp",
"3gpp"]},video:{"application/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"]}};a.extend(l,{registerMimetype:function(c,e){arguments.length===1?a.each(k,function(i){l.registerMimetype(i,c)}):a.each(e,function(i,o){if(k[c][i])k[c][i]=[];k[c][i]=k[c][i].concat(o)})},_showMimeTypes:function(){window.console&&console.log(k)},
attrFns:{},add:function(c,e,i){if(!this.apis[e][c]){this.apis[e][c]=l.beget(this.fn);c!=="nativ"&&a.inArray(c,a.fn.mediaElementEmbed.defaults.apiOrder)===-1&&a.fn.mediaElementEmbed.defaults.apiOrder.push(c)}a.extend(true,this.apis[e][c],i)},fn:{_init:a.noop,canPlayType:function(c){var e=this.apiElem,i;if(e&&e.canPlayType){i=e.canPlayType(c);return i==="no"?"":i}c=l.extractContainerCodecsFormType(c);var o=this;i="probably";if(!c[1])return this.canPlayContainer&&a.inArray(c[0],this.canPlayContainer)!==
-1?"maybe":"";a.each(c[1],function(r,w){if(!o.canPlayCodecs||a.inArray(w,o.canPlayCodecs)===-1){i="";return false}});return i},canPlaySrc:function(c){var e=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);c=c.src}var i=x(c),o="";a.each(k[this.nodeName],function(r,w){if(a.inArray(i,w)!==-1){o=e.canPlayType(r);return false}});return o},canPlaySrces:function(c){c=c||a.attr(this.element,"srces");a.isArray(c)||(c=[c]);var e=this,i=false,o="";a.each(c,function(r,w){if(i=e.canPlaySrc(w)){o=
w;return false}});return o},_setActive:a.noop,_setInactive:a.noop,_trigger:function(c){a(this.element).triggerHandler(c,c)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&c[1].indexOf("codecs")!==-1)c[1]=c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=a('<a href="'+c+'"></a>')[0].href;return c}}(),beget:function(c){var e=function(){};e.prototype=
c;return new e},_create:function(c,e,i,o){var r=a.data(i,"mediaElemSupport")||a.data(i,"mediaElemSupport",{apis:{},nodeName:c});if(!r.apis[e]){r.apis[e]=l.beget(l.apis[c][e]);r.apis[e].element=i;r.apis[e].nodeName=c;r.apis[e].name=e;r.apis[e].data={};r.apis[e].embedOpts=o}return r},_setAPIActive:function(c,e){var i=a.data(c,"mediaElemSupport"),o=i.name;if(o===e)return true;var r=i.apis[o].apiElem,w=i.apis[e]&&i.apis[e].apiElem,m=false;if(w&&w.nodeName){if(i.nodeName!=="audio"||a.attr(c,"controls"))e===
"nativ"?i.apis[e].visualElem.css({display:""}):i.apis[e].visualElem.css({width:i.apis[o].visualElem.width(),height:i.apis[o].visualElem.height(),visibility:""});i.apis[e]._setActive(o);m=true;i.apis[e]._trigger({type:"apiActivated",api:e})}i.apis[e].isAPIActive=true;if(r&&r.nodeName){if(o==="nativ")r.style.display="none";else i.apis[o].visualElem.css({height:0,width:0,visibility:"hidden"});i.apis[o]._setInactive(e);i.apis[o].isAPIActive=false;i.apis[e]._trigger({type:"apiDeActivated",api:o})}i.name=
e;return m},getSuitedPlayers:function(c,e){var i=a.data(c,"mediaElemSupport");if(i&&i.apis){i=i.apis;var o=a.attr(c,"srces"),r=false,w=function(m,v){if(!(typeof v.isTechAvailable==="boolean"&&!v.isTechAvailable||a.isFunction(v.isTechAvailable)&&!v.isTechAvailable())){if(v=v.canPlaySrces(o))r={src:v.src||v,name:m};return r}};if(!o.length)return"noSource";e?a.each(e,function(m,v){return!w(v,i[v])}):a.each(i,function(m,v){return!w(m,v)});return r}},_embedApi:function(c,e,i){var o=a.attr(c,"getConfig"),
r=a(c),w=c.id;if(!w){j++;w=i.nodeName+"-"+j;c.id=w}i.apis[e.name].visualElem=a('<div class="media-element-box mm-'+i.nodeName+'-box" />').insertBefore(c);i.nodeName==="audio"&&!o.controls?i.apis[e.name].visualElem.css({height:0,width:0,overflow:"hidden"}):i.apis[e.name].visualElem.css({width:r.width(),height:r.height()});i.apis[e.name]._embed(e.src,i.name+"-"+w,o,function(m){i.apis[e.name].apiElem=m;a(m).addClass(i.nodeName);i.apis[e.name]._init();i.apis[e.name]._trigger({type:"apiActivated",api:e.name})})},
getPluginVersion:function(c,e){e=e||navigator.plugins&&navigator.plugins[c];c=[-1,0];if(e)if((e=(e.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&e[0]){c[0]=e[0];if(e[1])c[0]+="."+e[1];c[0]=parseFloat(c[0],10);if(e[2])c[1]=parseInt(e[2],10)}return c},embedObject:function(c,e,i,o,r,w){c=a("<div />").appendTo(c)[0];var m;if(navigator.plugins&&navigator.plugins[w]){m=b.createElement("object");a.each(i,function(v,y){m.setAttribute(v,y)});a.each(o,function(v,y){var z=b.createElement("param");
z.setAttribute("name",v);z.setAttribute("value",y);m.appendChild(z)});m.setAttribute("id",e);m.setAttribute("name",e);c.parentNode.replaceChild(m,c)}else if(window.ActiveXObject){m="<object";a.each(a.extend({},i,r),function(v,y){m+=" "+v+'="'+y+'"'});m+=' name="'+e+'"';m+=' id="'+e+'"';m+=">";a.each(o,function(v,y){m+=' <param name="'+v+'" value="'+y+'" />'});m+="</object>";c.outerHTML=m;m=b.getElementById(e)}if(m){m.setAttribute("width","100%");m.setAttribute("height","100%")}a(window).unload(function(){jQuery.cleanData([m]);
m=null});setTimeout(function(){if(m&&m.setAttribute){m.setAttribute("width","100%");m.setAttribute("height","100%")}},0);return m}});l.add("nativ","video",{});l.add("nativ","audio",{});a.fn.mediaElementEmbed=function(c){c=a.extend(true,{},a.fn.mediaElementEmbed.defaults,c);return this.each(function(){var e=this.nodeName.toLowerCase();if(!(e!=="video"&&e!=="audio")){var i=this;c.removeControls&&a.attr(this,"controls",false);var o=l._create(e,"nativ",this,c);o.name="nativ";o.apis.nativ.apiElem=this;
o.apis.nativ.visualElem=a(this);o.apis.nativ.isAPIActive=true;a.each(l.apis[e],function(r){r!=="nativ"&&l._create(e,r,i,c)});c.showFallback&&a.support.mediaElements&&a(this).bind("totalerror",function(){a(this).hide().children(":not(source, itext)").insertAfter(this)});if(c.debug||!a.support.mediaElements){q(this,c);o.apis.nativ.isAPIReady=true}else o.apis.nativ._init();a(this).bind("mediaerror",function(){o.name==="nativ"&&q(this,c)})}})};a.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,
showFallback:false,apiOrder:[]};if(a.cleanData&&window.ActiveXObject){var s=a.cleanData;a.cleanData=function(c){s(c);for(var e=0,i=c.length;e<i;e++)if(c[e].nodeName==="OBJECT")try{for(var o in c[e])if(typeof c[e][o]==="function")c[e][o]=null}catch(r){}}}})(jQuery);
(function(a){var t=document.createElement("video"),u=a.multimediaSupport,x={apiActivated:1,apiDeActivated:1,mediareset:1,totalerror:1},q={native_mediareset:1,timechange:1,progresschange:1},l={};if("enterFullScreen"in t&&t.supportsFullscreen){a.support.videoFullscreen=true;l.enter="enterFullScreen";l.exit="exitFullScreen"}else a.each(["webkit","moz","o","ms"],function(d,h){if(h+"EnterFullScreen"in t&&t[h+"SupportsFullscreen"]){a.support.videoFullscreen=true;l.enter=h+"EnterFullScreen";l.exit=h+"ExitFullScreen";
return false}});t=null;a.extend(u,{formatTime:function(d){return a.map([parseInt(d/60,10),parseInt(d%60,10)],function(h){return isNaN(h)?"--":h<10?"0"+h:h}).join(":")}});a.event.special.loadedmeta={add:function(d){var h=a(this).getMMAPI();if(h&&h.loadedmeta){h=a.extend({},h.loadedmeta);d.handler.call(this,h,h)}}};a.extend(u.fn,{_trigger:function(d){var h=d.type?d:{type:d},n=h.type;switch(n){case "mmAPIReady":if(this.isAPIReady)return;this.isAPIReady=true;break;case "loadedmeta":this.loadedmeta=h;
break;case "totalerror":this.totalerror=true;break;case "mediareset":this.totalerror=this.loadedmeta=false;break}if(!(!this.isAPIActive||this.totalerror&&!x[n])){!this.isAPIReady&&!x[n]&&this._trigger("mmAPIReady");if(d.type==="progresschange"){d.relStart=d.relStart||0;if(this._concerningBufferStart!==d.relStart){this._concerningBufferStart=d.relStart;this._trigger({type:"bufferrange",relStart:d.relStart,relLoaded:d.relLoaded})}}d.target=this.element;d=a.Event(d);d.preventDefault();h.mediaAPI=this.name;
q[n]&&d.stopPropagation();a.event.trigger(d,h,this.element)}},supportsFullScreen:function(){return this._videoFullscreen||false},enterFullscreen:a.noop,exitFullscreen:a.noop,isAPIReady:false,relCurrentTime:function(d){var h=this.getDuration()||Number.MIN_VALUE;d&&isFinite(d)&&this.currentTime(h*d/100);return this.currentTime()/h*100},getMediaAPI:function(){return this.mediaAPI},togglePlay:function(){this[this.isPlaying()?"pause":"play"]()},toggleMuted:function(){this.muted(!this.muted())},getMMVisual:function(){return this.visualElem},
onAPIReady:function(d,h){var n={type:"mmAPIReady"};if(this.isAPIReady)d.call(this.element,n,n);else{h=h||"jmediaelement";a(this.element).one("mmAPIReady."+h,d)}},unAPIReady:function(d){a(this.element).unbind("mmAPIReady."+d)},_format:u.formatTime,getFormattedDuration:function(){return this._format(this.getDuration())},getFormattedTime:function(){return this._format(this.currentTime())},loadSrc:function(d,h){if(d){a.attr(this.element,"srces",d);d=a.isArray(d)?d:[d]}else d=a.attr(this.element,"srces");
if(h!==undefined)h?a.attr(this.element,"poster",h):a(this.element).removeAttr("poster");else h=a.attr(this.element,"poster");this._isResetting=true;d=this.canPlaySrces(d);this._trigger("mediareset");if(d){d=d.src||d;this._mmload(d,h)}else{u._setAPIActive(this.element,"nativ");this._trigger("native_mediareset");a(this.element).data("mediaElemSupport").apis.nativ._mmload()}this._isResetting=false},isPlaying:function(){return this._isResetting?false:this._isPlaying()}});var j=function(d){var h,n=function(){for(var k=
d.element.currentTime,s=d.element.buffered,c=s.length,e={},i=0;i<c;i++){e.start=s.start(i);e.end=s.end(i);if(e.start<=k&&e.end>=k)break}return e},p=function(k){var s={type:"progresschange"},c;if(this.buffered&&this.buffered.length){if(k=this.duration){c=n();s.relStart=c.start/k*100;s.relLoaded=c.end/k*100}d._trigger(s)}else if(k.originalEvent&&"lengthComputable"in k.originalEvent&&k.originalEvent.loaded){if(k.originalEvent.lengthComputable&&k.originalEvent.total){s.relStart=0;s.relLoaded=k.originalEvent.loaded/
k.originalEvent.total*100}if(!h){a(this).unbind(k.type==="load"?"progress":"load",p);h=true}d._trigger(s)}};a(d.element).bind("progress load",p)},b={isTechAvailable:a.support.mediaElements,_init:function(){var d=this,h=this.apiElem.muted,n=false,p=function(){n=true};j(this);a(this.element).bind({volumechange:function(){if(h!==d.apiElem.muted){h=d.apiElem.muted;d._trigger.call(d,{type:"mute",isMuted:h})}else d._trigger.call(d,{type:"volumelevelchange",volumelevel:d.apiElem.volume*100})},timeupdate:function(){var k=
{type:"timechange",time:this.currentTime};if(this.duration){k.duration=this.duration;k.timeProgress=k.time/k.duration*100}d._trigger(k)},loadedmetadata:function(){d._trigger({type:"loadedmeta",duration:this.duration})}}).one("mediaerror",p);if(this.element.readyState>0&&!this.element.error){a(d.element).unbind("mediaerror",p);this._trigger({type:"loadedmeta",duration:this.element.duration})}else if(a.attr(this.element,"preload")==="none"&&!a.attr(this.element,"autoplay")||!a.attr(this.element,"srces").length)this._trigger("mmAPIReady")},
play:function(){this.element.play()},pause:function(){this.element.pause()},muted:function(d){if(typeof d==="boolean")this.element.muted=d;return this.element.muted},volume:function(d){if(isFinite(d))this.element.volume=d/100;return this.element.volume*100},currentTime:function(d){if(isFinite(d))try{this.element.currentTime=d}catch(h){}return this.element.currentTime},_mmload:function(){this.element.load?this.element.load():a(this.element).triggerHandler("error")},_isPlaying:function(){return!this.element.paused&&
this.element.readyState>2&&!this.error&&!this.ended},getDuration:function(){return this.element.duration},getCurrentSrc:function(){return this.element.currentSrc}};u.add("nativ","video",a.extend({_videoFullscreen:a.support.videoFullscreen,enterFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[l.enter]()}catch(d){}},exitFullScreen:function(){if(!this._videoFullscreen)return false;try{this.element[l.exit]()}catch(d){}}},b));u.add("nativ","audio",b);a.fn.getMMAPI=function(d){if(this[0]){var h=
a.data(this[0],"mediaElemSupport");return d||!h||!h.name||!h.apis?h:h.apis[h.name]}};var g={onAPIReady:1,loadSrc:1};u.registerAPI=function(d){if(typeof d==="string")d=[d];a.each(d,function(h,n){if((h=u.apis.video.nativ[n])&&a.isFunction(h)&&n.indexOf("_")!==0){u.attrFns[n]=true;a.fn[n]||(a.fn[n]=function(){var p=arguments,k;this.each(function(){var s=a(this).getMMAPI();if(s)if(s.isAPIReady&&!s.totalerror||g[n])k=s[n].apply(s,p);else{s.unAPIReady(n+"queue");s.onAPIReady.call(s,function(){s[n].apply(s,
p)},n+"queue")}});return k===undefined?this:k})}})};var f=[];a.each(u.apis.video.nativ,function(d){f.push(d)});u.registerAPI(f);u.fn._extend=function(d){var h=[];a.each(d,function(n,p){u.fn[n]=p;h.push(n)});u.registerAPI(h)}})(jQuery);
(function(a){function t(b,g){b=a(b);var f={},d=b.attr("data-controls");f.mm=d?a("#"+d):a("video, audio",b).filter(":first");f.api=f.mm.getMMAPI(true)||f.mm.mediaElementEmbed(g.embed).getMMAPI(true);if(b.is(g.controlSel))f.controls=b;if(!f.controls||f.controls.hasClass(g.classPrefix+"media-controls")){f.controlsgroup=b;f.api.controlWrapper=f.api.controlWrapper?f.api.controlWrapper.add(b):b;f.controls=f.controls?a(g.controlSel,b).add(f.controls):a(g.controlSel,b);f.api.controlBar=f.controls.filter("."+
g.classPrefix+"media-controls")}return f}function u(b,g,f,d){var h=d.classPrefix+"playing "+d.classPrefix+"totalerror "+d.classPrefix+"waiting",n=function(){b.removeClass(h)};b.addClass(d.classPrefix+f.name).bind({apiActivated:function(p,k){b.addClass(d.classPrefix+k.api)},apiDeActivated:function(p,k){b.removeClass(d.classPrefix+k.api)}}).bind("playing totalerror waiting",function(p){n();b.addClass(d.classPrefix+p.type)}).bind("pause ended mediareset",function(){n()}).bind("canplay canplaythrough",
function(){b.removeClass(d.classPrefix+"waiting")});a.ui&&a.ui.keyCode&&b.bind("keydown",function(p){if(j[p.keyCode]){if(!a(p.target).is(".ui-slider-handle")){var k=5;switch(p.keyCode){case a.ui.keyCode.UP:if(p.ctrlKey)k+=5;f.apis[f.name].volume(Math.min(100,f.apis[f.name].volume()+k));break;case a.ui.keyCode.DOWN:if(p.ctrlKey)k+=5;f.apis[f.name].volume(Math.max(0,f.apis[f.name].volume()-k));break;case a.ui.keyCode.LEFT:if(p.ctrlKey)k+=55;f.apis[f.name].currentTime(Math.max(0,f.apis[f.name].currentTime()-
k));break;case a.ui.keyCode.RIGHT:if(p.ctrlKey)k+=55;f.apis[f.name].currentTime(Math.min(f.apis[f.name].getDuration(),f.apis[f.name].currentTime()+k));break}p.preventDefault()}}else if(p.keyCode===a.ui.keyCode.SPACE&&!a.nodeName(p.target,"button")){f.apis[f.name].togglePlay();p.preventDefault()}})}var x=/\s*\/\s*|\s*\|\s*/,q=a.fn.a11ySlider?"a11ySlider":"slider",l={"timeline-slider":function(b,g,f,d){function h(k,s){s.timeProgress!==undefined&&!p&&b[q]("value",s.timeProgress)}function n(){f.apis[f.name].loadedmeta&&
f.apis[f.name].loadedmeta.duration?b[q]("option","disabled",false):b[q]("option","disabled",true)}var p=false;b[q](d.timeSlider)[q]("option","disabled",true);f.apis[f.name].onAPIReady(function(){g.bind("loadedmeta",n).bind("timechange",h).bind("mediareset",function(){b[q]("value",0);n()}).bind("ended",function(){b[q]("value",100)});b.bind("slidestart",function(k){if(k.originalEvent)p=true}).bind("slidestop",function(){p=false}).bind("slide",function(k,s){k.originalEvent&&f.apis[f.name].relCurrentTime(s.value)});
n()})},"volume-slider":function(b,g,f,d){function h(p,k){n||b[q]("value",k.volumelevel)}var n=false;b[q](d.volumeSlider)[q]("option","disabled",true);f.apis[f.name].onAPIReady(function(){g.bind("volumelevelchange",h);b.bind("slidestart",function(p){if(p.originalEvent)n=true}).bind("slidestop",function(){n=false}).bind("slide",function(p,k){p.originalEvent&&f.apis[f.name].volume(k.value)});b[q]("option","disabled",false);b[q]("value",g.volume()||100)})},progressbar:function(b,g,f,d){function h(p,k){"relLoaded"in
k?b.progressbar("option","disabled",false).progressbar("value",k.relLoaded):b.progressbar("option","disabled",true)}function n(){b.progressbar("option","disabled",true).progressbar("value",0)}b.progressbar(d.progressbar).progressbar("option","disabled",true);f.apis[f.name].onAPIReady(function(){g.bind("progresschange",h).bind("mediareset",n)},"one")},duration:function(b,g,f,d){d.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");g.bind("loadedmeta",function(h,n){b.html(f.apis[f.name]._format(n.duration))}).bind("mediareset",
function(){b.html("--:--")});f.apis[f.name].onAPIReady(function(){b.html(f.apis[f.name].getFormattedDuration())})},"current-time":function(b,g,f,d){d.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");g.bind("timechange",function(h,n){b.html(f.apis[f.name]._format(n.time))}).bind("mediareset",function(){b.html("--:--")});f.apis[f.name].onAPIReady(function(){b.html(f.apis[f.name].getFormattedTime())})},"media-controls":function(b,g,f,d){function h(){var k=b.innerWidth()+
d.mediaControls.timeSliderAdjust,s=n.outerWidth(true)-n.innerWidth();a("> *",b).each(function(){if(n[0]!==this&&this.offsetWidth&&a.curCSS(this,"position")!=="absolute"&&(!d.excludeSel||!a(this).is(d.excludeSel)))s+=a(this).outerWidth(true)});n.css("width",k-s)}d.addThemeRoller&&b.addClass("ui-widget ui-widget-header ui-corner-all");if(d.mediaControls.dynamicTimeslider){var n=a("."+d.classPrefix+"timeline-slider",b),p=setTimeout(h,0);f.apis[f.name].onAPIReady(function(){clearInterval(p);setTimeout(h,
0)},"one");a(window).bind("resize",h);g.bind("resize emchange",h)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended loadedmeta mediareset",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(b,g){l[b]=function(f,d,h,n){function p(){if(d[g.stateMethod]()){k.text.text(k.names[1]);k.icon.addClass(g.trueClass).removeClass(g.falseClass)}else{k.text.text(k.names[0]);
k.icon.addClass(g.falseClass).removeClass(g.trueClass)}}var k=a.fn.registerMMControl.getBtn(f);n.addThemeRoller&&f.addClass("ui-state-default ui-corner-all");h.apis[h.name].onAPIReady(function(){d.bind(g.evts,p);p()});f.bind("click",function(s){h.apis[h.name][g.actionMethod]();s.preventDefault()})}});var j={40:true,37:true,39:true,38:true};a.fn.registerMMControl=function(b){function g(){var f=t(this,b);f.api.controls=f.api.controls||[];if(f.api){f.controls.each(function(){var d=a(this);if(a.inArray(this,
f.api.controls)===-1){f.api.controls.push(this);a.each(l,function(h,n){if(d.hasClass(b.classPrefix+h)){n(d,f.mm,f.api,b);return false}})}});f.controlsgroup&&f.controlsgroup[0]&&u(f.controlsgroup,f.mm,f.api,b)}}b=a.extend(true,{},a.fn.registerMMControl.defaults,b);b.controlSel=[];a.each(l,function(f){f!=="media-controls"&&b.controlSel.push("."+b.classPrefix+f)});b.controlSel.push("."+b.classPrefix+"media-controls");b.controlSel=b.controlSel.join(", ");return this.each(g)};a.fn.registerMMControl.defaults=
{embed:a.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0,excludeSel:false},progressbar:{},volumeSlider:{},timeSlider:{}};a.fn.registerMMControl.getBtn=function(b){var g={icon:a(".ui-icon",b),text:a(".button-text",b)};if(!g.icon[0]&&!g.text[0]&&!a("*",b)[0]){g.icon=b;g.text=b}g.names=g.text.text().split(x);if(g.names.length!==2)g.text=a([]);return g};a.fn.registerMMControl.addControl=function(b,g){l[b]=g}})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var t={type:"application/x-shockwave-flash"},u={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},x=a.multimediaSupport;(function(){a.support.flash9=false;var l=x.getPluginVersion("Shockwave Flash"),j=function(g){a.support.flash9=false;try{g=x.getPluginVersion("",{description:g.GetVariable("$version")});a.support.flash9=!!(g[0]>9||g[0]===
9&&g[1]>=115)}catch(f){}};if(l[0]>9||l[0]===9&&l[1]>=115){a.support.flash9=true;a(function(){l=a("<object />",t).appendTo("body");j(l[0]);l.remove()})}else if(window.ActiveXObject)try{l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");j(l);l=null}catch(b){}})();var q={isTechAvailable:function(){return a.support.flash9},_embed:function(l,j,b,g){var f=this.embedOpts.jwPlayer;l=a.extend({},f.vars,{file:l,id:j});var d=a.extend({name:j,data:f.path},f.attrs,t),h=a.extend({movie:f.path},f.params);if(b.poster)l.image=
b.poster;l.autostart=""+b.autoplay;l.repeat=b.loop?"single":"false";l.controlbar=b.controls?"bottom":"none";h.flashvars=[];a.each(l,function(n,p){h.flashvars.push(n+"="+p)});h.flashvars=h.flashvars.join("&");g(x.embedObject(this.visualElem[0],j,d,h,u,"Shockwave Flash"))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3",
"audio/x-fla","audio/fla"]};x.add("jwPlayer","video",q);x.add("jwPlayer","audio",q)})(jQuery);
(function(a){function t(j){j=j.replace(x,"");return a.data(u.getElementById(j),"mediaElemSupport").apis.jwPlayer}var u=document,x=/^jwPlayer-/,q={View:{PLAY:function(j){(j=j.state&&t(j.id))&&j._trigger("play")}},Model:{META:function(j){if(j.type==="metadata"){var b=t(j.id);b&&b._trigger({type:"loadedmeta",duration:j.duration})}},TIME:function(j){var b=t(j.id),g={type:"timechange",time:j.position};if(b){b.loadedmeta||b._trigger({type:"loadedmeta",duration:j.duration});b.currentPos=j.position;if(j.duration){g.duration=
j.duration;g.timeProgress=j.position/j.duration*100}b._trigger(g)}},STATE:function(j){if(j.newstate==="IDLE")return false;var b=t(j.id),g;if(!b)return false;switch(j.newstate){case "PLAYING":g="playing";break;case "PAUSED":g="pause";break;case "COMPLETED":g="ended";break;case "BUFFERING":g="waiting";break}g&&b._trigger(g);return g}},Controller:{VOLUME:function(j){var b=t(j.id);b&&b._trigger({type:"volumelevelchange",volumelevel:j.percentage})},MUTE:function(j){var b=t(j.id);b&&b._trigger({type:"mute",
isMuted:j.state})}}};window.jwEvents={four:a.extend(true,{},q,{Model:{LOADED:function(j){var b=t(j.id);if(b){var g={type:"progresschange",lengthComputable:!!j.total};if(j.total){a.extend(g,{relLoaded:j.total/j.loaded*100});b._buffered=g.relLoaded}b._trigger(g)}}}}),five:a.extend(true,{},q,{Model:{BUFFER:function(j){var b=t(j.id);if(b){var g={type:"progresschange",relLoaded:j.percentage,relStart:0};b._buffered=j.percentage;b._trigger(g)}},STATE:function(j){if(q.Model.STATE(j)==="playing")(j=t(j.id))&&
j._trigger("play")}}})};window.playerReady=function(j){var b=t(j.id);if(b){if(b.isAPIReady){if(b.apiElem.sendEvent)b._lastLoad&&b._mmload(b._lastLoad.file,b._lastLoad.image);else{b._reInit();return}b._trigger("flashRefresh")}var g=parseInt(j.version,10)>4?"five":"four";a.each(jwEvents[g],function(f,d){a.each(d,function(h){b.apiElem["add"+f+"Listener"](h,"jwEvents."+g+"."+f+"."+h)})});setTimeout(function(){var f=a.attr(b.element,"getConfig");if(!f.autoplay)if(b.nodeName==="audio"&&f.preload==="metadata"){b.apiElem.sendEvent("PLAY",
"true");b.apiElem.sendEvent("PLAY","false")}else b.nodeName==="video"&&f.preload!=="none"&&!f.poster&&b.currentTime(0);b._trigger("mmAPIReady")},0)}};var l={_init:function(){this._buffered=this._buffered||0},_reInitCount:0,_reInitTimer:false,_reInit:function(){var j=this;if(this._reInitCount<5){var b=this.visualElem[0].style.overflow;this.visualElem[0].style.overflow="hidden";setTimeout(function(){j.visualElem[0].style.overflow="visible";j.visualElem[0].style.overflow=b},0)}this._reInitCount++;if(!this._reInitTimer){this._reInitTimer=
true;setTimeout(function(){j._reInitCount=0;j._reInitTimer=false},2E4)}},play:function(){this.apiElem.sendEvent("PLAY","true");this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},_isPlaying:function(){var j=this.apiElem.getConfig();return j?j.state==="PLAYING":undefined},_mmload:function(j,b){this._lastLoad={file:j,image:b||false};this.apiElem.sendEvent("LOAD",this._lastLoad);this.isAPIActive&&a.attr(this.element,"autoplay")?this.apiElem.sendEvent("PLAY","true"):this.apiElem.sendEvent("PLAY",
"false")},muted:function(j){if(typeof j!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",j?"true":false)},_isSeekable:function(j){var b=this.getCurrentSrc();if(this._buffered===100||b.indexOf("http")!==0&&b.indexOf("file")!==0)return true;b=this.getDuration();if(!b)return false;return j/b*100<this._buffered},currentTime:function(j){if(!isFinite(j))return this.currentPos||0;var b=this,g=/PLAYING|BUFFERING/.test(this.apiElem.getConfig().state),f=function(){b.apiElem.sendEvent("SEEK",
j);g||b.apiElem.sendEvent("PLAY","false");b.currentPos=j;b._trigger({type:"timechange",time:j})},d=function(){a(b.element).unbind(".jwseekrequest")};if(!g){this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("PLAY","false")}clearTimeout(this._seekrequestTimer);d();if(this._isSeekable(j))f();else{this.apiElem.sendEvent("PLAY","false");this._trigger("waiting");a(this.element).bind("progresschange.jwseekrequest",function(){if(b._isSeekable(j)){var h=b.muted();d();clearTimeout(b._seekrequestTimer);
b.muted(true);b.apiElem.sendEvent("PLAY","true");b._seekrequestTimer=setTimeout(f,40);b.muted(h)}}).bind("mediareset.jwseekrequest",d).bind("play.jwseekrequest",function(){b.apiElem.sendEvent("PLAY","false");b._trigger("waiting");g=true}).bind("pause.jwseekrequest",function(){g=false});this._seekrequestTimer=setTimeout(function(){a(b.element).unbind("play.jwseekrequest").unbind("pause.jwseekrequest").bind("play.jwseekrequest",d).bind("pause.jwseekrequest",d)},999)}},getDuration:function(){var j=this.apiElem.getPlaylist()[0].duration||
0;return j<0?0:j},volume:function(j){if(!isFinite(j))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+j)},getCurrentSrc:function(){return(this.apiElem.getConfig()||{}).file||""}};a.multimediaSupport.add("jwPlayer","video",l);a.multimediaSupport.add("jwPlayer","audio",l)})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var t=a.multimediaSupport,u={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"True",type:"application/x-vlc-plugin"},x={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},q={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(t.getPluginVersion("VLC Multimedia Plug-in")[0]>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(l){}return a.support.vlc},_embed:function(l,j,b,g){var f=this.embedOpts.vlc,d=a.extend({},f.attrs,{data:l},u);b=a.extend({},f.params,{Src:l,ShowDisplay:"True",autoplay:""+b.autoplay,autoloop:""+b.loop});j=t.embedObject(this.visualElem[0],j,d,b,x,"VLC Multimedia Plug-in");this._currentSrc=l;g(j)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4",
"video/m4p","video/x-flv","video/flv","audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};t.add("vlc","video",q);t.add("vlc","audio",q)})(jQuery);
(function(a){function t(b){function g(){try{if(b.apiElem.input){u("mmAPIReady",b);clearInterval(f);if(a.attr(b.element,"autoplay"))q.start(b);else{b.apiElem.playlist.stop();setTimeout(function(){b.apiElem.playlist.stop()},0)}}}catch(d){}}var f;clearInterval(f);f=setInterval(g,333);g()}function u(b,g){setTimeout(function(){g._trigger(b)},0)}function x(b){setTimeout(function(){b._intervalCheck()},9)}var q={start:function(b){q.end(b);b._intervalCheckTimer=setInterval(function(){b._intervalCheck.call(b)},
1E3)},end:function(b){b._intervalCheckTimer&&clearInterval(b._intervalCheckTimer)}},l={2:"waiting",3:"playing",4:"pause",6:"ended"},j={_init:function(){t(this)},_intervalCheck:function(){var b=this.apiElem,g=b.input.state,f=this,d={type:"loadedmeta",duration:b.input.length/1E3},h;if(g&&g>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==d.duration){u(d,f);this.data.metaLoaded=d}h={type:"timechange",time:b.input.time/1E3};if(g&&g>1&&this.data.time!==h.time){if(d.duration){h.duration=
d.duration;h.timeProgress=b.input.position*100}this.data.time=h.time;u(h,f)}h={type:"mute",isMuted:b.audio.mute};if(h.isMuted!==this.data.isMuted){this.data.isMuted=h.isMuted;u(h,f)}h={type:"volumelevelchange",volumelevel:b.audio.volume/2};if(h.volumelevel!==this.data.volumelevel){this.data.volumelevel=h.volumelevel;u(h,f)}if(g!==this.data.state){this.data.state=g;l[g]&&u(l[g],f);l[g]==="ended"&&b.playlist.stop();if(g===3)q.start(f);else if(g===4||g===5||g===6||g===7)q.end(f)}},play:function(){this.apiElem.playlist.play();
this._trigger("play");q.start(this);x(this)},pause:function(){if(l[this.apiElem.input.state]==="playing"){q.end(this);this.apiElem.playlist.togglePause();x(this)}},_isPlaying:function(){var b=false;try{b=l[this.apiElem.input.state]==="playing"}catch(g){}return b},_mmload:function(b){a(this.element).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};var g=this.apiElem.playlist.add(b," ",":no-video-title-show");this._currentSrc=b;this.apiElem.playlist.playItem(g);this.apiElem.playlist.items.clear();
if(!a.attr(this.element,"autoplay")){q.end(this);this.apiElem.playlist.stop()}},getCurrentSrc:function(){return this._currentSrc},currentTime:function(b){try{if(!isFinite(b))return this.apiElem.input.time/1E3;this.apiElem.input.time=b*1E3;x(this)}catch(g){if(!isFinite(b))return 0}},getDuration:function(){var b;try{b=this.apiElem.input.length/1E3||0}catch(g){b=0}return b},volume:function(b){if(!isFinite(b))return parseInt(this.apiElem.audio.volume/2,10);this.apiElem.audio.volume=b*2;x(this)},muted:function(b){if(typeof b!==
"boolean")return this.apiElem.audio.mute;this.apiElem.audio.mute=b;x(this)}};a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this._isPlaying())this.apiElem.video.fullscreen=true;else{var b=this;a(b.element).one("playing.enterFullscreen",function(){b.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},j));a.multimediaSupport.add("vlc","audio",j)})(jQuery);
