/**!
 * Part of the jMediaelement-Project | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(a){function p(){a.event.special.mediaerror.handler.apply(a(this).closest("video, audio")[0],arguments)}function w(c){if(a.support.mediaElements){var e=a.data(this,"mediaElemSupport");if(e&&e.apis){e=e.apis;var g=this,j=a.attr(this,"srces");if(j.length&&!e.nativ.canPlaySrces(j)){setTimeout(function(){a(g).triggerHandler("mediaerror")},0);try{g.pause()}catch(o){}}c&&c.type==="emptied"&&c.orginalEvent&&c.orginalEvent.type==="emptied"&&a(this).unbind("loadstart",w);a("source",this).unbind("error",
p).filter(":last").bind("error",p)}}}function q(c){var e=c.indexOf("?")+1,g="";c=e?c.substring(0,e):c;e=c.lastIndexOf(".")+1;return g=c.substr(e)}function s(c,e){var g=c.nodeName.toLowerCase();e=b.getSuitedPlayers(c,e.apiOrder);var j=a.data(c,"mediaElemSupport");if(e){if(e!=="noSource")b.helper._setAPIActive(c,e.name)||b._embedApi(c,e,j,g)}else{j.apis.nativ._trigger({type:"totalerror"});try{c.pause()}catch(o){}}}function m(){a(this).trigger("multiMediaAPIIsReady")}jQuery.multimediaSupport={};var b=
a.multimediaSupport,d=(new Date).getTime(),f=document;a.support.video=!!a("<video />")[0].canPlayType;a.support.audio=!!a("<audio />")[0].canPlayType;a.support.mediaElements=a.support.video&&a.support.audio;var h=a.attr,l=/video|audio|source/i,i={src:true,poster:true},v={loop:true,autoplay:true,controls:true,autobuffer:true},t={srces:true,getConfig:true};a.attr=function(c,e,g,j){if(!(c.nodeName&&l.test(c.nodeName)&&(t[e]||a.multimediaSupport.attrFns[e]||v[e]||i[e])))return h(c,e,g,j);var o=g!==undefined,
k,n;if(a.multimediaSupport.attrFns[e])if(k=a.data(c,"mediaElemSupport")){n=k.apis[k.name][e](g,j);if(!o)return n}else return h(c,e,g,j);if(o)if(v[e]){g=!!g;(c[e]=g)?c.setAttribute(e,e):c.removeAttribute(e);c[e]=g}else if(i[e])c.setAttribute(e,g);else if(e==="srces"){a("source, a.source",c).remove();c.removeAttribute("src");g=a.isArray(g)?g:[g];a.each(g,function(r,x){n=f.createElement("source");if(typeof x==="string")x={src:x};n.setAttribute("src",x.src);x.type&&n.setAttribute("type",x.type);x.media&&
n.setAttribute("media",x.media);c.appendChild(n)})}else e==="getConfig"&&a.each(g,function(r,x){a.attr(c,r,x)});else{if(v[e])return typeof c[e]==="boolean"?c[e]:!!(c.attributes[e]||{}).specified;if(i[e])return a.support.video&&c[e]||b.helper.makeAbsURI(c.getAttribute(e));if(e==="srces"){if(n=a.attr(c,"src"))n=[{src:n,type:c.getAttribute("type"),media:c.getAttribute("media")}];else{n=[];a("source",c).each(function(){n.push({src:a.attr(this,"src"),type:this.getAttribute("type"),media:this.getAttribute("media")})});
n.length||a("a.source",c).each(function(){n.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}return n}if(e==="getConfig"){n={};a.each(["autobuffer","autoplay","loop","controls","poster"],function(r,x){n[x]=a.attr(c,x)});return n}}};a.event.special.mediaerror={setup:function(){a(this).bind("error",a.event.special.mediaerror.handler).each(w).bind("emtptied",w);a(this).bind("loadstart",w)},teardown:function(){a(this).unbind("error",a.event.special.mediaerror.handler).find("source").unbind("error",
p)},handler:function(c){c=a.extend({},c||{},{type:"mediaerror"});return a.event.handle.apply(this,arguments)}};var u={audio:{"application/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"]},video:{"application/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv",
"f4v"]}};a.extend(a.multimediaSupport,{registerMimetype:function(c,e){arguments.length===1?a.each(u,function(g){b.registerMimetype(g,c)}):a.each(e,function(g,j){if(u[c][g])u[c][g]=[];u[c][g]=u[c][g].concat(j)})},_showMimeTypes:function(){window.console&&console.log(u)},attrFns:{},add:function(c,e,g){if(!this.apis[e][c]){this.apis[e][c]=b.helper.beget(this.apiProto);c!=="nativ"&&a.inArray(c,a.fn.mediaElementEmbed.defaults.apiOrder)===-1&&a.fn.mediaElementEmbed.defaults.apiOrder.push(c)}a.extend(true,
this.apis[e][c],g)},apiProto:{_init:function(){},canPlayType:function(c){var e=this.apiElem;if(e&&e.canPlayType)return e.canPlayType(c);c=b.helper.extractContainerCodecsFormType(c);var g=this,j="probably";if(!c[1])return this.canPlayContainer&&a.inArray(c[0],this.canPlayContainer)!==-1?"maybe":"";a.each(c[1],function(o,k){if(!g.canPlayCodecs||a.inArray(k,g.canPlayCodecs)===-1){j="";return false}});return j},canPlaySrc:function(c){var e=this;if(typeof c!=="string"){if(c.type)return this.canPlayType(c.type);
c=c.src}var g=q(c),j="";a.each(u[this.nodeName],function(o,k){if(a.inArray(g,k)!==-1){j=e.canPlayType(o);return false}});return j},canPlaySrces:function(c){c=c||a.attr(this.html5elem,"srces");a.isArray(c)||(c=[c]);var e=this,g=false,j="";a.each(c,function(o,k){if(g=e.canPlaySrc(k)){j=k;return false}});return j},_setActive:function(){},_setInactive:function(){}},apis:{audio:{},video:{}},helper:{extractContainerCodecsFormType:function(c){c=c.split(/\s*;\s*/g);if(c[1]&&c[1].indexOf("codecs")!==-1)c[1]=
c[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return c},makeAbsURI:function(){return function(c){if(c&&typeof c==="string")c=a('<a href="'+c+'"></a>')[0].href;return c}}(),beget:function(c){var e=function(){};e.prototype=c;return new e},_create:function(c,e,g,j){var o=a.data(g,"mediaElemSupport")||a.data(g,"mediaElemSupport",{apis:{},nodeName:c});if(!o.apis[e]){o.apis[e]=b.helper.beget(b.apis[c][e]);o.apis[e].html5elem=g;o.apis[e].nodeName=c;o.apis[e].name=e;o.apis[e].data=
{};o.apis[e].embedOpts=j}return o},_setAPIActive:function(c,e){var g=a.data(c,"mediaElemSupport"),j=g.name;if(j===e)return true;var o=g.apis[j].apiElem,k=g.apis[e]&&g.apis[e].apiElem,n=false;if(k&&k.nodeName){if(g.nodeName!=="audio"||a.attr(c,"controls")){k.style.display="";e!=="nativ"&&g.apis[e].visualElem.css({width:a(g.apis[e].html5elem).width(),height:a(g.apis[e].html5elem).height(),visibility:""})}g.apis[e]._setActive(j);n=true}if(o&&o.nodeName){if(j==="nativ")o.style.display="none";else g.apis[j].visualElem.css({height:0,
width:0,overflow:"hidden",visibility:"hidden"});g.apis[j]._setInactive(e)}g.name=e;return n}},getSuitedPlayers:function(c,e){var g=a.data(c,"mediaElemSupport");if(g&&g.apis){g=g.apis;var j=a.attr(c,"srces"),o=false,k=function(n,r){if(!(!r.isTechAvailable||a.isFunction(r.isTechAvailable)&&!r.isTechAvailable())){if(r=r.canPlaySrces(j))o={src:r.src||r,name:n};return o}};if(!j.length)return"noSource";e?a.each(e,function(n,r){return!k(r,g[r])}):a.each(g,function(n,r){return!k(n,r)});return o}},_embedApi:function(c,
e,g){var j=a.attr(c,"getConfig"),o=a(c),k=c.id;if(!k){d++;k=g.nodeName+"-"+d;c.id=k}g.apis[e.name].visualElem=a('<div class="media-element-box mm-'+g.nodeName+'-box" />').insertAfter(c);g.nodeName==="audio"&&!j.controls?g.apis[e.name].visualElem.css({height:0,width:0,overflow:"hidden"}):g.apis[e.name].visualElem.css({width:o.width(),height:o.height()});g.apis[e.name]._embed(e.src,g.name+"-"+k,j,function(n){g.apis[e.name].apiElem=n;a(n).addClass(g.nodeName);g.apis[e.name]._init()})},getPluginVersion:function(c){var e=
navigator.plugins&&navigator.plugins[c];c=-1;if(e)if((e=(e.description||"").match(/(\d+\.\d+)/)||["0"])&&e[0])c=parseFloat(e[0],10);return c},embedObject:function(c,e,g,j,o){c=a("<div />").appendTo(c)[0];var k;if(!window.ActiveXObject||!c.outerHTML){k=f.createElement("object");a.each(g,function(n,r){k.setAttribute(n,r)});a.each(j,function(n,r){var x=f.createElement("param");x.setAttribute("name",n);x.setAttribute("value",r);k.appendChild(x)});k.setAttribute("id",e);k.setAttribute("name",e);c.parentNode.replaceChild(k,
c)}else{k="<object";a.each(a.extend({},g,o),function(n,r){k+=" "+n+'="'+r+'"'});k+=' name="'+e+'"';k+=' id="'+e+'"';k+=">";a.each(j,function(n,r){k+=' <param name="'+n+'" value="'+r+'" />'});k+="</object>";c.outerHTML=k;k=f.getElementById(e)}if(k){k.setAttribute("width","100%");k.setAttribute("height","100%");k.style.display.width="100%";k.style.display.height="100%"}a(window).unload(function(){jQuery.cleanData([k]);k=null});return k}});b.add("nativ","video",{});b.add("nativ","audio",{});a.fn.mediaElementEmbed=
function(c){c=a.extend(true,{},a.fn.mediaElementEmbed.defaults,c);return this.each(function(){var e=this.nodeName.toLowerCase();if(!(e!=="video"&&e!=="audio")){var g=this;if(c.removeControls){this.controls=false;a(this).removeAttr("controls")}var j=b.helper._create(e,"nativ",this,c);j.name="nativ";j.apis.nativ.apiElem=this;a.each(b.apis[e],function(o){o!=="nativ"&&b.helper._create(e,o,g,c)});c.debug||!a.support.mediaElements||this.error?s(this,c):j.apis[j.name]._init();a(this).bind("mediaerror",function(){j.name===
"nativ"&&s(this,c)}).bind("loadedmetadata",m)}})};a.fn.mediaElementEmbed.defaults={debug:false,removeControls:false,apiOrder:[]};if(a.cleanData){var y=a.cleanData;a.cleanData=function(c){y(c);for(var e=0,g=c.length;e<g;e++)if(c[e].nodeName==="OBJECT")try{for(var j in c[e])if(typeof c[e][j]==="function")c[e][j]=null}catch(o){}}}})(jQuery);
(function(a){function p(b,d,f,h,l){l=l||"bind";if(d)h();else l==="one"&&b.one(f,h);if(!d||l!=="one")b.bind(f,h)}function w(b,d){b=a(b);var f={},h=b.attr("data-controls");f.mm=h?a("#"+h):a("video, audio",b).filter(":first");f.api=f.mm.getMMAPI(true)||f.mm.mediaElementEmbed(d.embed).getMMAPI(true);if(b.is(d.controlSel))f.controls=b;else{f.controlsgroup=b;f.controls=a(d.controlSel,b);f.api.controlWrapper=b}f.api.controls=f.api.controls?f.api.controls.add(f.controls):f.controls;return f}var q=a.fn.a11ySlider?
"a11ySlider":"slider",s=/\s*\/\s*|\s*\|\s*/,m={"timeline-slider":function(b,d,f,h){function l(t,u){u.timeProgress!==undefined&&!v&&b[q]("value",u.timeProgress)}function i(){f.apis[f.name].loadedmeta&&f.apis[f.name].loadedmeta.duration?b[q]("option","disabled",false):b[q]("option","disabled",true)}var v=false;b[q](h.timeSlider)[q]("option","disabled",true);p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){d.bind("emptied loadedmeta",i).bind("timechange",l);b.bind("slidestart",function(t){if(t.originalEvent)v=
true}).bind("slidestop",function(){v=false}).bind("slide",function(t,u){t.originalEvent&&f.apis[f.name].relCurrentTime(u.value)});i()},"one")},"volume-slider":function(b,d,f,h){function l(v,t){i||b[q]("value",t.volumelevel)}var i=false;b[q](h.volumeSlider)[q]("option","disabled",true);p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){d.bind("volumelevelchange",l);b.bind("slidestart",function(v){if(v.originalEvent)i=true}).bind("slidestop",function(){i=false}).bind("slide",function(v,t){v.originalEvent&&
f.apis[f.name].volume(t.value)});b[q]("option","disabled",false);b[q]("value",f.apis[f.name].volume())},"one")},progressbar:function(b,d,f,h){function l(v,t){t.lengthComputable?b.progressbar("option","disabled",false).progressbar("value",t.relLoaded):b.progressbar("option","disabled",true)}function i(){b.progressbar("option","disabled",true).progressbar("value",0)}b.progressbar(h.progressbar).progressbar("option","disabled",true);p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){d.bind("progresschange",
l).bind("emptied",i)},"one")},duration:function(b,d,f,h){h.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");d.bind("loadedmeta emptied",function(l,i){b.html(f.apis[f.name]._format(i.duration))});p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){b.html(f.apis[f.name].getFormattedDuration())},"one")},"current-time":function(b,d,f,h){h.addThemeRoller&&b.addClass("ui-widget-content ui-corner-all");b.html("--:--");d.bind("timechange",function(l,i){b.html(f.apis[f.name]._format(i.time))});
p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){b.html(f.apis[f.name].getFormattedTime())},"one")},"media-controls":function(b,d,f,h){function l(){var t=b.innerWidth()+h.mediaControls.timeSliderAdjust,u=i.outerWidth(true)-i.innerWidth();a("> *",b).each(function(){if(i[0]!==this&&this.offsetWidth)u+=a(this).outerWidth(true)});i.css("width",t-u)}h.addThemeRoller&&b.addClass("ui-widget ui-widget-header ui-corner-all");if(h.mediaControls.dynamicTimeslider){var i=a("."+h.classPrefix+"timeline-slider",
b),v=setTimeout(l,0);p(d,f.apis[f.name].isAPIReady,"mmAPIReady",function(){clearInterval(v);setTimeout(l,0)},"one");a(window).bind("resize",l);d.bind("resize emchange",l)}}};a.each({"play-pause":{stateMethod:"isPlaying",actionMethod:"togglePlay",evts:"play playing pause ended",trueClass:"ui-icon-pause",falseClass:"ui-icon-play"},"mute-unmute":{stateMethod:"muted",actionMethod:"toggleMuted",evts:"mute",trueClass:"ui-icon-volume-off",falseClass:"ui-icon-volume-on"}},function(b,d){m[b]=function(f,h,
l,i){function v(){if(l.apis[l.name][d.stateMethod]()){u.text(y[1]);t.addClass(d.trueClass).removeClass(d.falseClass)}else{u.text(y[0]);t.addClass(d.falseClass).removeClass(d.trueClass)}}var t=a(".ui-icon",f),u=a(".button-text",f),y=u.text().split(s);i.addThemeRoller&&f.addClass("ui-state-default ui-corner-all");t[0]||(t=f);u[0]||(u=f);if(y.length<2)y=[y[0],y[1]];p(h,l.apis[l.name].isAPIReady,"mmAPIReady",function(){h.bind(d.evts,v);v()},"one");f.bind("click",function(c){l.apis[l.name][d.actionMethod]();
c.preventDefault()})}});a.fn.registerMMControl=function(b){function d(){var f=w(this,b);f.api&&f.controls.each(function(){var h=a(this);a.each(m,function(l,i){if(h.hasClass(b.classPrefix+l)){i(h,f.mm,f.api,b);return false}})})}b=a.extend(true,{},a.fn.registerMMControl.defaults,b);b.controlSel=[];a.each(m,function(f){f!=="media-controls"&&b.controlSel.push("."+b.classPrefix+f)});b.controlSel.push("."+b.classPrefix+"media-controls");b.controlSel=b.controlSel.join(", ");return this.each(d)};a.fn.registerMMControl.defaults=
{embed:a.fn.mediaElementEmbed.defaults,classPrefix:"",addThemeRoller:true,mediaControls:{dynamicTimeslider:true,timeSliderAdjust:0},progressbar:{},volumeSlider:{},timeSlider:{}};a.fn.registerMMControl.addControl=function(b,d){m[b]=d}})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{jwPlayer:{path:"player.swf",vars:{},attrs:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});var p={type:"application/x-shockwave-flash"},w={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},q=a.multimediaSupport,s={isTechAvailable:function(){if(a.support.flash9!==undefined)return a.support.flash9;a.support.flash9=false;var m=q.getPluginVersion("Shockwave Flash");if(m>=9)a.support.flash9=true;else if(window.ActiveXObject)try{m=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(!m)return;if((m=m.GetVariable("$version").match(/(\d+\,\d+)/))&&m[0])if(parseFloat(m[0].replace(",","."),10)>=9)a.support.flash9=true}catch(b){}return a.support.flash9},_embed:function(m,b,d,f){var h=this.embedOpts.jwPlayer;m=a.extend({},h.vars,{file:m,id:b});var l=a.extend({name:b,data:h.path},h.attrs,p),i=a.extend({movie:h.path},h.params);if(d.poster)m.image=d.poster;m.autostart=""+d.autoplay;m.repeat=d.loop?"single":"false";m.controlbar=d.controls?
"bottom":"none";if((h.playFirstFrame||d.autobuffer)&&!d.poster&&!d.autoplay){this.data.playFirstFrame=true;m.autostart="true"}i.flashvars=[];a.each(m,function(v,t){i.flashvars.push(v+"="+t)});i.flashvars=i.flashvars.join("&");f(q.embedObject(this.visualElem[0],b,l,i,w))},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E"],canPlayContainer:["video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla",
"audio/fla"]};q.add("jwPlayer","video",s);q.add("jwPlayer","audio",s)})(jQuery);
(function(a){function p(b){b=b.replace(q,"");return a.data(w.getElementById(b),"mediaElemSupport").apis.jwPlayer}var w=document,q=/^jwPlayer-/,s={View:{PLAY:function(b){(b=b.state&&p(b.id))&&b._trigger("play")}},Model:{META:function(b){if(b.type==="metadata"){var d=p(b.id);d&&d._trigger({type:"loadedmeta",duration:b.duration})}},TIME:function(b){var d=p(b.id),f={type:"timechange",time:b.position};if(d){d.loadedmeta||d._trigger({type:"loadedmeta",duration:b.duration});d.currentPos=b.position;if(b.duration){f.duration=
b.duration;f.timeProgress=b.position/b.duration*100}if(b.position&&d.data.playFirstFrame&&!d.data.playThrough){d.pause();d.data.playThrough=true}d._trigger(f)}},STATE:function(b){if(b.newstate==="IDLE")return false;var d=p(b.id),f;if(!d)return false;switch(b.newstate){case "PLAYING":f="playing";break;case "PAUSED":f="pause";break;case "COMPLETED":f="ended";break;case "BUFFERING":f="waiting";break}f&&d._trigger(f);return f}},Controller:{VOLUME:function(b){var d=p(b.id);d&&d._trigger({type:"volumelevelchange",
volumelevel:b.percentage})},MUTE:function(b){var d=p(b.id);d&&d._trigger({type:"mute",isMuted:b.state})}}};window.jwEvents={four:a.extend(true,{},s,{Model:{LOADED:function(b){var d=p(b.id);if(d){var f={type:"progresschange",lengthComputable:!!b.total,loaded:b.loaded};b.total&&a.extend(f,{total:b.total,relLoaded:b.total/b.loaded*100});d._trigger(f)}}}}),five:a.extend(true,{},s,{Model:{BUFFER:function(b){var d=p(b.id);if(d){b={type:"progresschange",lengthComputable:!!isFinite(b.percentage),relLoaded:b.percentage};
d._trigger(b)}},STATE:function(b){s.Model.STATE(b)==="playing"&&api._trigger("play")}}})};window.playerReady=function(b){var d=p(b.id);if(d){var f=parseInt(b.version,10)>4?"five":"four";a.each(jwEvents[f],function(h,l){a.each(l,function(i){d.apiElem["add"+h+"Listener"](i,"jwEvents."+f+"."+h+"."+i)})});d._trigger("mmAPIReady")}};var m={play:function(){this.data.playThrough=true;this.apiElem.sendEvent("PLAY","true");this._trigger("play")},pause:function(){this.apiElem.sendEvent("PLAY","false")},isPlaying:function(){var b=
this.apiElem.getConfig();return b?b.state==="PLAYING":undefined},_mmload:function(b){this.apiElem.sendEvent("LOAD",b);a.attr(this.html5elem,"autoplay")||this.apiElem.sendEvent("PLAY","false")},muted:function(b){if(typeof b!=="boolean")return(this.apiElem.getConfig()||{}).mute;this.apiElem.sendEvent("mute",b?"true":false)},currentTime:function(b){if(!isFinite(b))return this.currentPos||0;var d=this.apiElem.getConfig().state==="PLAYING";d||this.apiElem.sendEvent("PLAY","true");this.apiElem.sendEvent("SEEK",
""+b);d||this.apiElem.sendEvent("PLAY","false")},getDuration:function(){var b=this.apiElem.getPlaylist()[0].duration||0;return b<0?0:b},volume:function(b){if(!isFinite(b))return parseInt(this.apiElem.getConfig().volume,10);this.apiElem.sendEvent("VOLUME",""+b)}};a.multimediaSupport.add("jwPlayer","video",m);a.multimediaSupport.add("jwPlayer","audio",m)})(jQuery);
(function(a){a.extend(a.fn.mediaElementEmbed.defaults,{vlc:{params:{},attrs:{}}});var p=a.multimediaSupport,w={pluginspage:"http://www.videolan.org",version:"VideoLAN.VLCPlugin.2",progid:"VideoLAN.VLCPlugin.2",events:"true",type:"application/x-vlc-plugin"},q={classid:"clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921"},s={isTechAvailable:function(){if(a.support.vlc!==undefined)return a.support.vlc;a.support.vlc=false;if(p.getPluginVersion("VLC Multimedia Plug-in")>=0.9)a.support.vlc=true;else if(window.ActiveXObject)try{if(new ActiveXObject("VideoLAN.VLCPlugin.2"))a.support.vlc=
true}catch(m){}return a.support.vlc},_embed:function(m,b,d,f){var h=this.embedOpts.vlc,l=a.extend({},h.attrs,{width:"100%",height:"100%",src:m},w);m=a.extend({},h.params,{src:m,showdisplay:"true",autoplay:""+d.autoplay,autoloop:""+d.loop});b=p.embedObject(this.visualElem[0],b,l,m,q);f(b)},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","theora","vorbis"],canPlayContainer:["video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv",
"audio/mpeg","audio/x-fla","audio/fla","video/ogg","video/x-ogg","audio/x-ogg","audio/ogg","application/ogg","application/x-ogg"]};p.add("vlc","video",s);p.add("vlc","audio",s)})(jQuery);
(function(a){function p(d){function f(){try{if(d.apiElem.input){w("mmAPIReady",d);clearInterval(h);if(a.attr(d.html5elem,"autoplay"))s.start(d);else{d.apiElem.playlist.stop();setTimeout(function(){d.apiElem.playlist.stop()},0)}}}catch(l){}}var h;clearInterval(h);h=setInterval(f,333);f()}function w(d,f){setTimeout(function(){f._trigger(d)},0)}function q(d){setTimeout(function(){d._intervalCheck()},9)}var s={start:function(d){s.end(d);d._intervalCheckTimer=setInterval(function(){d._intervalCheck.call(d)},
1E3)},end:function(d){d._intervalCheckTimer&&clearInterval(d._intervalCheckTimer)}},m={2:"waiting",3:"playing",4:"pause",6:"ended"},b={_init:function(){p(this)},_intervalCheck:function(){var d=this.apiElem,f=d.input.state,h=this,l={type:"loadedmeta",duration:d.input.length/1E3},i;if(f&&f>1&&!this.data.metaLoaded||this.data.metaLoaded&&this.data.metaLoaded.duration!==l.duration){w(l,h);this.data.metaLoaded=l}i={type:"timechange",time:d.input.time/1E3};if(f&&f>1&&this.data.time!==i.time){if(l.duration){i.duration=
l.duration;i.timeProgress=d.input.position*100}this.data.time=i.time;w(i,h)}i={type:"mute",isMuted:d.audio.mute};if(i.isMuted!==this.data.isMuted){this.data.isMuted=i.isMuted;w(i,h)}i={type:"volumelevelchange",volumelevel:d.audio.volume/2};if(i.volumelevel!==this.data.volumelevel){this.data.volumelevel=i.volumelevel;w(i,h)}if(f!==this.data.state){this.data.state=f;m[f]&&w(m[f],h);m[f]==="ended"&&d.playlist.stop();if(f===3)s.start(h);else if(f===4||f===5||f===6||f===7)s.end(h)}},play:function(){this.apiElem.playlist.play();
this._trigger("play");s.start(this);q(this)},pause:function(){if(m[this.apiElem.input.state]==="playing"){s.end(this);this.apiElem.playlist.togglePause();q(this)}},isPlaying:function(){var d=false;try{d=m[this.apiElem.input.state]==="playing"}catch(f){}return d},_mmload:function(d){a(this.html5elem).unbind("playing.enterFullscreen");this.apiElem.playlist.stop();this.data={};this.apiElem.playlist.playItem(this.apiElem.playlist.add(d));this.apiElem.playlist.items.clear();if(!a.attr(this.html5elem,"autoplay")){s.end(this);
this.apiElem.playlist.stop()}},currentTime:function(d){try{if(!isFinite(d))return this.apiElem.input.time/1E3;this.apiElem.input.time=d*1E3;q(this)}catch(f){if(!isFinite(d))return 0}},getDuration:function(){var d;try{d=this.apiElem.input.length/1E3||0}catch(f){d=0}return d},volume:function(d){if(!isFinite(d))return parseInt(this.apiElem.audio.volume/2,10);this.apiElem.audio.volume=d*2;q(this)},muted:function(d){if(typeof d!=="boolean")return this.apiElem.audio.mute;this.apiElem.audio.mute=d;q(this)}};
a.multimediaSupport.add("vlc","video",a.extend({_videoFullscreen:true,enterFullScreen:function(){if(this.isPlaying())this.apiElem.video.fullscreen=true;else{var d=this;a(d.html5elem).one("playing.enterFullscreen",function(){d.apiElem.video.fullscreen=true});this.play()}},exitFullScreen:function(){this.apiElem.video.fullscreen=false}},b));a.multimediaSupport.add("vlc","audio",b)})(jQuery);
