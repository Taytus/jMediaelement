/**!
 * Part of the jMediaelement-Project v1.3RC1 | http://github.com/aFarkas/jMediaelement
 * @author Alexander Farkas
 * Copyright 2010, Alexander Farkas
 * Dual licensed under the MIT or GPL Version 2 licenses.
 */
(function(c){function z(){c.event.special.mediaerror.handler.apply(c(this).closest("video, audio")[0],arguments)}function D(a){if(c.support.mediaElements){var b=c.data(this,"mediaElemSupport");if(b&&b.apis){a&&a.type&&c.data(this,"calledMediaError",false);b=b.apis;a=this;var d=c.attr(this,"srces");if(a.error||d.length&&!b.nativ.canPlaySrces(d)){c.event.special.mediaerror.handler.call(this,c.Event("mediaerror"));try{a.pause()}catch(e){}}c("source",this).unbind("error",z).filter(":last").bind("error",
z)}}}function s(a){var b=a.indexOf("?"),d="";a=b>0?a.substring(0,b):a;b=a.lastIndexOf(".")+1;return d=a.substr(b)}function v(a,b){var d=a.nodeName.toLowerCase();b=k.getSuitedPlayers(a,b.apiOrder);var e=c.data(a,"mediaElemSupport");if(b){if(b!=="noSource")if(k._setAPIActive(a,b.name))e.apis[b.name]._mmload&&e.apis[b.name]._mmload(b.src,c.attr(a,"poster"));else k._embedApi(a,b,e,d)}else{e.apis.nativ._trigger({type:"totalerror"});try{a.pause()}catch(f){}}}c.multimediaSupport={};var k=c.multimediaSupport,
B=(new Date).getTime(),w=document,i=c("<video />")[0],l=!("webkitPreservesPitch"in i&&parseFloat(c.browser.version,10)<534&&(navigator.userAgent.indexOf("Chrome")!==-1||navigator.userAgent.indexOf("Mac")===-1));c.support.video=!!i.canPlayType;c.support.autoBuffer=!!("autobuffer"in i);c.support.audio=!!c("<audio />")[0].canPlayType;i=null;c("<source />");c("<track />");c.support.mediaElements=c.support.video&&c.support.audio;c.support.dynamicHTML5=!!c("<video><div></div></video>")[0].innerHTML;c.support.mediaLoop=
"loop"in c("<video />")[0];c.browser.deprecatedPoster=!l;c.fixHTML5=function(){var a,b;return c.support.dynamicHTML5?function(d){return d}:function(d){if(!a){b=document.body;a=document.createElement("div");a.style.display="none"}var e=a.cloneNode(false);b.appendChild(e);e.innerHTML=d;b.removeChild(e);return e.childNodes}}();var m={left:"0px",position:"absolute",visibility:"hidden",display:"block"},q=function(a,b){var d=b.parentNode;b=document.body;for(var e={width:0,height:0};d&&d!==b;){if(c.curCSS(d,
"display")==="none"){c.swap(d,m,function(){var f=false;if(c.curCSS(d,"display",true)==="none"){d.style.display="";f=c.attr(d,"style");c.attr(d,"style",f+"; display: block !important;")}e.height=a.innerHeight();e.width=a.innerWidth();if(!e.width&&!e.height)e=q(a,d);f!==false&&c.attr(d,"style",f)});if(e.width||e.height)break}d=d.parentNode}return e},n=["float"];c.each(["Top","Left","Right","Bottom"],function(a,b){n.push("margin"+b);n.push("padding"+b);n.push("border"+b+"Width");setTimeout(function(){k._transferStyles.push("border"+
b+"Color");k._transferStyles.push("border"+b+"Style")},1)});c.fn.getDimensions=function(){var a={width:0,height:0};if(this[0]){var b=this,d=this[0].style;a.height=d.height;a.width=d.width;c.each(n,function(e,f){a[f]=d[f]||b.css(f)});if(!a.width||!a.height||a.height=="auto"||a.width=="auto"){a.height=this.innerHeight();a.width=this.innerWidth();if(!a.width&&!a.height)a=q(this,this[0])}}return a};var p=c.attr,C=/video|audio|source/i,o={src:1,poster:1},x={loop:1,autoplay:1,controls:1},A={srces:1,getConfig:1,
preload:1},u={auto:1,metadata:1,none:1},r={change:function(a,b,d){if(c.support.mediaElements){var e=a.getAttribute("preload")||"metadata3";if(d||b!==e)if(l){if(c.support.autoBuffer)a.autobuffer=b==="auto"}else if(b==="none"||e==="none"&&(b==="auto"||!a.getAttribute("poster"))){c(a).unbind("play",r.changePlayMode);b==="none"&&c(a).bind("play",r.changePlayMode);c.attr(a,"srces",c.attr(a,"srces"),b)}}},changeAutoplay:function(a,b){if(c.support.mediaElements&&!l&&c.attr(a,"preload")==="none"&&b!==c.attr(a,
"autoplay")){var d=c.attr(a,"srces");c.attr(a,"srces",d,"auto");d.length&&b&&setTimeout(function(){a.play&&c(a).getMediaAPI()==="nativ"&&a.play()},9)}},changePlayMode:function(){r.changeAutoplay(this,true)},addSrces:function(a,b,d){if(l||!c.support.mediaElements)return false;d=d||c.attr(a,"preload");c(a).unbind("play",r.changePlayMode);if(d==="auto"||c.attr(a,"autoplay"))return c.data(a,"jme-srces",false);c(a).bind("play",r.changePlayMode);c.data(a,"jme-srces",b);return true}};c.attr=function(a,b,
d,e){if(!(a.nodeName&&C.test(a.nodeName)&&(A[b]||x[b]||o[b])))return p(a,b,d,e);var f;if(d===undefined){if(x[b])return typeof a[b]==="boolean"?a[b]:!!(a.attributes[b]||{}).specified;if(o[b])return c.support.video&&a[b]||k.makeAbsURI(a.getAttribute(b));switch(b){case "srces":if(f=c.data(a,"jme-srces"))break;if(f=c.attr(a,"src"))f=[{src:f,type:a.getAttribute("type"),media:a.getAttribute("media")}];else{f=[];c("source",a).each(function(){f.push({src:c.attr(this,"src"),type:this.getAttribute("type"),
media:this.getAttribute("media")})});f.length||c("a.source",a).each(function(){f.push({src:this.href,type:this.getAttribute("type"),media:this.getAttribute("data-media")})})}break;case "getConfig":f={};c.each(["autoplay","loop","controls","poster","preload"],function(g,h){f[h]=c.attr(a,h)});break;case "preload":f=a.preload||a.getAttribute("preload");if(f==="")f="auto";u[f]||(f="metadata");break}return f}else if(x[b]){d=!!d;a[b]=d;b==="autoplay"&&r.changeAutoplay(a,d);if(d){a[b]=d;a.setAttribute(b,
b)}else{a[b]=d;a.removeAttribute(b)}}else if(o[b])a.setAttribute(b,d);else if(b==="srces"){c("source, a.source",a).remove();a.removeAttribute("src");d=c.isArray(d)?d:[d];r.addSrces(a,d,e)||c.each(d,function(g,h){f=w.createElement("source");if(typeof h==="string")h={src:h};f.setAttribute("src",h.src);h.type&&f.setAttribute("type",h.type);h.media&&f.setAttribute("media",h.media);a.appendChild(f)})}else if(b==="getConfig")c.each(d,function(g,h){c.attr(a,g,h)});else if(b==="preload"){if(d==="")d="auto";
else u[d]||(d="metadata");r.change(a,d,e);a.setAttribute(b,d)}};c.event.special.mediaerror={setup:function(){var a=c(this).bind("error",c.event.special.mediaerror.handler).bind("native_mediareset",D);setTimeout(function(){a.each(D)},0)},teardown:function(){c(this).unbind("error",c.event.special.mediaerror.handler).find("source").unbind("error",z)},handler:function(a){if(!c.data(this,"calledMediaError")){a=c.extend({},a||{},{type:"mediaerror"});c.data(this,"calledMediaError",true);return c.event.handle.apply(this,
arguments)}}};var y={audio:{"audio/ogg":["ogg","oga","ogm"],"audio/mpeg":["mp2","mp3","mpga","mpega"],"audio/mp4":["mp4","mpg4"],"audio/wav":["wav"],"audio/x-m4a":["m4a"],"audio/x-m4p":["m4p"],"audio/3gpp":["3gp","3gpp"],"audio/webm":["webm"]},video:{"video/ogg":["ogg","ogv","ogm"],"video/mpeg":["mpg","mpeg","mpe"],"video/mp4":["mp4","mpg4","m4v"],"video/quicktime":["mov","qt"],"video/x-msvideo":["avi"],"video/x-ms-asf":["asf","asx"],"video/flv":["flv","f4v"],"video/3gpp":["3gp","3gpp"],"video/webm":["webm"]}};
c.extend(k,{jsPath:function(){var a=c("script");a=a[a.length-1].src.split("?")[0];return a.slice(0,a.lastIndexOf("/")+1)}(),extendWithData:function(){var a={string:1,number:1,"boolean":1};return function(b,d,e){e||(e=d);c.each(e,c.isArray(e)?function(f,g){k.getData(b,g,d)}:function(f,g){a[typeof g]&&k.getData(b,f,d)});return d}}(),getData:function(){var a=function(b,d){b=b.getAttribute("data-"+d);if(!(!b&&b!==""))return b*1==b?parseFloat(b,10):b==="false"?false:b==="true"?true:b};return function(b,
d,e){var f=d;e=e||{};if(typeof d==="string")d=[f];c.each(d,c.isArray(d)?function(g,h){g=a(b,h);if(g!==undefined)e[h]=g}:function(g){var h=a(b,g);if(h!==undefined)e[g]=h});return e}}(),registerMimetype:function(a,b){arguments.length===1?c.each(y,function(d){k.registerMimetype(d,a)}):c.each(b,function(d,e){if(y[a][d])y[a][d]=[];y[a][d]=y[a][d].concat(e)})},_showMimeTypes:function(){window.console&&console.log(y)},add:function(a,b,d){if(!this.apis[b][a]){this.apis[b][a]=k.beget(this.fn);a!=="nativ"&&
c.inArray(a,c.fn.jmeEmbed.defaults.apiOrder)===-1&&c.fn.jmeEmbed.defaults.apiOrder.push(a)}c.extend(true,this.apis[b][a],d)},fn:{_init:c.noop,canPlayType:function(a){var b=this.apiElem,d;if(b&&b.canPlayType){d=b.canPlayType(a);return d==="no"?"":d}a=k.extractContainerCodecsFormType(a);var e=this;d="probably";if(!a[1])return this.canPlayContainer&&c.inArray(a[0],this.canPlayContainer)!==-1?"maybe":"";c.each(a[1],function(f,g){if(!e.canPlayCodecs||c.inArray(g,e.canPlayCodecs)===-1){d="";return false}});
return d},canPlaySrc:function(a){var b=this;if(typeof a!=="string"){if(a.type)return this.canPlayType(a.type);a=a.src}var d=s(a),e="";c.each(y[this.nodeName],function(f,g){if(c.inArray(d,g)!==-1){e=b.canPlayType(f);return false}});return e},canPlaySrces:function(a){a=a||c.attr(this.element,"srces");c.isArray(a)||(a=[a]);var b=this,d=false,e="";c.each(a,function(f,g){if(d=b.canPlaySrc(g)){e=g;return false}});return e},_setActive:c.noop,_setInactive:c.noop,_trigger:function(a){c(this.element).triggerHandler(a,
a)}},apis:{audio:{},video:{}},extractContainerCodecsFormType:function(a){a=a.split(/\s*;\s*/g);if(a[1]&&a[1].indexOf("codecs")!==-1)a[1]=a[1].replace(/["|']$/,"").replace(/^\s*codecs=('|")/,"").split(/\s*,\s*/g);return a},makeAbsURI:function(){return function(a){if(a&&typeof a==="string")a=c('<a href="'+a+'"></a>')[0].href;return a}}(),beget:function(a){var b=function(){};b.prototype=a;return new b},_create:function(a,b,d,e){var f=c.data(d,"mediaElemSupport")||c.data(d,"mediaElemSupport",{apis:{},
nodeName:a});if(!f.apis[b]){f.apis[b]=k.beget(k.apis[a][b]);f.apis[b].element=d;f.apis[b].nodeName=a;f.apis[b].name=b;f.apis[b].data={};f.apis[b].embedOpts=e}return f},_transferStyles:["backgroundColor","backgroundPosition","backgroundImage","backgroundRepeat","background-attachment"],_setAPIActive:function(a,b){var d=c.data(a,"mediaElemSupport"),e=d.name;if(e===b)return true;var f=d.apis[e].apiElem,g=d.apis[b]&&d.apis[b].apiElem,h=false;if(g&&g.nodeName){if(d.nodeName!=="audio"||c.attr(a,"controls"))b===
"nativ"?d.apis[b].visualElem.css({display:""}):d.apis[b].visualElem.css(c.extend({visibility:""},d.apis[e].visualElem.getDimensions()));d.apis[b]._setActive(e);h=true;d.apis[b]._trigger({type:"apiActivated",api:b});if(d.apis[e]){d.apis[e]._volumelevelState!==undefined&&c(a).volumelevel(d.apis[e]._volumelevelState);d.apis[e]._muteState!==undefined&&c(a).muted(d.apis[e]._muteState);d.apis[e].visualElem&&c.each(k._transferStyles,function(j,t){d.apis[b].visualElem.css(t,d.apis[e].visualElem.css(t))})}}d.apis[b].isAPIActive=
true;if(f&&f.nodeName){if(e==="nativ")f.style.display="none";else d.apis[e].visualElem.css({height:0,width:0,visibility:"hidden"});d.apis[e]._setInactive(b);d.apis[e].isAPIActive=false;d.apis[b]._trigger({type:"apiDeActivated",api:e})}d.name=b;return h},getSuitedPlayers:function(a,b){var d=c.data(a,"mediaElemSupport");if(d&&d.apis){d=d.apis;var e=c.attr(a,"srces"),f=false,g=function(h,j){if(!(typeof j.isTechAvailable==="boolean"&&!j.isTechAvailable||c.isFunction(j.isTechAvailable)&&!j.isTechAvailable())){if(j=
j.canPlaySrces(e))f={src:j.src||j,name:h};return f}};if(!e.length)return"noSource";b?c.each(b,function(h,j){return!g(j,d[j])}):c.each(d,function(h,j){return!g(h,j)});return f}},_embedApi:function(a,b,d){var e=c.attr(a,"getConfig"),f=c(a),g=a.id,h=f.attr("aria-labelledby");if(!g){B++;g=d.nodeName+"-"+B;a.id=g}d.apis[b.name].visualElem=c('<div class="media-element-box mm-'+d.nodeName+'-box" style="position: relative;" />').insertBefore(a);h&&d.apis[b.name].visualElem.attr({role:"group","aria-labelledby":h});
if(d.nodeName==="audio"&&!e.controls)d.apis[b.name].visualElem.css({height:0,width:0});else{d.apis[b.name].visualElem.css(f.getDimensions());c.each(k._transferStyles,function(j,t){d.apis[b.name].visualElem.css(t,f.css(t))})}d.apis[b.name]._embed(b.src,d.name+"-"+g,e,function(j){d.apis[b.name].apiElem=j;c(j).addClass(d.nodeName);e.controls||c(j).attr({tabindex:"-1",role:"presentation"});d.apis[b.name]._init();d.apis[b.name]._trigger({type:"apiActivated",api:b.name})})},getPluginVersion:function(a,
b){b=b||navigator.plugins&&navigator.plugins[a];a=[-1,0];if(b)if((b=(b.description||"").replace(/,/g,".").match(/(\d+)/g)||["0"])&&b[0]){a[0]=b[0];if(b[1])a[0]+="."+b[1];a[0]=parseFloat(a[0],10);if(b[2])a[1]=parseInt(b[2],10)}return a},embedObject:function(a,b,d,e,f){a.style.overflow="hidden";a=c("<div />").prependTo(a)[0];var g;if(navigator.plugins&&navigator.plugins.length){g=w.createElement("object");c.each(d,function(h,j){g.setAttribute(h,j)});c.each(e,function(h,j){var t=w.createElement("param");
t.setAttribute("name",h);t.setAttribute("value",j);g.appendChild(t)});g.setAttribute("id",b);g.setAttribute("name",b);if(e.wmode==="transparent"){g.style.minHeight="1px";g.style.minHeight="1px"}a.parentNode.replaceChild(g,a)}else if(window.ActiveXObject){g='<object style="width: 100%; height: 100%; width="100%" height="100%"';c.each(c.extend({},d,f),function(h,j){g+=" "+h+'="'+j+'"'});g+=' name="'+b+'"';g+=' id="'+b+'"';g+=">";c.each(e,function(h,j){g+=' <param name="'+h+'" value="'+j+'" />'});g+=
"</object>";a.outerHTML=g;g=w.getElementById(b)}if(g){g.setAttribute("width","100%");g.setAttribute("height","100%")}c(window).unload(function(){jQuery.cleanData([g]);g=null});setTimeout(function(){if(g&&g.style){g.style.width="100%";g.style.height="100%"}},0);return g}});k.add("nativ","video",{});k.add("nativ","audio",{});var E=function(){var a=c(this).hide().children(":not(source, track)").clone().insertAfter(this);c(this).one("mediareset",function(){c(this).show();a.remove()})};c.fn.jmeEmbed=function(a){a=
c.extend(true,{},c.fn.jmeEmbed.defaults,a);a.showFallback&&c.support.mediaElements&&this.bind("totalerror",E);return this.each(function(){var b=this.nodeName.toLowerCase();if(!(b!=="video"&&b!=="audio")){var d=this;c("object, embed",this).each(function(){c("> *:not(param, embed, object)",this).appendTo(d)}).remove();c(this).trigger("jmeBeforeEmbed",{options:a,nodeName:b});a.removeControls&&c.attr(this,"controls",false);var e=k._create(b,"nativ",this,a);e.name="nativ";e.apis.nativ.apiElem=this;e.apis.nativ.visualElem=
c(this);e.apis.nativ.isAPIActive=true;c.each(k.apis[b],function(f){f!=="nativ"&&k._create(b,f,d,a)});c(this).bind("mediaerror",function(){e.name==="nativ"&&v(this,a)});if(a.debug||!c.support.mediaElements){v(this,a);e.apis.nativ.isAPIReady=true}else e.apis.nativ._init();c.attr(this,"preload",c.attr(this,"preload"),true);c(this).trigger("jmeEmbed",{options:a,nodeName:b,data:e})}})};c.fn.jmeEmbed.defaults={debug:false,removeControls:false,showFallback:false,apiOrder:[]};c.fn.mediaElementEmbed=c.fn.jmeEmbed;
if(c.cleanData&&window.ActiveXObject){var F=c.cleanData;c.cleanData=function(a){F(a);for(var b=0,d=a.length;b<d;b++)if(a[b].nodeName==="OBJECT")try{for(var e in a[b])if(typeof a[b][e]==="function")a[b][e]=null}catch(f){}}}})(jQuery);
(function(c){var z={type:"application/x-shockwave-flash"},D={classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},s=c.multimediaSupport;c.extend(c.fn.jmeEmbed.defaults,{jwPlayer:{path:s.jsPath+"player.swf",hideIcons:"auto",vars:{},attrs:{},plugins:{},params:{allowscriptaccess:"always",allowfullscreen:"true"}}});c(function(){var i=(c("script.jwPlayer")[0]||{}).src;if(i)c.fn.jmeEmbed.defaults.jwPlayer.path=i});var v={A:/&amp;/g,a:/&/g,e:/\=/g,q:/\?/g},k={audio:"sound",video:"video"},B=function(i){return i.replace?
i.replace(v.A,"%26").replace(v.a,"%26").replace(v.e,"%3D").replace(v.q,"%3F"):i};(function(){c.support.flash9=false;var i=s.getPluginVersion("Shockwave Flash"),l=function(q){c.support.flash9=false;try{if(q&&typeof q.GetVariable!=="undefined"){var n=q.GetVariable("$version");q=s.getPluginVersion("",{description:n});c.support.flash9=!!(q[0]>9||q[0]===9&&q[1]>=115)}}catch(p){}};if(i[0]>9||i[0]===9&&i[1]>=115){c.support.flash9=true;c(function(){i=c("<object />",z).appendTo("body");l(i[0]);i.remove()})}else if(window.ActiveXObject)try{i=
new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l(i);i=null}catch(m){}})();var w={isTechAvailable:function(){return c.support.flash9},_extendJWLoad:function(i,l,m){m=m||this.element;s.extendWithData(m,l,["type","provider","stretching","bufferlength"]);if(!this.canPlaySrc(i)){if(!l.provider)l.provider=k[this.nodeName];if(!l.type)l.type=k[this.nodeName]}return l},_embed:function(i,l,m,q){var n=this.embedOpts.jwPlayer,p=c.extend({},n.vars,{file:i,id:l}),C=c.extend({name:l,data:n.path},n.attrs,z),
o=c.extend({movie:n.path},n.params),x=[],A=this;this._extendJWLoad(i,p);if(m.poster)p.image=m.poster;p.autostart=""+m.autoplay;p.repeat=m.loop?"single":"false";p.controlbar=m.controls?"bottom":"none";if(!m.controls&&this.nodeName!=="audio"&&o.wmode===undefined)o.wmode="transparent";if(!m.controls&&n.hideIcons&&o.wmode==="transparent"||n.hideIcons===true){p.icons="false";p.showicons="false"}if(o.wmode==="transparent"&&!p.screencolor&&!C.bgcolor){p.screencolor="ffffffff";C.bgcolor="#000000"}o.flashvars=
[];c.each(p,function(u,r){o.flashvars.push(B(u)+"="+B(r))});c.each(n.plugins,function(u,r){x.push(r)});x.length&&o.flashvars.push("plugins="+x.join(","));o.flashvars=o.flashvars.join("&");q(s.embedObject(this.visualElem[0],l,C,o,D,"Shockwave Flash"));setTimeout(function(){var u=c("object",A.visualElem)[0];if(!u||u.style.display==="none"&&c("> *",A.visualElem).length>1){c("div[bgactive]",A.visualElem).css({width:"100%",height:"100%"});A._trigger("flashblocker")}},9)},canPlaySrc:function(i){var l=s.fn.canPlaySrc.apply(this,
arguments),m=-1;m=i.src||i;if(!l&&typeof m==="string"){m=m.indexOf("youtube.com/");if(m<15&&m>6)l="maybe"}return l},canPlayCodecs:["avc1.42E01E","mp4a.40.2","avc1.58A01E","avc1.4D401E","avc1.64001E","VP6","mp3","AAC"],canPlayContainer:["video/3gpp","video/x-msvideo","video/quicktime","video/x-m4v","video/mp4","video/m4p","video/x-flv","video/flv","audio/mpeg","audio/mp3","audio/x-fla","audio/fla","youtube/flv","jwplayer/jwplayer"]};s.add("jwPlayer","video",w);s.add("jwPlayer","audio",w)})(jQuery);
