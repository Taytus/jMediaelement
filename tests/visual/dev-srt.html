<!DOCTYPE HTML>
<html>
	<head>
		<meta charset="utf-8">
		<title>Controls Demo</title>
		
		<link rel="stylesheet" href="../../css/styles.css" />
		<link rel="stylesheet" href="../../demos/player-style.css" />
		
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.1/jquery.min.js"></script>
		
		<!-- ui-components -->
		<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/jquery-ui.min.js"></script>
		
		<!-- END:  ui-components -->
		
		<!-- jQuery UI theme switcher -->
		<link class="ui-theme" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.7.2/themes/blitzer/jquery-ui.css"/>
		
		
		
		
		<!-- END: jQuery UI theme switcher -->
		
		
		
		<script src="../../src/mm.base-embed.js"></script>
		<script src="../../src/mm.base-api.js"></script>
		<script src="../../src/mm.base-controls.js"></script>
		
		
		<!-- for jw-player (mp4, flv, mp3) support -->
		<script src="../../swfobject/swfobject.js"></script>
		<script src="../../src/mm.jwplayer-embed.js"></script>
		
		<script src="../../src/mm.jwplayer-api.js"></script> 
		<!-- END: for jw-player (mp4, flv, mp3) support -->
		
		
		<script src="../../src/dev/itext.js"></script>
		<script>
			$('html').addClass('js-on');
			
			
			$(function(){
				if(!window.console){
					if(window.opera){
						window.console = {
							log: opera.postError
						};
					} else {
						window.console = {
							log: function(message){
								setTimeout(function(){
									throw message;
								}, 0);
							}
						};
					}
				}
								
				$('div[data-controlwrapper]').registerMMControl({
					embed: {
						jwPlayer: {
							path: '../../mediaplayers/jw-player/player.swf'
						}
					}
				});
				
				
				$('a.itext')
					.itext()
					.bind('showCaption', function(e, evt){
						$('div.caption').html(evt.caption.content);
					})
					.bind('hideCaption', function(e){
						$('div.caption').empty();
					})
					.triggerHandler('activateItext')
				;
				
			});
			
		</script>
		<!-- lazy load themeswitcher -->
		<script> 
			(function($){
				var script;
				function startThemeswitcher(){
					if(!this.readyState || this.readyState == "loaded" || this.readyState == "complete"){
						$('<div class="demo-themeswitcher" />').prependTo('body').themeswitcher({height: 150});
						script.unbind('load readystatechange');
					}
				}
				setTimeout(function(){
					script = $("<script src='http://ui.jquery.com/applications/themeroller/themeswitchertool/'><\/script>")
						.bind('load readystatechange', startThemeswitcher)
						.appendTo('head')
					;
				}, 9);
			})(jQuery);
		</script>	
	</head>
	<body>
		
		
		
		<div class="test-wrapper">
			<div class="ui-media-player" data-controlwrapper="controlwrapper">
				
				
				<video poster="../../demos/media/bbb_watchtrailer.gif" controls="controls" id="video-1">
					<source src="../../demos/media/bbb_trailer_400p.ogg"></source>
					<a class="source" href="../../demos/media/bbb_trailer_400p.ogg">title</a>
					<source src="../../demos/media/bbb_trailer_mobile.m4v"></source>
					<a class="source" href="../../demos/media/bbb_trailer_mobile.m4v">title</a>
					<!-- CC, TAD, SUB -->
					<a class="itext" data-category="SUB" href="test.srt" hreflang="en">title</a>
				</video>
				<div class="caption">
					
				</div>
				<div class="current-time"></div>
				<div class="duration"></div>
				<div class="media-controls ui-widget ui-widget-header ui-corner-all">
					<button class="play-pause"><span class="ui-icon ui-icon-play"> </span><span class="button-text">play / pause</span></button>
					<div class="timeline-slider">
						<span class="ui-slider-handle" tabindex="0"></span>
						<div class="progressbar"></div>
					</div>
					<button class="mute-unmute"><span class="ui-icon ui-icon-play"> </span><span class="button-text">mute / unmute</span></button>
					<div class="volume-slider"><span class="ui-slider-handle" tabindex="0"></span></div>
				</div>
			</div>
			<a href="http://blip.tv/file/get/N8inpasadena-Flowers457.flv" class="load-video">Load-flv</a>
			<a href="media/bbb_trailer_400p.ogg" class="load-video">Load-ogg</a>
			<a href="media/bbb_trailer_mobile.m4v" class="load-video">Load-m4v</a>
			<p>(c) copyright Blender Foundation | <a href="http://www.bigbuckbunny.org">www.bigbuckbunny.org</a></p>
		</div>
		
		<!--
		<button class="play-pause" data-controls="video-1"><span class="ui-icon ui-icon-play"> </span><span class="button-text">play / pause</span></button>
		-->
		
		
		
	</body>
</html>
