(function(a){a.webshims=a.webshims||{ready:function(a,g){g()},addReady:function(e){a(function(){e(document,a([]))})}};var i=a.webshims;if(!window.Modernizr||!("opacity"in Modernizr))a("html").addClass(a.support.opacity?"opacity":"no-opacity");if(!a.fn.callProp)a.fn.callProp=function(e,g){var c;g||(g=[]);this.each(function(){var b=a.prop(this,e);if(b&&b.apply&&(c=b.apply(this,g),void 0!==c))return!1});return void 0!==c?c:this};var l={},o={};a.jme={version:"2.0.0",classNS:"",options:{},plugins:{},data:function(e,
g,b){e=a(e).data(c+"jme")||a.data(e,c+"jme",{});if(void 0===b)return g?e[g]:e;e[g]=b},registerPlugin:function(a,g){this.plugins[a]=g;if(!g.nodeName)g.nodeName="";if(!g.className)g.className=a},defineMethod:function(a,g){o[a]=g},defineProp:function(e,g){if(!g.set)g.set=g.readonly?function(){throw e+" is readonly";}:a.noop;if(!g.get)g.get=function(g){return a.jme.data(g,e)};l[e]=g},prop:function(e,g,b){if(!l[g])return a.prop(e,g,b);if(void 0===b)return l[g].get(e);var c=l[g].set(e,b);void 0===c&&(c=
b);"noDataSet"!=c&&a.jme.data(e,g,c)},setText:function(e,g){var b=e;e&&g&&(b={},b[e]=g);a.each(b,function(e,g){if(a.jme.plugins[e])a.jme.plugins[e].text=g})}};var p=!0;try{a.access(a(document.documentElement),"t",void 0,!0,a.noop)}catch(s){p=!1}a.fn.jmeProp=p?function(e,g){return a.access(this,e,g,!0,a.jme.prop)}:function(e,g){return a.access(this,a.jme.prop,e,g,1<arguments.length)};a.fn.jmeFn=function(a){var g=Array.prototype.slice.call(arguments,1),b;this.each(function(){b=o[a].apply(this,g);if(void 0!==
b)return!1});return void 0!==b?b:this};var k,b=[],c="",d=function(){if(!k)c=a.jme.classNS,k="div."+c+"mediaplayer",a.each(a.jme.plugins,function(e,g){g.className=c+g.className;g.selector=g.nodeName+"."+g.className;b.push(g.selector);c&&g.pseudoClasses&&a.each(g.pseudoClasses,function(a,e){g.pseudoClasses[a]=c+e})}),b=b.join(",")},f={emptied:1,pause:1};a.jme.getDOMList=function(e){var g=[];e||(e=[]);"string"==typeof e&&(e=e.split(" "));a.each(e,function(a,e){e&&(e=document.getElementById(e))&&g.push(e)});
return g};"labels"in document.createElement("input")||i.ready("dom-support",function(){i.defineNodeNamesProperty&&i.defineNodeNamesProperty("button, input, keygen, meter, output, progress, select, textarea","labels",{prop:{get:function(){var e=[],g=this.id;g&&(e=a('label[for="'+g+'"]'));e[0]||(e=a(this).closest("label",this.form));return e[0]?e.get():null},writeable:!1}})});a.jme.getButtonText=function(e,g){var b=a("span.jme-text, +label span.jme-text",e),c=e.prop("labels");c&&(c=a(c));b[0]||(b=c||
e);var d=b.text().split("/"),f=e.prop("title").split("/"),h,m,r,n;2==d.length&&(d[0]=d[0].trim(),d[1]=d[1].trim(),m=!0);2==f.length&&(f[0]=f[0].trim(),f[1]=f[1].trim(),r=!0);e.is('[type="checkbox"], [type="radio"]')?(e.prop("checked",function(){return this.defaultChecked}),h=!0):e.is("a")&&e.bind("click",function(a){a.preventDefault()});return function(f){n!==f&&(n=f,m&&b.text(d[f||0]),r&&(e.prop("title",d[f||0]),c&&c.prop("title",d[f||0])),g&&e.removeClass(g[f?0:1]).addClass(g[f]),h&&(e.prop("checked",
!!f),(e.data("checkboxradio")||{refresh:a.noop}).refresh()))}};a.fn.jmePlayer=function(e){var g=["idle","playing","ended","waiting","mediaerror"].map(function(a){return c+"state-"+a}).join(" ");return this.each(function(){e&&a.jme.data(this,a.extend(!0,{},e));var d=a("audio, video",this).filter(":first"),j=a(this),t=a(b,j),h=a.jme.getDOMList(a.jme.data(this,"controls")),t=t.add(a(h)),h=a.jme.data(this),u=a.jme.data(d[0]),m,r;u.player=j;u.media=d;if(!h.media){r=!0;m=function(e){var e=e.type,b;if("ended"==
e||a.prop(this,"ended"))e="ended";"updateJMEState"==e&&(e=a.prop(this,"readyState"),b=a.prop(this,"paused"),e=!b&&3>e?"waiting":!b&&2<e?"playing":"idle");f[e]&&(e="idle");j.removeClass(g).addClass(c+"state-"+e)};h.media=d;h.player=j;d.bind("ended",function(){d.callProp("pause")}).bind("emptied waiting playing ended pause mediaerror",m).bind("volumechange updateJMEState",function(){j[a.prop(this,"muted")?"addClass":"removeClass"](c+"state-muted")}).bind("emptied updateJMEState play playing waiting",
function(e){var b;"emptied"==e.type?b="addClass":"play"==e.type||"waiting"==e.type||"playing"==e.type?b="removeClass":a.prop(this,"paused")&&(b="addClass");j[b](c+"state-initial")});var n,i;j.bind("useractive",function(){j.addClass(c+"useractive")}).bind("userinactive",{idletime:3500},function(){j.removeClass(c+"useractive")}).bind("focusin",function(){clearTimeout(n);j.addClass(c+"focusenter")}).bind("focusout",function(){clearTimeout(n);n=setTimeout(function(){j.removeClass(c+"focusenter")},1)}).bind("mouseenter focusin",
function(){clearTimeout(i);j.addClass(c+"fover")}).bind("mouseleave focusout",function(){clearTimeout(i);i=setTimeout(function(){j.removeClass(c+"fover")},1)})}j.jmeFn("addControls",t);r&&(h.controlbar&&j.jmeProp("controlbar",!0),m&&d.bind("updateJMEState",m).triggerHandler("updateJMEState"))})};a.jme.defineProp("isPlaying",{get:function(e){return!a.prop(e,"ended")&&!a.prop(e,"paused")&&1<a.prop(e,"readyState")&&!a.data(e,"mediaerror")},readonly:!0});a.jme.defineProp("player",{get:function(){return a.jme.data(this,
"player")||null},readonly:!0});a.jme.defineProp("media",{get:function(){return a.jme.data(this,"media")||null},readonly:!0});a.jme.defineProp("srces",{get:function(e){var e=a.jme.data(e),b=e.media.prop("src"),c=[];return b?[{src:b}]:c=a.map(a("source",e.media).get(),function(e){var b={src:a.prop(e,"src")},g=a.attr(e,"media");if(g)b.media=g;if(g=a.attr(e,"type"))b.type=g;return b})},set:function(e,b){var c=a.jme.data(e),d=function(e,b){"string"==typeof b&&(b={src:b});a(document.createElement("source")).attr(b).appendTo(c.media)};
c.media.removeAttr("src").find("source").remove();a.isArray(b)?a.each(b,d):d(0,b);c.media.callProp("load");return"noDataSet"}});a.jme.defineMethod("togglePlay",function(){a(this).callProp(l.isPlaying.get(this)?"pause":"play")});a.jme.defineProp("controlbar",{set:function(e,b){var b=!!b,d=a.jme.data(e),f=a("div.jme-default-media-overlay, div.jme-default-control-bar",d.player),h=a.jme.plugins["media-controls"],q="";b&&!f[0]?d._controlbar?d._controlbar.appendTo(d.player):(d.media.prop("controls",!1),
a.each(h.pluginOrder,function(b,e){var d=a.jme.plugins[e];d&&d.structure?q+=d.structure.replace("{%class%}",c+e).replace("{%text%}",d.text||""):e&&-1!=e.indexOf("<")&&(q+=e)}),d._controlbar=a(h.barStructure),f=d._controlbar.find("div.jme-cb-box").addClass(c+"media-controls"),h=d._controlbar.filter("div.jme-default-media-overlay").addClass(c+"play-pause"),h=h.add(f),h=h.add(a(q).appendTo(f)),d._controlbar.appendTo(d.player),d.player.jmeFn("addControls",h)):b||f.detach();h=f=null;return b}});a.jme.defineMethod("addControls",
function(e){var b=a.jme.data(this)||{};b.media&&(e=a(e),a.each(a.jme.plugins,function(d,c){e.filter("."+c.className).add(e.find("."+c.className)).each(function(){var e=a(this),d=a.jme.data(this);d.player=b.player;d.media=b.media;if(!d.rendered)d.rendered=!0,c.options&&a.each(c.options,function(a,b){a in d||(d[a]=b)}),c._create(e,b.media,b.player,d),e=null})}),b.player.triggerHandler("controlsadded"))});a.jme.defineMethod("updateControlbar",function(){var b=a("."+a.jme.classNS+"time-slider",this);
if(b[0]&&"absolute"!==b.css("position")){var d=Math.floor(b.parent().width())-0.1,c=0;b.hide().siblings().each(function(){this!==b[0]&&"absolute"!==a.css(this,"position")&&(c+=Math.ceil(a(this).outerWidth(!0))+0.1)}).end().show();b.width(d-c-Math.ceil(b.outerWidth(!0)-b.width())-0.3)}});a.jme.registerPlugin("media-controls",{pluginOrder:'play-pause,<div class="media-bar">,currenttime-display,time-slider,duration-display,<div class="volume-controls">,mute-unmute,volume-slider,</div>,fullscreen,</div>'.split(","),
barStructure:'<div class="jme-default-media-overlay"></div><div class="jme-default-control-bar"><div class="jme-cb-box"></div></div>',_create:function(b,d,c){var f,h=function(){clearTimeout(f);b.jmeFn("updateControlbar");f=setTimeout(function(){b.jmeFn("updateControlbar")},9)};setTimeout(function(){d.bind("loadedmetadata volumechange play pause ended emptied",h);c.bind("updatetimeformat controlsadded playerdimensionchange",h);a(window).bind("resize emchange",h)},1);h()}});(function(){var b={add:function(b,
e,d){var c=a.data(b,"jmeuseractivity")||a.data(b,"jmeuseractivity",{idletime:2500,idle:!0,trigger:{}}),f=a(b),h=function(){if(!c.idle)c.idle=!0,c.trigger.userinactive&&f.trigger("userinactive")},i,k,b=function(a){if(a&&!("mousemove"===a.type&&a.pageX===i&&a.pageY===k)){if("mousemove"===a.type)i=a.pageX,k=a.pageY;c.idleTimer&&clearTimeout(c.idleTimer);c.idleTimer=setTimeout(h,c.idletime);if(c.idle)c.idle=!1,c.trigger.useractive&&f.trigger("useractive")}};c.idletime=(e||{}).idletime||c.idletime;if(e&&
"idle"in e)c.idle=e.idle;c.trigger[d]=!0;if(!c.bound)f.bind("mouseleave.jmeuseractivity",h).bind("mousemove.jmeuseractivity focusin.jmeuseractivity mouseenter.jmeuseractivity keydown.jmeuseractivity keyup.jmeuseractivity mousedown.jmeuseractivity",b),c.bound=!0;c.idle||b({type:"initunidled"})},remove:function(b,e){var c=a.data(b,"jmeuseractivity")||a.data(b,"jmeuseractivity",{idletime:2500,idle:!0,trigger:{}});c.trigger[e]=!1;if(!c.trigger.useractive&&!c.trigger.userinactive)a(b).unbind(".jmeuseractivity"),
c.bound=!1}};a.each(["useractive","userinactive"],function(c,d){a.event.special[d]={setup:function(a){b.add(this,a,d)},teardown:function(){b.remove(this,d)}}})})();var h=function(b,c){a("video, audio",b).add(c.filter("video, audio")).filter("[data-muted]").each(function(){a.prop(this,"muted",!0)}).end().filter("[data-volume]").each(function(){var b=a(this).data("volume");1>=b&&0<=b&&a.prop(this,"volume",b)});a(k,b).add(c.filter(k)).jmePlayer()};a(function(){d();h(document,a([]))});i.ready("mediaelement",
function(){i.addReady(function(a,b){a!==document&&h(a,b)})})})(jQuery);
(function(a){function i(a,c){var d,f,h;return{get:function(){return h?void 0:a.apply(this,arguments)},set:function(){clearTimeout(d);clearTimeout(f);var a=this,b=arguments;h=!0;d=setTimeout(function(){c.apply(a,b);f=setTimeout(function(){h=!1},30)},0)}}}var l={play:1,playing:1},o=function(){a.webshims.loader&&(a.webshims.loader.loadList(["jquery-ui"]),a.webshims.modules["input-widgets"].src&&a.webshims.loader.loadList(["input-widgets"]))};a.jme.registerPlugin("play-pause",{pseudoClasses:{play:"state-paused",
pause:"state-playing"},structure:'<button class="{%class%}"><span class="jme-icon"></span><span class="jme-text">{%text%}</span></button>',text:"play / pause",_create:function(b,c){var d=a.jme.getButtonText(b,[this.pseudoClasses.play,this.pseudoClasses.pause]);c.bind("play playing ended pause updateJMEState",function(a){a=a.type;a="updateJMEState"==a?c.jmeProp("isPlaying")?1:0:l[a]?1:0;d(a)}).triggerHandler("updateJMEState");b.bind(b.is("select")?"change":"click",function(){c.jmeFn("togglePlay")})}});
a.jme.registerPlugin("mute-unmute",{pseudoClasses:{mute:"state-mute",unmute:"state-unmute"},structure:'<button class="{%class%}"><span class="jme-icon"></span><span class="jme-text">{%text%}</span></button>',text:"mute / unmute",_create:function(b,c){var d=a.jme.getButtonText(b,[this.pseudoClasses.mute,this.pseudoClasses.unmute]);c.bind("volumechange updateJMEState",function(){d(c.prop("muted")?1:0)}).triggerHandler("updateJMEState");b.bind(b.is("select")?"change":"click",function(){c.prop("muted",
!c.prop("muted"))})}});var p=function(b){var c=function(){if(!a.fn._uiSlider)!a.mobile||!a.mobile.slider?a.fn._uiSlider=a.fn.slider:a.widget("jme._uiSlider",a.ui.slider.prototype);b()};a.webshims.ready("jquery-ui",function(){!a.ui||!a.ui.slider?a.webshims.ready("input-widgets",c):c()})};a.jme.registerPlugin("volume-slider",{structure:'<div  class="{%class%}"></div>',_create:function(a,c){o();var d=i(function(){var d=c.prop("volume");void 0!==d&&a._uiSlider("value",d)},function(a){c.prop({muted:!1,
volume:a})});p(function(){a._uiSlider({range:"min",max:1,step:0.05,value:c.prop("volume"),slide:function(a,b){a.originalEvent&&d.set(b.value)}});c.bind("volumechange",d.get)})}});a.jme.registerPlugin("time-slider",{structure:'<div  class="{%class%}"></div>',options:{format:["mm","ss"]},_create:function(b,c,d){o();var f=i(function(){var a=c.prop("currentTime");isNaN(a)||b._uiSlider("value",a)},function(a){try{c.prop("currentTime",a)}catch(b){}});d.jmeFn("addControls",a('<div class="'+a.jme.classNS+
'buffer-progress" />').prependTo(b));p(function(){var a=c.prop("duration");b._uiSlider({range:"min",max:a||1,disabled:!a,step:0.1,value:c.prop("currentTime"),slide:function(a,b){a.originalEvent&&f.set(b.value)}});c.bind({timeupdate:f.get,emptied:function(){b._uiSlider("option","disabled",!0)},durationchange:function(){b._uiSlider("option","disabled",!1)._uiSlider("option","max",c.prop("duration"))}})})}});a.jme.defineMethod("concerningRange",function(b,c){var d={start:0,end:0};b||(b="buffered");b=
a.prop(this,b);null==c&&(c=a.prop(this,"currentTime"));if(!b||!("length"in b))return d;for(var f=0,h=b.length;f<h&&!(d.start=b.start(f),d.end=b.end(f),d.start<=c&&d.end>=c);f++);return d});a.jme.defineProp("progress",{get:function(b){b=a.jme.data(b);if(!b.media)return 0;b=100*(b.media.jmeFn("concerningRange").end/b.media.prop("duration"));99.4<b&&(b=100);return b||0},readonly:!0});a.jme.registerPlugin("buffer-progress",{_create:function(b,c,d,f){var h=a('<div class="'+a.jme.classNS+'buffer-progress-indicator" />').appendTo(b),
b=function(){var a=c.jmeProp("progress");if(f.progress!==a)f.progress=a,h.css("width",a+"%")};c.bind({progress:b,emptied:function(){h.css("width",0);f.progress=0},playing:b});b()}});var s={hh:6E4,mm:60,ss:1,ms:0.0010},k=function(b,c){var d;c||(c=["mm","ss"]);null==b&&(d=a.jme.data(this),b=a.prop(d.media,"duration"));b||(b=0);d=[];for(var f,h=0,e=c.length;h<e;h++)"ms"==c[h]&&h==e-1?f=Math.round(b/s[c[h]]/10):(f=parseInt(b/s[c[h]],10),b%=s[c[h]]),10>f&&(f="0"+f),d.push(f);return d.join(":")};a.jme.defineMethod("formatTime",
k);a.jme.defineProp("format",{set:function(b,c){a.isArray(c)||(c=c.split(":"));var d=a.jme.data(b);d.format=c;a(b).triggerHandler("updatetimeformat");d.player.triggerHandler("updatetimeformat");return"noDataSet"}});a.jme.registerPlugin("duration-display",{structure:'<div  class="{%class%}"></div>',options:{format:"mm:ss"},_create:function(a,c,d,f){if("string"==typeof f.format)f.format=f.format.split(":");d=function(){a.html(k(c.prop("duration"),f.format))};c.bind("durationchange emptied",d);a.bind("updatetimeformat",
d).jmeProp("format",f.format)}});a.jme.defineProp("countdown",{set:function(b,c){var d=a.jme.data(b);d.countdown=!!c;a(b).triggerHandler("updatetimeformat");d.player.triggerHandler("updatetimeformat");return"noDataSet"}});a.jme.registerPlugin("currenttime-display",{structure:'<div  class="{%class%}"></div>',options:{format:"mm:ss",countdown:!1},_create:function(a,c,d,f){if("string"==typeof f.format)f.format=f.format.split(":");d=function(){var d=c.prop("currentTime");f.countdown&&(d=(c.prop("duration")||
0)-d,0.7>d&&(d=0));a.html(k(d,f.format))};c.bind("timeupdate emptied durationchange",d);a.bind("updatetimeformat",d).jmeProp("format",f.format)}});a.jme.fullscreen=function(){var b,c,d={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(d){b=[];a(d).parentsUntil("body").each(function(){var d=a.curCSS(this,"position"),e=this.scrollLeft,g=this.scrollTop,f;c={elemStyle:this.style,elem:this};if("static"!==d)f=!0,c.pos=c.elemStyle.position,this.style.position="static";if(e)f=
!0,c.left=e;if(g)f=!0,c.top=g;f&&b.push(c)});c=null},cancelFullScreen:function(){b&&a.each(b,function(a,b){if("pos"in b)b.elemStyle.position=b.pos;if(b.left)b.elem.scrollLeft=b.left;if(b.top)b.elem.scrollTop=b.top})},eventName:"fullscreenchange",prefix:""},f="webkit moz o ms khtml".split(" ");if("undefined"!=typeof document.cancelFullScreen)d.supportsFullScreen=!0;else for(var h=0,e=f.length;h<e;h++)if(d.prefix=f[h],"undefined"!=typeof document[d.prefix+"CancelFullScreen"]){d.supportsFullScreen=!0;
break}if(d.supportsFullScreen)d.eventName=d.prefix+"fullscreenchange",d.isFullScreen=function(){switch(d.prefix){case "":return document.fullScreen;case "webkit":return document.webkitIsFullScreen;default:return document[d.prefix+"FullScreen"]}},d.requestFullScreen=function(a){return""===d.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},d.cancelFullScreen=function(){return""===d.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()};return d}();a.jme.defineProp("fullscreen",
{set:function(b,c){var d=a.jme.data(b);if(!d||!d.player)return"noDataSet";if(c){if(d.player.hasClass(a.jme.classNS+"player-fullscreen"))return"noDataSet";d.scrollPos={top:a(window).scrollTop(),left:a(window).scrollLeft()};a(document).unbind(".jmefullscreen").bind("keydown.jmefullscreen",function(a){if(27==a.keyCode)return d.player.jmeProp("fullscreen",!1),!1});try{a.jme.fullscreen.requestFullScreen(d.player[0])}catch(f){}a("html").addClass(a.jme.classNS+"has-media-fullscreen");d.player.addClass(a.jme.classNS+
"player-fullscreen");d.media.addClass(a.jme.classNS+"media-fullscreen");a.jme.fullscreen.supportsFullScreen&&a(document).bind(a.jme.fullscreen.eventName+".jmefullscreen",function(c){var f=a.jme.fullscreen.isFullScreen();f&&b==c.target?a(b).triggerHandler("playerdimensionchange",["fullscreen"]):f||d.player.jmeProp("fullscreen",!1)});d.player.triggerHandler("playerdimensionchange",["fullwindow"]);d.media.callProp("play")}else{if(!d.player.hasClass(a.jme.classNS+"player-fullscreen"))return"noDataSet";
a(document).unbind(".jmefullscreen");a("html").removeClass(a.jme.classNS+"has-media-fullscreen");d.player.removeClass(a.jme.classNS+"player-fullscreen");d.media.removeClass(a.jme.classNS+"media-fullscreen");try{a.jme.fullscreen.cancelFullScreen()}catch(h){}d.player.triggerHandler("playerdimensionchange");d.scrollPos&&(a(window).scrollTop(d.scrollPos.top),a(window).scrollLeft(d.scrollPos.left),delete d.scrollPos)}return"noDataSet"},get:function(b){if((b=a.jme.data(b))&&b.player)return!b.player.hasClass(a.jme.classNS+
"player-fullscreen")?!1:a.jme.fullscreen.isFullScreen()||"fullwindow"}});a.jme.registerPlugin("fullscreen",{pseudoClasses:{enter:"state-enterfullscreen",exit:"state-exitfullscreen"},structure:'<button class="{%class%}"><span class="jme-icon"></span><span class="jme-text">{%text%}</span></button>',text:"enter fullscreen / exit fullscreen",_create:function(b,c,d){var f=a.jme.getButtonText(b,[this.pseudoClasses.enter,this.pseudoClasses.exit]),c=function(){f(d.hasClass(a.jme.classNS+"player-fullscreen")?
1:0)};d.bind("playerdimensionchange",c);b.bind(b.is("select")?"change":"click",function(){d.jmeProp("fullscreen",!d.hasClass(a.jme.classNS+"player-fullscreen"))});c()}});a.jme.registerPlugin("poster-display",{structure:"<div />",options:{},_create:function(b,c){var d=function(){var d=c.prop("poster");d?b.html('<span></span><img src="'+d+'" class="'+a.jme.classNS+'poster-image" />'):b.empty()};c.bind("emptied",d);d()}})})(jQuery);
